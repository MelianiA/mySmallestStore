(self.webpackChunkmyStore=self.webpackChunkmyStore||[]).push([[179],{2011:(Rt,We,$)=>{"use strict";$.d(We,{Dh:()=>Ne,GT:()=>Re,cc:()=>Ke,hO:()=>mt,on:()=>X,pX:()=>fe,xv:()=>Ae});var h=$(5e3),te=$(127),H=$(5813);Rt=$.hmd(Rt);const ve=["ngOnDestroy"],fe=(_e,It,_t,$e={})=>new Proxy(_e,{get:(Ue,D)=>_t.runOutsideAngular(()=>{var ct;if(_e[D])return(null===(ct=null==$e?void 0:$e.spy)||void 0===ct?void 0:ct.get)&&$e.spy.get(D,_e[D]),_e[D];if(ve.indexOf(D)>-1)return()=>{};const at=It.toPromise().then(pe=>{const ue=pe&&pe[D];return"function"==typeof ue?ue.bind(pe):ue&&ue.then?ue.then(be=>_t.run(()=>be)):_t.run(()=>ue)});return new Proxy(()=>{},{get:(pe,ue)=>at[ue],apply:(pe,ue,be)=>at.then(De=>{var Ee;const tt=De&&De(...be);return(null===(Ee=null==$e?void 0:$e.spy)||void 0===Ee?void 0:Ee.apply)&&$e.spy.apply(D,be,tt),tt})})})}),Re=(_e,It)=>{It.forEach(_t=>{Object.getOwnPropertyNames(_t.prototype||_t).forEach($e=>{Object.defineProperty(_e.prototype,$e,Object.getOwnPropertyDescriptor(_t.prototype||_t,$e))})})};class Ie{constructor(It){return It}}const Ne=new h.OlP("angularfire2.app.options"),Ae=new h.OlP("angularfire2.app.name");function X(_e,It,_t){const Ue="object"==typeof _t&&_t||{};Ue.name=Ue.name||"string"==typeof _t&&_t||"[DEFAULT]";const ct=te.Z.apps.filter(at=>at&&at.name===Ue.name)[0]||It.runOutsideAngular(()=>te.Z.initializeApp(_e,Ue));try{JSON.stringify(_e)!==JSON.stringify(ct.options)&&ee("error",`${ct.name} Firebase App already initialized with different options${Rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(at){}return new Ie(ct)}const ee=(_e,...It)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[_e](...It)},de={provide:Ie,useFactory:X,deps:[Ne,h.R0b,[new h.FiY,Ae]]};let mt=(()=>{class _e{constructor(_t){te.Z.registerVersion("angularfire",H.q4.full,"core"),te.Z.registerVersion("angularfire",H.q4.full,"app-compat"),te.Z.registerVersion("angular",h.q4F.full,_t.toString())}static initializeApp(_t,$e){return{ngModule:_e,providers:[{provide:Ne,useValue:_t},{provide:Ae,useValue:$e}]}}}return _e.\u0275fac=function(_t){return new(_t||_e)(h.LFG(h.Lbi))},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({providers:[de]}),_e})();function Ke(_e,It,_t,$e,Ue){const[,D,ct]=globalThis.\u0275AngularfireInstanceCache.find(at=>at[0]===_e)||[];if(D)return function He(_e,It){try{return _e.toString()===It.toString()}catch(_t){return _e===It}}(Ue,ct)||(Me("error",`${It} was already initialized on the ${_t} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:Ue,was:ct})),D;{const at=$e();return globalThis.\u0275AngularfireInstanceCache.push([_e,at,Ue]),at}}const Ve=!!Rt.hot,Me=(_e,...It)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[_e](...It)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Rt,We,$)=>{"use strict";$.d(We,{q4:()=>ic,iC:()=>lc,fc:()=>Hr,HU:()=>vl,vb:()=>fd,JM:()=>ia});var h=$(5e3),te=$(5867),H=$(5861),ve=$(9681),fe=$(2090),Re=$(4859),Ie=$(1877);const Ne="@firebase/installations",ee="w:0.5.8",de="FIS_v2",_e=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function It(S){return S instanceof fe.ZR&&S.code.includes("request-failed")}function _t({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function $e(S){return{token:S.token,requestStatus:2,expiresIn:be(S.expiresIn),creationTime:Date.now()}}function Ue(S,M){return D.apply(this,arguments)}function D(){return(D=(0,H.Z)(function*(S,M){const z=(yield M.json()).error;return _e.create("request-failed",{requestName:S,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function ct({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function at(S,{refreshToken:M}){const L=ct(S);return L.append("Authorization",function De(S){return`${de} ${S}`}(M)),L}function pe(S){return ue.apply(this,arguments)}function ue(){return(ue=(0,H.Z)(function*(S){const M=yield S();return M.status>=500&&M.status<600?S():M})).apply(this,arguments)}function be(S){return Number(S.replace("s","000"))}function Ee(S,M){return tt.apply(this,arguments)}function tt(){return(tt=(0,H.Z)(function*({appConfig:S,heartbeatServiceProvider:M},{fid:L}){const z=_t(S),le=ct(S),me=M.getImmediate({optional:!0});if(me){const tn=yield me.getHeartbeatsHeader();tn&&le.append("x-firebase-client",tn)}const Xe={method:"POST",headers:le,body:JSON.stringify({fid:L,authVersion:de,appId:S.appId,sdkVersion:ee})},Dt=yield pe(()=>fetch(z,Xe));if(Dt.ok){const tn=yield Dt.json();return{fid:tn.fid||L,registrationStatus:2,refreshToken:tn.refreshToken,authToken:$e(tn.authToken)}}throw yield Ue("Create Installation",Dt)})).apply(this,arguments)}function Te(S){return new Promise(M=>{setTimeout(M,S)})}const kn=/^[cdef][\w-]{21}$/;function Nt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const L=function Ht(S){return function Jt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return kn.test(L)?L:""}catch(S){return""}}function wn(S){return`${S.appName}!${S.appId}`}const Gn=new Map;function zr(S,M){const L=wn(S);On(L,M),function bn(S,M){const L=function fr(){return!wr&&"BroadcastChannel"in self&&(wr=new BroadcastChannel("[Firebase] FID Change"),wr.onmessage=S=>{On(S.data.key,S.data.fid)}),wr}();L&&L.postMessage({key:S,fid:M}),function qs(){0===Gn.size&&wr&&(wr.close(),wr=null)}()}(L,M)}function On(S,M){const L=Gn.get(S);if(L)for(const z of L)z(M)}let wr=null;const rr="firebase-installations-store";let yi=null;function _i(){return yi||(yi=(0,fe.X3)("firebase-installations-database",1,(S,M)=>{0===M&&S.createObjectStore(rr)})),yi}function Ye(S,M){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,H.Z)(function*(S,M){const L=wn(S),le=(yield _i()).transaction(rr,"readwrite"),me=le.objectStore(rr),Je=yield me.get(L);return yield me.put(M,L),yield le.complete,(!Je||Je.fid!==M.fid)&&zr(S,M.fid),M})).apply(this,arguments)}function Pr(S){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,H.Z)(function*(S){const M=wn(S),z=(yield _i()).transaction(rr,"readwrite");yield z.objectStore(rr).delete(M),yield z.complete})).apply(this,arguments)}function Ri(S,M){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,H.Z)(function*(S,M){const L=wn(S),le=(yield _i()).transaction(rr,"readwrite"),me=le.objectStore(rr),Je=yield me.get(L),Xe=M(Je);return void 0===Xe?yield me.delete(L):yield me.put(Xe,L),yield le.complete,Xe&&(!Je||Je.fid!==Xe.fid)&&zr(S,Xe.fid),Xe})).apply(this,arguments)}function er(S){return ur.apply(this,arguments)}function ur(){return(ur=(0,H.Z)(function*(S){let M;const L=yield Ri(S.appConfig,z=>{const le=Wr(z),me=Wi(S,le);return M=me.registrationPromise,me.installationEntry});return""===L.fid?{installationEntry:yield M}:{installationEntry:L,registrationPromise:M}})).apply(this,arguments)}function Wr(S){return Dn(S||{fid:Nt(),registrationStatus:0})}function Wi(S,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(_e.create("app-offline"))};const L={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},z=function gn(S,M){return xt.apply(this,arguments)}(S,L);return{installationEntry:L,registrationPromise:z}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:$t(S)}:{installationEntry:M}}function xt(){return(xt=(0,H.Z)(function*(S,M){try{const L=yield Ee(S,M);return Ye(S.appConfig,L)}catch(L){throw It(L)&&409===L.customData.serverCode?yield Pr(S.appConfig):yield Ye(S.appConfig,{fid:M.fid,registrationStatus:0}),L}})).apply(this,arguments)}function $t(S){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,H.Z)(function*(S){let M=yield Zi(S.appConfig);for(;1===M.registrationStatus;)yield Te(100),M=yield Zi(S.appConfig);if(0===M.registrationStatus){const{installationEntry:L,registrationPromise:z}=yield er(S);return z||L}return M})).apply(this,arguments)}function Zi(S){return Ri(S,M=>{if(!M)throw _e.create("installation-not-found");return Dn(M)})}function Dn(S){return function Ni(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function br(S,M){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,H.Z)(function*({appConfig:S,heartbeatServiceProvider:M},L){const z=Pt(S,L),le=at(S,L),me=M.getImmediate({optional:!0});if(me){const tn=yield me.getHeartbeatsHeader();tn&&le.append("x-firebase-client",tn)}const Xe={method:"POST",headers:le,body:JSON.stringify({installation:{sdkVersion:ee,appId:S.appId}})},Dt=yield pe(()=>fetch(z,Xe));if(Dt.ok)return $e(yield Dt.json());throw yield Ue("Generate Auth Token",Dt)})).apply(this,arguments)}function Pt(S,{fid:M}){return`${_t(S)}/${M}/authTokens:generate`}function Qn(S){return qt.apply(this,arguments)}function qt(){return(qt=(0,H.Z)(function*(S,M=!1){let L;const z=yield Ri(S.appConfig,me=>{if(!rn(me))throw _e.create("not-registered");const Je=me.authToken;if(!M&&Q(Je))return me;if(1===Je.requestStatus)return L=vt(S,M),me;{if(!navigator.onLine)throw _e.create("app-offline");const Xe=ne(me);return L=Ft(S,Xe),Xe}});return L?yield L:z.authToken})).apply(this,arguments)}function vt(S,M){return ze.apply(this,arguments)}function ze(){return(ze=(0,H.Z)(function*(S,M){let L=yield wt(S.appConfig);for(;1===L.authToken.requestStatus;)yield Te(100),L=yield wt(S.appConfig);const z=L.authToken;return 0===z.requestStatus?Qn(S,M):z})).apply(this,arguments)}function wt(S){return Ri(S,M=>{if(!rn(M))throw _e.create("not-registered");return function xe(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Ft(S,M){return ln.apply(this,arguments)}function ln(){return(ln=(0,H.Z)(function*(S,M){try{const L=yield br(S,M),z=Object.assign(Object.assign({},M),{authToken:L});return yield Ye(S.appConfig,z),L}catch(L){if(!It(L)||401!==L.customData.serverCode&&404!==L.customData.serverCode){const z=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield Ye(S.appConfig,z)}else yield Pr(S.appConfig);throw L}})).apply(this,arguments)}function rn(S){return void 0!==S&&2===S.registrationStatus}function Q(S){return 2===S.requestStatus&&!function Z(S){const M=Date.now();return M<S.creationTime||S.creationTime+S.expiresIn<M+36e5}(S)}function ne(S){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:M})}function lt(){return(lt=(0,H.Z)(function*(S){const M=S,{installationEntry:L,registrationPromise:z}=yield er(M);return z?z.catch(console.error):Qn(M).catch(console.error),L.fid})).apply(this,arguments)}function xn(){return(xn=(0,H.Z)(function*(S,M=!1){const L=S;return yield ni(L),(yield Qn(L,M)).token})).apply(this,arguments)}function ni(S){return An.apply(this,arguments)}function An(){return(An=(0,H.Z)(function*(S){const{registrationPromise:M}=yield er(S);M&&(yield M)})).apply(this,arguments)}function or(S){return _e.create("missing-app-config-values",{valueName:S})}const qo="installations",rt=S=>{const M=S.getProvider("app").getImmediate(),L=function Ms(S){if(!S||!S.options)throw or("App Configuration");if(!S.name)throw or("App Name");const M=["projectId","apiKey","appId"];for(const L of M)if(!S.options[L])throw or(L);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(M);return{app:M,appConfig:L,heartbeatServiceProvider:(0,ve._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},hn=S=>{const M=S.getProvider("app").getImmediate(),L=(0,ve._getProvider)(M,qo).getImmediate();return{getId:()=>function he(S){return lt.apply(this,arguments)}(L),getToken:le=>function Gt(S){return xn.apply(this,arguments)}(L,le)}};(function Jn(){(0,ve._registerComponent)(new Re.wA(qo,rt,"PUBLIC")),(0,ve._registerComponent)(new Re.wA("installations-internal",hn,"PRIVATE"))})(),(0,ve.registerVersion)(Ne,"0.5.8"),(0,ve.registerVersion)(Ne,"0.5.8","esm2017");const kr="@firebase/remote-config",lr=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Eo{constructor(M,L,z,le){this.client=M,this.storage=L,this.storageCache=z,this.logger=le}isCachedDataFresh(M,L){if(!L)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-L,le=z<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${le}.`),le}fetch(M){var L=this;return(0,H.Z)(function*(){const[z,le]=yield Promise.all([L.storage.getLastSuccessfulFetchTimestampMillis(),L.storage.getLastSuccessfulFetchResponse()]);if(le&&L.isCachedDataFresh(M.cacheMaxAgeMillis,z))return le;M.eTag=le&&le.eTag;const me=yield L.client.fetch(M),Je=[L.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&Je.push(L.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(Je),me})()}}function Ha(S=navigator){return S.languages&&S.languages[0]||S.language}class $a{constructor(M,L,z,le,me,Je){this.firebaseInstallations=M,this.sdkVersion=L,this.namespace=z,this.projectId=le,this.apiKey=me,this.appId=Je}fetch(M){var L=this;return(0,H.Z)(function*(){const[z,le]=yield Promise.all([L.firebaseInstallations.getId(),L.firebaseInstallations.getToken()]),Je=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${L.projectId}/namespaces/${L.namespace}:fetch?key=${L.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},Dt={sdk_version:L.sdkVersion,app_instance_id:z,app_instance_id_token:le,app_id:L.appId,language_code:Ha()},tn={method:"POST",headers:Xe,body:JSON.stringify(Dt)},mn=fetch(Je,tn),an=new Promise((bs,Ls)=>{M.signal.addEventListener(()=>{const Ia=new Error("The operation was aborted.");Ia.name="AbortError",Ls(Ia)})});let $r;try{yield Promise.race([mn,an]),$r=yield mn}catch(bs){let Ls="fetch-client-network";throw"AbortError"===bs.name&&(Ls="fetch-timeout"),lr.create(Ls,{originalErrorMessage:bs.message})}let Tr=$r.status;const du=$r.headers.get("ETag")||void 0;let Ea,Vi;if(200===$r.status){let bs;try{bs=yield $r.json()}catch(Ls){throw lr.create("fetch-client-parse",{originalErrorMessage:Ls.message})}Ea=bs.entries,Vi=bs.state}if("INSTANCE_STATE_UNSPECIFIED"===Vi?Tr=500:"NO_CHANGE"===Vi?Tr=304:("NO_TEMPLATE"===Vi||"EMPTY_CONFIG"===Vi)&&(Ea={}),304!==Tr&&200!==Tr)throw lr.create("fetch-status",{httpStatus:Tr});return{status:Tr,eTag:du,config:Ea}})()}}class qa{constructor(M,L){this.client=M,this.storage=L}fetch(M){var L=this;return(0,H.Z)(function*(){const z=(yield L.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return L.attemptFetch(M,z)})()}attemptFetch(M,{throttleEndTimeMillis:L,backoffCount:z}){var le=this;return(0,H.Z)(function*(){yield function mr(S,M){return new Promise((L,z)=>{const le=Math.max(M-Date.now(),0),me=setTimeout(L,le);S.addEventListener(()=>{clearTimeout(me),z(lr.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,L);try{const me=yield le.client.fetch(M);return yield le.storage.deleteThrottleMetadata(),me}catch(me){if(!function Mu(S){if(!(S instanceof fe.ZR&&S.customData))return!1;const M=Number(S.customData.httpStatus);return 429===M||500===M||503===M||504===M}(me))throw me;const Je={throttleEndTimeMillis:Date.now()+(0,fe.$s)(z),backoffCount:z+1};return yield le.storage.setThrottleMetadata(Je),le.attemptFetch(M,Je)}})()}}class Ru{constructor(M,L,z,le,me){this.app=M,this._client=L,this._storageCache=z,this._storage=le,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ga(S,M){const L=S.target.error||void 0;return lr.create(M,{originalErrorMessage:L&&L.message})}const Ys="app_namespace_store";class sd{constructor(M,L,z,le=function id(){return new Promise((S,M)=>{try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=z=>{M(Ga(z,"storage-open"))},L.onsuccess=z=>{S(z.target.result)},L.onupgradeneeded=z=>{0===z.oldVersion&&z.target.result.createObjectStore(Ys,{keyPath:"compositeKey"})}}catch(L){M(lr.create("storage-open",{originalErrorMessage:L}))}})}()){this.appId=M,this.appName=L,this.namespace=z,this.openDbPromise=le}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var L=this;return(0,H.Z)(function*(){const z=yield L.openDbPromise;return new Promise((le,me)=>{const Xe=z.transaction([Ys],"readonly").objectStore(Ys),Dt=L.createCompositeKey(M);try{const tn=Xe.get(Dt);tn.onerror=mn=>{me(Ga(mn,"storage-get"))},tn.onsuccess=mn=>{const an=mn.target.result;le(an?an.value:void 0)}}catch(tn){me(lr.create("storage-get",{originalErrorMessage:tn&&tn.message}))}})})()}set(M,L){var z=this;return(0,H.Z)(function*(){const le=yield z.openDbPromise;return new Promise((me,Je)=>{const Dt=le.transaction([Ys],"readwrite").objectStore(Ys),tn=z.createCompositeKey(M);try{const mn=Dt.put({compositeKey:tn,value:L});mn.onerror=an=>{Je(Ga(an,"storage-set"))},mn.onsuccess=()=>{me()}}catch(mn){Je(lr.create("storage-set",{originalErrorMessage:mn&&mn.message}))}})})()}delete(M){var L=this;return(0,H.Z)(function*(){const z=yield L.openDbPromise;return new Promise((le,me)=>{const Xe=z.transaction([Ys],"readwrite").objectStore(Ys),Dt=L.createCompositeKey(M);try{const tn=Xe.delete(Dt);tn.onerror=mn=>{me(Ga(mn,"storage-delete"))},tn.onsuccess=()=>{le()}}catch(tn){me(lr.create("storage-delete",{originalErrorMessage:tn&&tn.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class cl{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,H.Z)(function*(){const L=M.storage.getLastFetchStatus(),z=M.storage.getLastSuccessfulFetchTimestampMillis(),le=M.storage.getActiveConfig(),me=yield L;me&&(M.lastFetchStatus=me);const Je=yield z;Je&&(M.lastSuccessfulFetchTimestampMillis=Je);const Xe=yield le;Xe&&(M.activeConfig=Xe)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Io(){return dl.apply(this,arguments)}function dl(){return(dl=(0,H.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(S){return!1}})).apply(this,arguments)}!function zo(){(0,ve._registerComponent)(new Re.wA("remote-config",function S(M,{instanceIdentifier:L}){const z=M.getProvider("app").getImmediate(),le=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw lr.create("registration-window");if(!(0,fe.hl)())throw lr.create("indexed-db-unavailable");const{projectId:me,apiKey:Je,appId:Xe}=z.options;if(!me)throw lr.create("registration-project-id");if(!Je)throw lr.create("registration-api-key");if(!Xe)throw lr.create("registration-app-id");const Dt=new sd(Xe,z.name,L=L||"firebase"),tn=new cl(Dt),mn=new Ie.Yd(kr);mn.logLevel=Ie.in.ERROR;const an=new $a(le,ve.SDK_VERSION,L,me,Je,Xe),$r=new qa(an,Dt),Tr=new Eo($r,Dt,tn,mn),du=new Ru(z,Tr,tn,Dt,mn);return function gr(S){const M=(0,fe.m9)(S);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(du),du},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(kr,"0.3.7"),(0,ve.registerVersion)(kr,"0.3.7","esm2017")}();const ga="/firebase-messaging-sw.js",Rs="/firebase-cloud-messaging-push-scope",ri="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qs="google.c.a.c_id",Do="google.c.a.c_l",hl="google.c.a.ts",od="google.c.a.e";var Oi=(()=>{return(S=Oi||(Oi={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Oi;var S})();function bi(S){const M=new Uint8Array(S);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zo(S){const L=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(L),le=new Uint8Array(z.length);for(let me=0;me<z.length;++me)le[me]=z.charCodeAt(me);return le}const Za="fcm_token_details_db",Zr="fcm_token_object_Store";function p(S){return w.apply(this,arguments)}function w(){return w=(0,H.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(me=>me.name).includes(Za))return null;let M=null;return(yield(0,fe.X3)(Za,5,function(){var z=(0,H.Z)(function*(le,me,Je,Xe){var Dt;if(me<2||!le.objectStoreNames.contains(Zr))return;const tn=Xe.objectStore(Zr),mn=yield tn.index("fcmSenderId").get(S);if(yield tn.clear(),mn)if(2===me){const an=mn;if(!an.auth||!an.p256dh||!an.endpoint)return;M={token:an.fcmToken,createTime:null!==(Dt=an.createTime)&&void 0!==Dt?Dt:Date.now(),subscriptionOptions:{auth:an.auth,p256dh:an.p256dh,endpoint:an.endpoint,swScope:an.swScope,vapidKey:"string"==typeof an.vapidKey?an.vapidKey:bi(an.vapidKey)}}}else if(3===me){const an=mn;M={token:an.fcmToken,createTime:an.createTime,subscriptionOptions:{auth:bi(an.auth),p256dh:bi(an.p256dh),endpoint:an.endpoint,swScope:an.swScope,vapidKey:bi(an.vapidKey)}}}else if(4===me){const an=mn;M={token:an.fcmToken,createTime:an.createTime,subscriptionOptions:{auth:bi(an.auth),p256dh:bi(an.p256dh),endpoint:an.endpoint,swScope:an.swScope,vapidKey:bi(an.vapidKey)}}}});return function(le,me,Je,Xe){return z.apply(this,arguments)}}())).close(),yield(0,fe.Lj)(Za),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),C(M)?M:null}),w.apply(this,arguments)}function C(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:M}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const O="firebase-messaging-store";let V=null;function K(){return V||(V=(0,fe.X3)("firebase-messaging-database",1,(S,M)=>{0===M&&S.createObjectStore(O)})),V}function G(S){return oe.apply(this,arguments)}function oe(){return(oe=(0,H.Z)(function*(S){const M=Ct(S),z=yield(yield K()).transaction(O).objectStore(O).get(M);if(z)return z;{const le=yield p(S.appConfig.senderId);if(le)return yield we(S,le),le}})).apply(this,arguments)}function we(S,M){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,H.Z)(function*(S,M){const L=Ct(S),le=(yield K()).transaction(O,"readwrite");return yield le.objectStore(O).put(M,L),yield le.complete,M})).apply(this,arguments)}function ge(S){return ke.apply(this,arguments)}function ke(){return(ke=(0,H.Z)(function*(S){const M=Ct(S),z=(yield K()).transaction(O,"readwrite");yield z.objectStore(O).delete(M),yield z.complete})).apply(this,arguments)}function Ct({appConfig:S}){return S.appId}const ft=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ir(S,M){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,H.Z)(function*(S,M){const L=yield Fn(S),z=kt(M),le={method:"POST",headers:L,body:JSON.stringify(z)};let me;try{me=yield(yield fetch(Xt(S.appConfig),le)).json()}catch(Je){throw ft.create("token-subscribe-failed",{errorInfo:Je})}if(me.error)throw ft.create("token-subscribe-failed",{errorInfo:me.error.message});if(!me.token)throw ft.create("token-subscribe-no-token");return me.token})).apply(this,arguments)}function zn(S,M){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,H.Z)(function*(S,M){const L=yield Fn(S),z=kt(M.subscriptionOptions),le={method:"PATCH",headers:L,body:JSON.stringify(z)};let me;try{me=yield(yield fetch(`${Xt(S.appConfig)}/${M.token}`,le)).json()}catch(Je){throw ft.create("token-update-failed",{errorInfo:Je})}if(me.error)throw ft.create("token-update-failed",{errorInfo:me.error.message});if(!me.token)throw ft.create("token-update-no-token");return me.token})).apply(this,arguments)}function Lt(S,M){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,H.Z)(function*(S,M){const z={method:"DELETE",headers:yield Fn(S)};try{const me=yield(yield fetch(`${Xt(S.appConfig)}/${M}`,z)).json();if(me.error)throw ft.create("token-unsubscribe-failed",{errorInfo:me.error.message})}catch(le){throw ft.create("token-unsubscribe-failed",{errorInfo:le})}})).apply(this,arguments)}function Xt({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Fn(S){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,H.Z)(function*({appConfig:S,installations:M}){const L=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${L}`})})).apply(this,arguments)}function kt({p256dh:S,auth:M,endpoint:L,vapidKey:z}){const le={web:{endpoint:L,auth:M,p256dh:S}};return z!==ri&&(le.web.applicationPubKey=z),le}const Kr=6048e5;function Yi(S){return fs.apply(this,arguments)}function fs(){return(fs=(0,H.Z)(function*(S){const M=yield ma(S.swRegistration,S.vapidKey),L={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:M.endpoint,auth:bi(M.getKey("auth")),p256dh:bi(M.getKey("p256dh"))},z=yield G(S.firebaseDependencies);if(z){if(Fi(z.subscriptionOptions,L))return Date.now()>=z.createTime+Kr?hi(S,{token:z.token,createTime:Date.now(),subscriptionOptions:L}):z.token;try{yield Lt(S.firebaseDependencies,z.token)}catch(le){console.warn(le)}return qe(S.firebaseDependencies,L)}return qe(S.firebaseDependencies,L)})).apply(this,arguments)}function Br(S){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,H.Z)(function*(S){const M=yield G(S.firebaseDependencies);M&&(yield Lt(S.firebaseDependencies,M.token),yield ge(S.firebaseDependencies));const L=yield S.swRegistration.pushManager.getSubscription();return!L||L.unsubscribe()})).apply(this,arguments)}function hi(S,M){return ps.apply(this,arguments)}function ps(){return(ps=(0,H.Z)(function*(S,M){try{const L=yield zn(S.firebaseDependencies,M),z=Object.assign(Object.assign({},M),{token:L,createTime:Date.now()});return yield we(S.firebaseDependencies,z),L}catch(L){throw yield Br(S),L}})).apply(this,arguments)}function qe(S,M){return en.apply(this,arguments)}function en(){return(en=(0,H.Z)(function*(S,M){const z={token:yield ir(S,M),createTime:Date.now(),subscriptionOptions:M};return yield we(S,z),z.token})).apply(this,arguments)}function ma(S,M){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,H.Z)(function*(S,M){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zo(M)})})).apply(this,arguments)}function Fi(S,M){return M.vapidKey===S.vapidKey&&M.endpoint===S.endpoint&&M.auth===S.auth&&M.p256dh===S.p256dh}function To(S){const M={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function ii(S,M){if(!M.notification)return;S.notification={};const L=M.notification.title;L&&(S.notification.title=L);const z=M.notification.body;z&&(S.notification.body=z);const le=M.notification.image;le&&(S.notification.image=le)}(M,S),function Nu(S,M){!M.data||(S.data=M.data)}(M,S),function Ko(S,M){if(!M.fcmOptions)return;S.fcmOptions={};const L=M.fcmOptions.link;L&&(S.fcmOptions.link=L);const z=M.fcmOptions.analytics_label;z&&(S.fcmOptions.analyticsLabel=z)}(M,S),M}function fl(S){return"object"==typeof S&&!!S&&Qs in S}function Ka(S,M){const L=[];for(let z=0;z<S.length;z++)L.push(S.charAt(z)),z<M.length&&L.push(M.charAt(z));return L.join("")}function Js(S){return ft.create("missing-app-config-values",{valueName:S})}Ka("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ka("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yr{constructor(M,L,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const le=function Ya(S){if(!S||!S.options)throw Js("App Configuration Object");if(!S.name)throw Js("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:L}=S;for(const z of M)if(!L[z])throw Js(z);return{appName:S.name,projectId:L.projectId,apiKey:L.apiKey,appId:L.appId,senderId:L.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:le,installations:L,analyticsProvider:z}}_delete(){return Promise.resolve()}}function si(S){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,H.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(ga,{scope:Rs}),S.swRegistration.update().catch(()=>{})}catch(M){throw ft.create("failed-service-worker-registration",{browserErrorMessage:M.message})}})).apply(this,arguments)}function Xs(S,M){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,H.Z)(function*(S,M){if(!M&&!S.swRegistration&&(yield si(S)),M||!S.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw ft.create("invalid-sw-registration");S.swRegistration=M}})).apply(this,arguments)}function Ao(S,M){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,H.Z)(function*(S,M){M?S.vapidKey=M:S.vapidKey||(S.vapidKey=ri)})).apply(this,arguments)}function Xi(){return(Xi=(0,H.Z)(function*(S,M){if(!navigator)throw ft.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ft.create("permission-blocked");return yield Ao(S,null==M?void 0:M.vapidKey),yield Xs(S,null==M?void 0:M.serviceWorkerRegistration),Yi(S)})).apply(this,arguments)}function Ii(S,M,L){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,H.Z)(function*(S,M,L){const z=Xa(M);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:L[Qs],message_name:L[Do],message_time:L[hl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xa(S){switch(S){case Oi.NOTIFICATION_CLICKED:return"notification_open";case Oi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pl(){return(pl=(0,H.Z)(function*(S,M){const L=M.data;if(!L.isFirebaseMessaging)return;S.onMessageHandler&&L.messageType===Oi.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(To(L)):S.onMessageHandler.next(To(L)));const z=L.data;fl(z)&&"1"===z[od]&&(yield Ii(S,L.messageType,z))})).apply(this,arguments)}const jn="@firebase/messaging",Li=S=>{const M=new Yr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",L=>function eu(S,M){return pl.apply(this,arguments)}(M,L)),M},jr=S=>{const M=S.getProvider("messaging").getImmediate();return{getToken:z=>function Yo(S,M){return Xi.apply(this,arguments)}(M,z)}};function ku(){return So.apply(this,arguments)}function So(){return(So=(0,H.Z)(function*(){try{yield(0,fe.eu)()}catch(S){return!1}return"undefined"!=typeof window&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tu(){(0,ve._registerComponent)(new Re.wA("messaging",Li,"PUBLIC")),(0,ve._registerComponent)(new Re.wA("messaging-internal",jr,"PRIVATE")),(0,ve.registerVersion)(jn,"0.9.12"),(0,ve.registerVersion)(jn,"0.9.12","esm2017")}();const Ou="analytics",gl="firebase_id",_a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",B="https://www.googletagmanager.com/gtag/js",W=new Ie.Yd("@firebase/analytics");function re(S){return Promise.all(S.map(M=>M.catch(L=>L)))}function Be(S,M){const L=document.createElement("script");L.src=`${B}?l=${S}&id=${M}`,L.async=!0,document.head.appendChild(L)}function je(S,M,L,z,le,me){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,H.Z)(function*(S,M,L,z,le,me){const Je=z[le];try{if(Je)yield M[Je];else{const Dt=(yield re(L)).find(tn=>tn.measurementId===le);Dt&&(yield M[Dt.appId])}}catch(Xe){W.error(Xe)}S("config",le,me)})).apply(this,arguments)}function ot(S,M,L,z,le){return ut.apply(this,arguments)}function ut(){return(ut=(0,H.Z)(function*(S,M,L,z,le){try{let me=[];if(le&&le.send_to){let Je=le.send_to;Array.isArray(Je)||(Je=[Je]);const Xe=yield re(L);for(const Dt of Je){const tn=Xe.find(an=>an.measurementId===Dt),mn=tn&&M[tn.appId];if(!mn){me=[];break}me.push(mn)}}0===me.length&&(me=Object.values(M)),yield Promise.all(me),S("event",z,le||{})}catch(me){W.error(me)}})).apply(this,arguments)}function zt(){const S=window.document.getElementsByTagName("script");for(const M of Object.values(S))if(M.src&&M.src.includes(B))return M;return null}const Kt=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xn=new class qn{constructor(M={},L=1e3){this.throttleMetadata=M,this.intervalMillis=L}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,L){this.throttleMetadata[M]=L}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function Hn(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Jo(S){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,H.Z)(function*(S){var M;const{appId:L,apiKey:z}=S,le={method:"GET",headers:Hn(z)},me=_a.replace("{app-id}",L),Je=yield fetch(me,le);if(200!==Je.status&&304!==Je.status){let Xe="";try{const Dt=yield Je.json();(null===(M=Dt.error)||void 0===M?void 0:M.message)&&(Xe=Dt.error.message)}catch(Dt){}throw Kt.create("config-fetch-failed",{httpStatus:Je.status,responseMessage:Xe})}return Je.json()})).apply(this,arguments)}function Ci(S){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,H.Z)(function*(S,M=Xn,L){const{appId:z,apiKey:le,measurementId:me}=S.options;if(!z)throw Kt.create("no-app-id");if(!le){if(me)return{measurementId:me,appId:z};throw Kt.create("no-api-key")}const Je=M.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new Xl;return setTimeout((0,H.Z)(function*(){Xe.abort()}),void 0!==L?L:6e4),ml({appId:z,apiKey:le,measurementId:me},Je,Xe,M)})).apply(this,arguments)}function ml(S,M,L){return ys.apply(this,arguments)}function ys(){return(ys=(0,H.Z)(function*(S,{throttleEndTimeMillis:M,backoffCount:L},z,le=Xn){const{appId:me,measurementId:Je}=S;try{yield En(z,M)}catch(Xe){if(Je)return W.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:me,measurementId:Je};throw Xe}try{const Xe=yield Jo(S);return le.deleteThrottleMetadata(me),Xe}catch(Xe){if(!ud(Xe)){if(le.deleteThrottleMetadata(me),Je)return W.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:me,measurementId:Je};throw Xe}const Dt=503===Number(Xe.customData.httpStatus)?(0,fe.$s)(L,le.intervalMillis,30):(0,fe.$s)(L,le.intervalMillis),tn={throttleEndTimeMillis:Date.now()+Dt,backoffCount:L+1};return le.setThrottleMetadata(me,tn),W.debug(`Calling attemptFetch again in ${Dt} millis`),ml(S,tn,z,le)}})).apply(this,arguments)}function En(S,M){return new Promise((L,z)=>{const le=Math.max(M-Date.now(),0),me=setTimeout(L,le);S.addEventListener(()=>{clearTimeout(me),z(Kt.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function ud(S){if(!(S instanceof fe.ZR&&S.customData))return!1;const M=Number(S.customData.httpStatus);return 429===M||500===M||503===M||504===M}class Xl{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}function ld(){return va.apply(this,arguments)}function va(){return(va=(0,H.Z)(function*(){if(!(0,fe.hl)())return W.warn(Kt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(S){return W.warn(Kt.create("indexeddb-unavailable",{errorInfo:S}).message),!1}return!0})).apply(this,arguments)}function xo(){return(xo=(0,H.Z)(function*(S,M,L,z,le,me,Je){var Xe;const Dt=Ci(S);Dt.then(Tr=>{L[Tr.measurementId]=Tr.appId,S.options.measurementId&&Tr.measurementId!==S.options.measurementId&&W.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Tr=>W.error(Tr)),M.push(Dt);const tn=ld().then(Tr=>{if(Tr)return z.getId()}),[mn,an]=yield Promise.all([Dt,tn]);zt()||Be(me,mn.measurementId),le("js",new Date);const $r=null!==(Xe=null==Je?void 0:Je.config)&&void 0!==Xe?Xe:{};return $r.origin="firebase",$r.update=!0,null!=an&&($r[gl]=an),le("config",mn.measurementId,$r),mn.measurementId})).apply(this,arguments)}class iu{constructor(M){this.app=M}_delete(){return delete _s[this.app.options.appId],Promise.resolve()}}let _s={},Xo=[];const Pu={};let ea,no,to="dataLayer",tc=!1;function ks(S,M,L){!function su(){const S=[];if((0,fe.ru)()&&S.push("This is a browser extension environment."),(0,fe.zI)()||S.push("Cookies are not available."),S.length>0){const M=S.map((z,le)=>`(${le+1}) ${z}`).join(" "),L=Kt.create("invalid-analytics-context",{errorInfo:M});W.warn(L.message)}}();const z=S.options.appId;if(!z)throw Kt.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Kt.create("no-api-key");W.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_s[z])throw Kt.create("already-exists",{id:z});if(!tc){!function se(S){let M=[];Array.isArray(window[S])?M=window[S]:window[S]=M}(to);const{wrappedGtag:me,gtagCore:Je}=function Vt(S,M,L,z,le){let me=function(...Je){window[z].push(arguments)};return window[le]&&"function"==typeof window[le]&&(me=window[le]),window[le]=function jt(S,M,L,z){function me(){return(me=(0,H.Z)(function*(Je,Xe,Dt){try{"event"===Je?yield ot(S,M,L,Xe,Dt):"config"===Je?yield je(S,M,L,z,Xe,Dt):S("set",Xe)}catch(tn){W.error(tn)}})).apply(this,arguments)}return function le(Je,Xe,Dt){return me.apply(this,arguments)}}(me,S,M,L),{gtagCore:me,wrappedGtag:window[le]}}(_s,Xo,Pu,to,"gtag");no=me,ea=Je,tc=!0}return _s[z]=function Or(S,M,L,z,le,me,Je){return xo.apply(this,arguments)}(S,Xo,Pu,M,ea,to,L),new iu(S)}function Fu(){return(Fu=(0,H.Z)(function*(S,M,L,z,le){if(le&&le.global)S("event",L,z);else{const me=yield M;S("event",L,Object.assign(Object.assign({},z),{send_to:me}))}})).apply(this,arguments)}function Cr(){return ta.apply(this,arguments)}function ta(){return(ta=(0,H.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(S){return!1}})).apply(this,arguments)}const na="@firebase/analytics";!function ng(){(0,ve._registerComponent)(new Re.wA(Ou,(M,{options:L})=>ks(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),L),"PUBLIC")),(0,ve._registerComponent)(new Re.wA("analytics-internal",function S(M){try{const L=M.getProvider(Ou).getImmediate();return{logEvent:(z,le,me)=>function tg(S,M,L,z){S=(0,fe.m9)(S),function ou(S,M,L,z,le){return Fu.apply(this,arguments)}(no,_s[S.app.options.appId],M,L,z).catch(le=>W.error(le))}(L,z,le,me)}}catch(L){throw Kt.create("interop-component-reg-failed",{reason:L})}},"PRIVATE")),(0,ve.registerVersion)(na,"0.7.8"),(0,ve.registerVersion)(na,"0.7.8","esm2017")}();var ra=$(4408),yl=$(7565);const nc=new class _r extends yl.v{}(class Ro extends ra.o{constructor(M,L){super(M,L),this.scheduler=M,this.work=L}schedule(M,L=0){return L>0?super.schedule(M,L):(this.delay=L,this.state=M,this.scheduler.flush(this),this)}execute(M,L){return L>0||this.closed?super.execute(M,L):this._execute(M,L)}requestAsyncId(M,L,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(M,L,z):M.flush(this)}});var rg=$(4986),rc=$(8505),fi=$(5363),vs=$(9468);const ic=new h.GfV("7.3.0"),No="__angularfire_symbol__analyticsIsSupportedValue",Fs="__angularfire_symbol__analyticsIsSupported",io="__angularfire_symbol__remoteConfigIsSupportedValue",Lu="__angularfire_symbol__remoteConfigIsSupported",sc="__angularfire_symbol__messagingIsSupportedValue",oc="__angularfire_symbol__messagingIsSupported";function ia(S,M,L){if(M){if(1===M.length)return M[0];const me=M.filter(Je=>Je.app===L);if(1===me.length)return me[0]}return L.container.getProvider(S).getImmediate({optional:!0})}globalThis[Fs]||(globalThis[Fs]=Cr().then(S=>globalThis[No]=S).catch(()=>globalThis[No]=!1)),globalThis[oc]||(globalThis[oc]=ku().then(S=>globalThis[sc]=S).catch(()=>globalThis[sc]=!1)),globalThis[Lu]||(globalThis[Lu]=Io().then(S=>globalThis[io]=S).catch(()=>globalThis[io]=!1));const fd=(S,M)=>{const L=M?[M]:(0,te.C6)(),z=[];return L.forEach(le=>{le.container.getProvider(S).instances.forEach(Je=>{z.includes(Je)||z.push(Je)})}),z};function wa(){}class _l{constructor(M,L=nc){this.zone=M,this.delegate=L}now(){return this.delegate.now()}schedule(M,L,z){const le=this.zone;return this.delegate.schedule(function(Je){le.runGuarded(()=>{M.apply(this,[Je])})},L,z)}}class so{constructor(M){this.zone=M,this.task=null}call(M,L){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wa,{},wa,wa)),L.pipe((0,rc.b)({next:z,complete:z,error:z})).subscribe(M).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vl=(()=>{class S{constructor(L){this.ngZone=L,this.outsideAngular=L.runOutsideAngular(()=>new _l(Zone.current)),this.insideAngular=L.run(()=>new _l(Zone.current,rg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(L){return new(L||S)(h.LFG(h.R0b))},S.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function oo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Hr(S){return S.pipe((0,fi.Q)(oo().outsideAngular))}function lc(S){return oo(),function ba(S){return function(L){return(L=L.lift(new so(S.ngZone))).pipe((0,vs.R)(S.outsideAngular),(0,fi.Q)(S.insideAngular))}}(oo())(S)}},2090:(Rt,We,$)=>{"use strict";$.d(We,{$s:()=>Ni,BH:()=>Ke,G6:()=>pe,L:()=>Ae,LL:()=>Jt,Lj:()=>ln,Mn:()=>ct,Sg:()=>He,UG:()=>_e,US:()=>Ie,X3:()=>Ft,ZB:()=>de,ZR:()=>Te,b$:()=>$e,d:()=>Ue,eu:()=>be,hl:()=>ue,jU:()=>It,m9:()=>Pt,ne:()=>Ye,pd:()=>yi,r3:()=>On,ru:()=>_t,tV:()=>X,uI:()=>Me,vZ:()=>qs,w1:()=>D,xO:()=>us,xb:()=>wr,z$:()=>Ve,zI:()=>De,zd:()=>rr});var h=$(5861);const fe=function(Q){const Z=[];let ne=0;for(let xe=0;xe<Q.length;xe++){let he=Q.charCodeAt(xe);he<128?Z[ne++]=he:he<2048?(Z[ne++]=he>>6|192,Z[ne++]=63&he|128):55296==(64512&he)&&xe+1<Q.length&&56320==(64512&Q.charCodeAt(xe+1))?(he=65536+((1023&he)<<10)+(1023&Q.charCodeAt(++xe)),Z[ne++]=he>>18|240,Z[ne++]=he>>12&63|128,Z[ne++]=he>>6&63|128,Z[ne++]=63&he|128):(Z[ne++]=he>>12|224,Z[ne++]=he>>6&63|128,Z[ne++]=63&he|128)}return Z},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,Z){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ne=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let he=0;he<Q.length;he+=3){const lt=Q[he],Gt=he+1<Q.length,xn=Gt?Q[he+1]:0,ni=he+2<Q.length,An=ni?Q[he+2]:0;let Rn=(15&xn)<<2|An>>6,Nr=63&An;ni||(Nr=64,Gt||(Rn=64)),xe.push(ne[lt>>2],ne[(3&lt)<<4|xn>>4],ne[Rn],ne[Nr])}return xe.join("")},encodeString(Q,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(Q):this.encodeByteArray(fe(Q),Z)},decodeString(Q,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(Q):function(Q){const Z=[];let ne=0,xe=0;for(;ne<Q.length;){const he=Q[ne++];if(he<128)Z[xe++]=String.fromCharCode(he);else if(he>191&&he<224){const lt=Q[ne++];Z[xe++]=String.fromCharCode((31&he)<<6|63&lt)}else if(he>239&&he<365){const ni=((7&he)<<18|(63&Q[ne++])<<12|(63&Q[ne++])<<6|63&Q[ne++])-65536;Z[xe++]=String.fromCharCode(55296+(ni>>10)),Z[xe++]=String.fromCharCode(56320+(1023&ni))}else{const lt=Q[ne++],Gt=Q[ne++];Z[xe++]=String.fromCharCode((15&he)<<12|(63&lt)<<6|63&Gt)}}return Z.join("")}(this.decodeStringToByteArray(Q,Z))},decodeStringToByteArray(Q,Z){this.init_();const ne=Z?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let he=0;he<Q.length;){const lt=ne[Q.charAt(he++)],xn=he<Q.length?ne[Q.charAt(he)]:0;++he;const An=he<Q.length?ne[Q.charAt(he)]:64;++he;const dn=he<Q.length?ne[Q.charAt(he)]:64;if(++he,null==lt||null==xn||null==An||null==dn)throw Error();xe.push(lt<<2|xn>>4),64!==An&&(xe.push(xn<<4&240|An>>2),64!==dn&&xe.push(An<<6&192|dn))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},Ae=function(Q){return function(Q){const Z=fe(Q);return Ie.encodeByteArray(Z,!0)}(Q).replace(/\./g,"")},X=function(Q){try{return Ie.decodeString(Q,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function de(Q,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return Z}for(const ne in Z)!Z.hasOwnProperty(ne)||!mt(ne)||(Q[ne]=de(Q[ne],Z[ne]));return Q}function mt(Q){return"__proto__"!==Q}class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,ne)=>{this.resolve=Z,this.reject=ne})}wrapCallback(Z){return(ne,xe)=>{ne?this.reject(ne):this.resolve(xe),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(ne):Z(ne,xe))}}}function He(Q,Z){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=Z||"demo-project",he=Q.iat||0,lt=Q.sub||Q.user_id;if(!lt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Gt=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:he,exp:he+3600,auth_time:he,sub:lt,user_id:lt,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(Gt)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Q){return!1}}function It(){return"object"==typeof self&&self.self===self}function _t(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){return Ve().indexOf("Electron/")>=0}function D(){const Q=Ve();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function ct(){return Ve().indexOf("MSAppHost/")>=0}function pe(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"object"==typeof indexedDB}function be(){return new Promise((Q,Z)=>{try{let ne=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",he=self.indexedDB.open(xe);he.onsuccess=()=>{he.result.close(),ne||self.indexedDB.deleteDatabase(xe),Q(!0)},he.onupgradeneeded=()=>{ne=!1},he.onerror=()=>{var lt;Z((null===(lt=he.error)||void 0===lt?void 0:lt.message)||"")}}catch(ne){Z(ne)}})}function De(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Te extends Error{constructor(Z,ne,xe){super(ne),this.code=Z,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,Te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jt.prototype.create)}}class Jt{constructor(Z,ne,xe){this.service=Z,this.serviceName=ne,this.errors=xe}create(Z,...ne){const xe=ne[0]||{},he=`${this.service}/${Z}`,lt=this.errors[Z],Gt=lt?function kn(Q,Z){return Q.replace(hr,(ne,xe)=>{const he=Z[xe];return null!=he?String(he):`<${xe}?>`})}(lt,xe):"Error";return new Te(he,`${this.serviceName}: ${Gt} (${he}).`,xe)}}const hr=/\{\$([^}]+)}/g;function On(Q,Z){return Object.prototype.hasOwnProperty.call(Q,Z)}function wr(Q){for(const Z in Q)if(Object.prototype.hasOwnProperty.call(Q,Z))return!1;return!0}function qs(Q,Z){if(Q===Z)return!0;const ne=Object.keys(Q),xe=Object.keys(Z);for(const he of ne){if(!xe.includes(he))return!1;const lt=Q[he],Gt=Z[he];if(di(lt)&&di(Gt)){if(!qs(lt,Gt))return!1}else if(lt!==Gt)return!1}for(const he of xe)if(!ne.includes(he))return!1;return!0}function di(Q){return null!==Q&&"object"==typeof Q}function us(Q){const Z=[];for(const[ne,xe]of Object.entries(Q))Array.isArray(xe)?xe.forEach(he=>{Z.push(encodeURIComponent(ne)+"="+encodeURIComponent(he))}):Z.push(encodeURIComponent(ne)+"="+encodeURIComponent(xe));return Z.length?"&"+Z.join("&"):""}function rr(Q){const Z={};return Q.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[he,lt]=xe.split("=");Z[decodeURIComponent(he)]=decodeURIComponent(lt)}}),Z}function yi(Q){const Z=Q.indexOf("?");if(!Z)return"";const ne=Q.indexOf("#",Z);return Q.substring(Z,ne>0?ne:void 0)}function Ye(Q,Z){const ne=new Yn(Q,Z);return ne.subscribe.bind(ne)}class Yn{constructor(Z,ne){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(()=>{Z(this)}).catch(xe=>{this.error(xe)})}next(Z){this.forEachObserver(ne=>{ne.next(Z)})}error(Z){this.forEachObserver(ne=>{ne.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,ne,xe){let he;if(void 0===Z&&void 0===ne&&void 0===xe)throw new Error("Missing Observer.");he=function Rr(Q,Z){if("object"!=typeof Q||null===Q)return!1;for(const ne of Z)if(ne in Q&&"function"==typeof Q[ne])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:ne,complete:xe},void 0===he.next&&(he.next=Ri),void 0===he.error&&(he.error=Ri),void 0===he.complete&&(he.complete=Ri);const lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?he.error(this.finalError):he.complete()}catch(Gt){}}),this.observers.push(he),lt}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let ne=0;ne<this.observers.length;ne++)this.sendOne(ne,Z)}sendOne(Z,ne){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{ne(this.observers[Z])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ri(){}function Ni(Q,Z=1e3,ne=2){const xe=Z*Math.pow(ne,Q),he=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+he)}function Pt(Q){return Q&&Q._delegate?Q._delegate:Q}function Qn(Q,Z){return new Promise((ne,xe)=>{Q.onsuccess=he=>{ne(he.target.result)},Q.onerror=he=>{var lt;xe(`${Z}: ${null===(lt=he.target.error)||void 0===lt?void 0:lt.message}`)}})}class qt{constructor(Z){this._db=Z,this.objectStoreNames=this._db.objectStoreNames}transaction(Z,ne="readonly"){return new vt(this._db.transaction.call(this._db,Z,ne))}createObjectStore(Z,ne){return new ze(this._db.createObjectStore(Z,ne))}close(){this._db.close()}}class vt{constructor(Z){this._transaction=Z,this.complete=new Promise((ne,xe)=>{this._transaction.oncomplete=function(){ne()},this._transaction.onerror=()=>{xe(this._transaction.error)},this._transaction.onabort=()=>{xe(this._transaction.error)}})}objectStore(Z){return new ze(this._transaction.objectStore(Z))}}class ze{constructor(Z){this._store=Z}index(Z){return new wt(this._store.index(Z))}createIndex(Z,ne,xe){return new wt(this._store.createIndex(Z,ne,xe))}get(Z){return Qn(this._store.get(Z),"Error reading from IndexedDB")}put(Z,ne){return Qn(this._store.put(Z,ne),"Error writing to IndexedDB")}delete(Z){return Qn(this._store.delete(Z),"Error deleting from IndexedDB")}clear(){return Qn(this._store.clear(),"Error clearing IndexedDB object store")}}class wt{constructor(Z){this._index=Z}get(Z){return Qn(this._index.get(Z),"Error reading from IndexedDB")}}function Ft(Q,Z,ne){return new Promise((xe,he)=>{try{const lt=indexedDB.open(Q,Z);lt.onsuccess=Gt=>{xe(new qt(Gt.target.result))},lt.onerror=Gt=>{var xn;he(`Error opening indexedDB: ${null===(xn=Gt.target.error)||void 0===xn?void 0:xn.message}`)},lt.onupgradeneeded=Gt=>{ne(new qt(lt.result),Gt.oldVersion,Gt.newVersion,new vt(lt.transaction))}}catch(lt){he(`Error opening indexedDB: ${lt.message}`)}})}function ln(Q){return rn.apply(this,arguments)}function rn(){return(rn=(0,h.Z)(function*(Q){return new Promise((Z,ne)=>{try{const xe=indexedDB.deleteDatabase(Q);xe.onsuccess=()=>{Z()},xe.onerror=he=>{var lt;ne(`Error deleting indexedDB database "${Q}": ${null===(lt=he.target.error)||void 0===lt?void 0:lt.message}`)}}catch(xe){ne(`Error deleting indexedDB database "${Q}": ${xe.message}`)}})})).apply(this,arguments)}},5405:(Rt,We,$)=>{"use strict";var h=$(5e3);let te=null;function H(){return te}const Ie=new h.OlP("DocumentToken");let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ae(){return(0,h.LFG)(ee)}()},providedIn:"platform"}),n})();const X=new h.OlP("Location Initialized");let ee=(()=>{class n extends Ne{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){de()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){de()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function mt(){return new ee((0,h.LFG)(Ie))}()},providedIn:"platform"}),n})();function de(){return!!window.history.pushState}function Ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function He(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let Me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function _e(n){const e=(0,h.LFG)(Ie).location;return new _t((0,h.LFG)(Ne),e&&e.origin||"")}()},providedIn:"root"}),n})();const It=new h.OlP("appBaseHref");let _t=(()=>{class n extends Me{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+Ve(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+Ve(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ne),h.LFG(It,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n extends Me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+Ve(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+Ve(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ne),h.LFG(It,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=He(at(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function ct(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,at(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Ke,n.stripTrailingSlash=He,n.\u0275fac=function(t){return new(t||n)(h.LFG(Me),h.LFG(Ne))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function D(){return new Ue((0,h.LFG)(Me),(0,h.LFG)(Ne))}()},providedIn:"root"}),n})();function at(n){return n.replace(/\/index.html$/,"")}class Zs{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vr=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Zs(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const y=r.get(u);r.move(y,d),Ki(y,o)}});for(let o=0,u=r.length;o<u;o++){const y=r.get(o).context;y.index=o,y.count=u,y.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Ki(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ki(n,e){n.context.$implicit=e.item}let gr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Bn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ua("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ua("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Bn{constructor(){this.$implicit=null,this.ngIf=null}}function Ua(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}class Mu{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class qa{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const hs=new qa,ll=new Mu;let Ru=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return hs;if((0,h.F4k)(t))return ll;throw function mr(n,e){return new h.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})(),Wo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Zr(n){return"server"===n}let A=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new k((0,h.LFG)(Ie),window)}),n})();class k{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function V(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=O(this.window.history)||O(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function O(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class we extends class oe extends class Re{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){te||(te=n)}(new we)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ge(){return Oe=Oe||document.querySelector("base"),Oe?Oe.getAttribute("href"):null}();return null==t?null:function Ct(n){ke=ke||document.createElement("a"),ke.setAttribute("href",n);const e=ke.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Er(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let ke,Oe=null;const Mt=new h.OlP("TRANSITION_ID"),ir=[{provide:h.ip1,useFactory:function ft(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=H(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[Mt,Ie,h.zs3],multi:!0}];class Pn{static init(){(0,h.VLi)(new Pn)}addToWindow(e){h.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const y=function(E){d=d||E,u--,0==u&&r(d)};o.forEach(function(E){E.whenStable(y)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let zn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Tn=new h.OlP("EventManagerPlugins");let Lt=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Tn),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ur{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=H().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Xt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Fn=(()=>{class n extends Xt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Pi),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Pi))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Pi(n){H().remove(n)}const kt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kr=/%COMP%/g;function qe(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?qe(n,o,t):(o=o.replace(Kr,n),t.push(o))}return t}function en(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Bt=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Fi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Nu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case h.ifc.ShadowDom:return new Ko(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=qe(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Lt),h.LFG(Fn),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Fi{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(kt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=kt[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=kt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,o&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,en(r)):this.eventManager.addEventListener(e,t,en(r))}}class Nu extends Fi{constructor(e,t,r,o){super(e),this.component=r;const u=qe(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function hi(n){return"_ngcontent-%COMP%".replace(Kr,n)}(o+"-"+r.id),this.hostAttr=function ps(n){return"_nghost-%COMP%".replace(Kr,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ko extends Fi{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=qe(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const y=document.createElement("style");y.textContent=u[d],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fl=(()=>{class n extends Ur{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ka=["alt","control","meta","shift"],Js={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},si={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qa=(()=>{class n extends Ur{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="";if(Ka.forEach(E=>{const x=r.indexOf(E);x>-1&&(r.splice(x,1),d+=E+".")}),d+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=o,y.fullKey=d,y}static getEventFullKey(t){let r="",o=function Xs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Yr.hasOwnProperty(e)&&(e=Yr[e]))}return Js[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ka.forEach(u=>{u!=o&&si[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Xi=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Ji(){we.makeCurrent(),Pn.init()},multi:!0},{provide:Ie,useFactory:function Ja(){return(0,h.RDi)(document),document},deps:[]}]),Ii=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Ao(){return new h.qLn},deps:[]},{provide:Tn,useClass:fl,multi:!0,deps:[Ie,h.R0b,h.Lbi]},{provide:Tn,useClass:Qa,multi:!0,deps:[Ie]},{provide:Bt,useClass:Bt,deps:[Lt,Fn,h.AFp]},{provide:h.FYo,useExisting:Bt},{provide:Xt,useExisting:Fn},{provide:Fn,useClass:Fn,deps:[Ie]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:Lt,useClass:Lt,deps:[Tn,h.R0b]},{provide:class G{},useClass:zn,deps:[]}];let Qo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Mt,useExisting:h.AFp},ir]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Ii,imports:[Wo,h.hGG]}),n})();"undefined"!=typeof window&&window;var At=$(8996),Kt=$(7669);function Qe(...n){const e=(0,Kt.yG)(n);return(0,At.D)(n,e)}var Sn=$(7579);class qn extends Sn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Xn=$(8306);const{isArray:Hn}=Array,{getPrototypeOf:Jo,prototype:Ln,keys:Ci}=Object;function Ns(n){if(1===n.length){const e=n[0];if(Hn(e))return{args:e,keys:null};if(function ml(n){return n&&"object"==typeof n&&Jo(n)===Ln}(e)){const t=Ci(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ys=$(4671),En=$(4004);const{isArray:ud}=Array;function ld(n){return(0,En.U)(e=>function Xl(n,e){return ud(e)?n(...e):n(e)}(n,e))}function va(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Or=$(5403),xo=$(9672);function Xo(n,e,t){n?(0,xo.f)(t,n,e):e()}var Pu=$(576);function to(n,e){const t=(0,Pu.m)(n)?n:()=>n,r=o=>o.error(t());return new Xn.y(e?o=>e.schedule(r,0,o):r)}const ea=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var no=$(8189);function cd(...n){return function tc(){return(0,no.J)(1)}()((0,At.D)(n,(0,Kt.yG)(n)))}var su=$(8421);function ks(n){return new Xn.y(e=>{(0,su.Xf)(n()).subscribe(e)})}var ou=$(515),Fu=$(727),Di=$(4482);function Os(){return(0,Di.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Or.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class dd extends Xn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Di.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Or.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fu.w0.EMPTY)}return e}refCount(){return Os()(this)}}function yr(n,e){return(0,Di.e)((t,r)=>{let o=null,u=0,d=!1;const y=()=>d&&!o&&r.complete();t.subscribe((0,Or.x)(r,E=>{null==o||o.unsubscribe();let x=0;const F=u++;(0,su.Xf)(n(E,F)).subscribe(o=(0,Or.x)(r,U=>r.next(e?e(E,U,F,x++):U),()=>{o=null,y()}))},()=>{d=!0,y()}))})}var au=$(5698);function Ps(...n){const e=(0,Kt.yG)(n);return(0,Di.e)((t,r)=>{(e?cd(n,t,e):cd(n,t)).subscribe(r)})}function uu(n,e,t,r,o){return(u,d)=>{let y=t,E=e,x=0;u.subscribe((0,Or.x)(d,F=>{const U=x++;E=y?n(E,F,U):(y=!0,F),r&&d.next(E)},o&&(()=>{y&&d.next(E),d.complete()})))}}function Ti(n,e){return(0,Di.e)(uu(n,e,arguments.length>=2,!0))}function Mo(n,e){return(0,Di.e)((t,r)=>{let o=0;t.subscribe((0,Or.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}function ro(n){return(0,Di.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Or.x)(t,void 0,void 0,d=>{u=(0,su.Xf)(n(d,ro(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Cr=$(5577);function ta(n,e){return(0,Pu.m)(e)?(0,Cr.z)(n,e,1):(0,Cr.z)(n,1)}function hd(n){return n<=0?()=>ou.E:(0,Di.e)((e,t)=>{let r=[];e.subscribe((0,Or.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Dr(n=Xp){return(0,Di.e)((e,t)=>{let r=!1;e.subscribe((0,Or.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Xp(){return new ea}function eg(n){return(0,Di.e)((e,t)=>{let r=!1;e.subscribe((0,Or.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function na(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mo((o,u)=>n(o,u,r)):ys.y,(0,au.q)(1),t?eg(e):Dr(()=>new ea))}var ts=$(8505);class ra{constructor(e,t){this.id=e,this.url=t}}class Ro extends ra{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yl extends ra{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _r extends ra{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nc extends ra{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lu extends ra{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rg extends ra{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rc extends ra{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fi extends ra{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vs extends ra{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ic{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class No{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fs{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class io{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yn="primary";class ac{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qr(n){return new ac(n)}const uc="ngNavigationCancelingError";function ia(n){const e=Error("NavigationCancelingError: "+n);return e[uc]=!0,e}function wa(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],y=n[u];if(d.startsWith(":"))o[d.substring(1)]=y;else if(d!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function so(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!vl(n[o],e[o]))return!1;return!0}function vl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function oo(n){return Array.prototype.concat.apply([],n)}function pd(n){return n.length>0?n[n.length-1]:null}function Hr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ws(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,At.D)(Promise.resolve(n)):Qe(n)}const ba={exact:function M(n,e,t){if(!mn(n.segments,e.segments)||!me(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!M(n.children[r],e.children[r],t))return!1;return!0},subset:z},cu={exact:function S(n,e){return so(n,e)},subset:function L(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vl(n[t],e[t]))},ignored:()=>!0};function wl(n,e,t){return ba[t.paths](n.root,e.root,t.matrixParams)&&cu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function z(n,e,t){return le(n,e,e.segments,t)}function le(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!mn(o,t)||e.hasChildren()||!me(o,t,r))}if(n.segments.length===t.length){if(!mn(n.segments,t)||!me(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!z(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(mn(n.segments,o)&&me(n.segments,o,r)&&n.children[yn])&&le(n.children[yn],e,u,r)}}function me(n,e,t){return e.every((r,o)=>cu[t](n[o].parameters,r.parameters))}class Je{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qr(this.queryParams)),this._queryParamMap}toString(){return du.serialize(this)}}class Xe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Hr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ea(this)}}class Dt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qr(this.parameters)),this._parameterMap}toString(){return Vu(this)}}function mn(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class $r{}class Tr{parse(e){const t=new md(e);return new Je(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vi(e.root,!0)}`,r=function Dy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Ls(t)}=${Ls(o)}`).join("&"):`${Ls(t)}=${Ls(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ia(n){return encodeURI(n)}(e.fragment)}`:""}`}}const du=new Tr;function Ea(n){return n.segments.map(e=>Vu(e)).join("/")}function Vi(n,e){if(!n.hasChildren())return Ea(n);if(e){const t=n.children[yn]?Vi(n.children[yn],!1):"",r=[];return Hr(n.children,(o,u)=>{u!==yn&&r.push(`${u}:${Vi(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function an(n,e){let t=[];return Hr(n.children,(r,o)=>{o===yn&&(t=t.concat(e(r,o)))}),Hr(n.children,(r,o)=>{o!==yn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===yn?[Vi(n.children[yn],!1)]:[`${o}:${Vi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yn]?`${Ea(n)}/${t[0]}`:`${Ea(n)}/(${t.join("//")})`}}function bs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ls(n){return bs(n).replace(/%3B/gi,";")}function gd(n){return bs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cc(n){return decodeURIComponent(n)}function dc(n){return cc(n.replace(/\+/g,"%20"))}function Vu(n){return`${gd(n.path)}${function ig(n){return Object.keys(n).map(e=>`;${gd(e)}=${gd(n[e])}`).join("")}(n.parameters)}`}const Ty=/^[^\/()?;=#]+/;function ko(n){const e=n.match(Ty);return e?e[0]:""}const hc=/^[^=?&#]+/,Sy=/^[^&#]+/;class md{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[yn]=new Xe(e,t)),r}parseSegment(){const e=ko(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Dt(cc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ko(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=ko(this.remaining);o&&(r=o,this.capture(r))}e[cc(t)]=cc(r)}parseQueryParam(e){const t=function Ay(n){const e=n.match(hc);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function sg(n){const e=n.match(Sy);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=dc(t),u=dc(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ko(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=yn);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[yn]:new Xe([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class xy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Hh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Hh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$h(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return $h(e,this._root).map(t=>t.value)}}function Hh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Hh(n,t);if(r)return r}return null}function $h(n,e){if(n===e.value)return[e];for(const t of e.children){const r=$h(n,t);if(r.length)return r.unshift(e),r}return[]}class Ca{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Da(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class yd extends xy{constructor(e,t){super(e),this.snapshot=t,vd(this,e)}toString(){return this.snapshot.toString()}}function Uu(n,e){const t=function My(n,e){const d=new bl([],{},{},"",{},yn,e,null,n.root,-1,{});return new qh("",new Ca(d,[]))}(n,e),r=new qn([new Dt("",{})]),o=new qn({}),u=new qn({}),d=new qn({}),y=new qn(""),E=new hu(r,o,d,y,u,yn,e,t.root);return E.snapshot=t.root,new yd(new Ca(E,[]),t)}class hu{constructor(e,t,r,o,u,d,y,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=y,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,En.U)(e=>Qr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,En.U)(e=>Qr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ry(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function _d(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bl{constructor(e,t,r,o,u,d,y,E,x,F,U){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=y,this.routeConfig=E,this._urlSegment=x,this._lastPathIndex=F,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qh extends xy{constructor(e,t){super(t),this.url=e,vd(this,t)}toString(){return wd(this._root)}}function vd(n,e){e.value._routerState=n,e.children.forEach(t=>vd(n,t))}function wd(n){const e=n.children.length>0?` { ${n.children.map(wd).join(", ")} } `:"";return`${n.value}${e}`}function bd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,so(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),so(e.params,t.params)||n.params.next(t.params),function _l(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!so(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),so(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Gh(n,e){const t=so(n.params,e.params)&&function tn(n,e){return mn(n,e)&&n.every((t,r)=>so(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Gh(n.parent,e.parent))}function fc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function zh(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return fc(n,r,o);return fc(n,r)})}(n,e,t);return new Ca(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(y=>fc(n,y)),d}}const r=function ky(n){return new hu(new qn(n.url),new qn(n.params),new qn(n.queryParams),new qn(n.fragment),new qn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>fc(n,u));return new Ca(r,o)}}function fu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function El(n){return"object"==typeof n&&null!=n&&n.outlets}function og(n,e,t,r,o){let u={};if(r&&Hr(r,(y,E)=>{u[E]=Array.isArray(y)?y.map(x=>`${x}`):`${y}`}),n===e)return new Je(t,u,o);const d=Wh(n,e,t);return new Je(d,u,o)}function Wh(n,e,t){const r={};return Hr(n.children,(o,u)=>{r[u]=o===e?t:Wh(o,e,t)}),new Xe(n.segments,r)}class Oy{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&fu(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(El);if(o&&o!==pd(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Vy(n,e,t){if(n||(n=new Xe([],{})),0===n.segments.length&&n.hasChildren())return oa(n,e,t);const r=function q0(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],y=t[r];if(El(y))break;const E=`${y}`,x=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&x&&"object"==typeof x&&void 0===x.outlets){if(!Vs(E,x,d))return u;r+=2}else{if(!Vs(E,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Xe(n.segments.slice(0,r.pathIndex),{});return u.children[yn]=new Xe(n.segments.slice(r.pathIndex),n.children),oa(u,0,o)}return r.match&&0===o.length?new Xe(n.segments,{}):r.match&&!n.hasChildren()?Kh(n,e,t):r.match?oa(n,0,o):Kh(n,e,t)}function oa(n,e,t){if(0===t.length)return new Xe(n.segments,{});{const r=function Ly(n){return El(n[0])?n[0].outlets:{[yn]:n}}(t),o={};return Hr(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=Vy(n.children[d],e,u))}),Hr(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new Xe(n.segments,o)}}function Kh(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(El(u)){const E=Il(u.outlets);return new Xe(r,E)}if(0===o&&fu(t[0])){r.push(new Dt(n.segments[e].path,Yh(t[0]))),o++;continue}const d=El(u)?u.outlets[yn]:`${u}`,y=o<t.length-1?t[o+1]:null;d&&y&&fu(y)?(r.push(new Dt(d,Yh(y))),o+=2):(r.push(new Dt(d,{})),o++)}return new Xe(r,{})}function Il(n){const e={};return Hr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Kh(new Xe([],{}),0,t))}),e}function Yh(n){const e={};return Hr(n,(t,r)=>e[r]=`${t}`),e}function Vs(n,e,t){return n==t.path&&so(e,t.parameters)}class ug{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),bd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Da(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Hr(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Da(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:y})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Da(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Da(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new sc(u.value.snapshot))}),e.children.length&&this.forwardEvent(new io(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(bd(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const y=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(y.contexts),d.attachRef=y.componentRef,d.route=y.route.value,d.outlet&&d.outlet.attach(y.componentRef,y.route.value),bd(y.route.value),this.activateChildRoutes(e,null,d.children)}else{const y=function Ed(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=y?y.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=E,d.outlet&&d.outlet.activateWith(o,E),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Id{constructor(e,t){this.routes=e,this.module=t}}function Bu(n){return"function"==typeof n}function Cl(n){return n instanceof Je}const gc=Symbol("INITIAL_VALUE");function pu(){return yr(n=>function iu(...n){const e=(0,Kt.yG)(n),t=(0,Kt.jO)(n),{args:r,keys:o}=Ns(n);if(0===r.length)return(0,At.D)([],e);const u=new Xn.y(function _s(n,e,t=ys.y){return r=>{Xo(e,()=>{const{length:o}=n,u=new Array(o);let d=o,y=o;for(let E=0;E<o;E++)Xo(e,()=>{const x=(0,At.D)(n[E],e);let F=!1;x.subscribe((0,Or.x)(r,U=>{u[E]=U,F||(F=!0,y--),y||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>va(o,d):ys.y));return t?u.pipe(ld(t)):u}(n.map(e=>e.pipe((0,au.q)(1),Ps(gc)))).pipe(Ti((e,t)=>{let r=!1;return t.reduce((o,u,d)=>o!==gc?o:(u===gc&&(r=!0),r||!1!==u&&d!==t.length-1&&!Cl(u)?o:u),e)},gc),Mo(e=>e!==gc),(0,En.U)(e=>Cl(e)?e:!0===e),(0,au.q)(1)))}class Uy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new mc,this.attachRef=null}}class mc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Uy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let yc=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=u||yn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,E=new ef(t,y,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(mc),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class ef{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===hu?this.route:e===mc?this.childContexts:this.parent.get(e,t)}}let tf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[yc],encapsulation:2}),n})();function _c(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Cd(r,nf(e,r))}}function Cd(n,e){n.children&&_c(n.children,e)}function nf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function rf(n){const e=n.children&&n.children.map(rf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==yn&&(t.component=tf),t}function Wn(n){return n.outlet||yn}function sf(n,e){const t=n.filter(r=>Wn(r)===e);return t.push(...n.filter(r=>Wn(r)!==e)),t}const cg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dl(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},cg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||wa)(t,n,e);if(!u)return Object.assign({},cg);const d={};Hr(u.posParams,(E,x)=>{d[x]=E.path});const y=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:y,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function vc(n,e,t,r,o="corrected"){if(t.length>0&&function jy(n,e,t){return t.some(r=>Td(n,e,r)&&Wn(r)!==yn)}(n,t,r)){const d=new Xe(e,function Dd(n,e,t,r){const o={};o[yn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Wn(u)!==yn){const d=new Xe([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[Wn(u)]=d}return o}(n,e,r,new Xe(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function dg(n,e,t){return t.some(r=>Td(n,e,r))}(n,t,r)){const d=new Xe(n.segments,function By(n,e,t,r,o,u){const d={};for(const y of r)if(Td(n,t,y)&&!o[Wn(y)]){const E=new Xe([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[Wn(y)]=E}return Object.assign(Object.assign({},o),d)}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Xe(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Td(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Hy(n,e,t,r){return!!(Wn(n)===r||r!==yn&&Td(e,t,n))&&("**"===n.path||Dl(e,n,t).matched)}function $y(n,e,t){return 0===e.length&&!n.children[t]}class gu{constructor(e){this.segmentGroup=e||null}}class Ai{constructor(e){this.urlTree=e}}function Ta(n){return to(new gu(n))}function wc(n){return to(new Ai(n))}class uf{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=vc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,yn).pipe((0,En.U)(u=>this.createUrlTree(Hu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ro(u=>{if(u instanceof Ai)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof gu?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,yn).pipe((0,En.U)(o=>this.createUrlTree(Hu(o),e.queryParams,e.fragment))).pipe(ro(o=>{throw o instanceof gu?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Xe([],{[yn]:e}):e;return new Je(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,En.U)(u=>new Xe([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,At.D)(o).pipe(ta(u=>{const d=r.children[u],y=sf(t,u);return this.expandSegmentGroup(e,y,d,u).pipe((0,En.U)(E=>({segment:E,outlet:u})))}),Ti((u,d)=>(u[d.outlet]=d.segment,u),{}),function tg(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mo((o,u)=>n(o,u,r)):ys.y,hd(1),t?eg(e):Dr(()=>new ea))}())}expandSegment(e,t,r,o,u,d){return(0,At.D)(r).pipe(ta(y=>this.expandSegmentAgainstRoute(e,t,r,y,o,u,d).pipe(ro(x=>{if(x instanceof gu)return Qe(null);throw x}))),na(y=>!!y),ro((y,E)=>{if(y instanceof ea||"EmptyError"===y.name)return $y(t,o,u)?Qe(new Xe([],{})):Ta(t);throw y}))}expandSegmentAgainstRoute(e,t,r,o,u,d,y){return Hy(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):Ta(t):Ta(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?wc(u):this.lineralizeSegments(r,u).pipe((0,Cr.z)(d=>{const y=new Xe(d,{});return this.expandSegment(e,y,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:y,consumedSegments:E,remainingSegments:x,positionalParamSegments:F}=Dl(t,o,u);if(!y)return Ta(t);const U=this.applyRedirectCommands(E,o.redirectTo,F);return o.redirectTo.startsWith("/")?wc(U):this.lineralizeSegments(o,U).pipe((0,Cr.z)(Y=>this.expandSegment(e,t,r,Y.concat(x),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Qe(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,En.U)(U=>(r._loadedConfig=U,new Xe(o,{})))):Qe(new Xe(o,{}));const{matched:d,consumedSegments:y,remainingSegments:E}=Dl(t,r,o);return d?this.getChildConfig(e,r,o).pipe((0,Cr.z)(F=>{const U=F.module,Y=F.routes,{segmentGroup:ae,slicedSegments:ye}=vc(t,y,E,Y),nt=new Xe(ae.segments,ae.children);if(0===ye.length&&nt.hasChildren())return this.expandChildren(U,Y,nt).pipe((0,En.U)(Qt=>new Xe(y,Qt)));if(0===Y.length&&0===ye.length)return Qe(new Xe(y,{}));const ht=Wn(r)===u;return this.expandSegment(U,nt,Y,ye,ht?yn:u,!0).pipe((0,En.U)(pn=>new Xe(y.concat(pn.segments),pn.children)))})):Ta(t)}getChildConfig(e,t,r){return t.children?Qe(new Id(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Qe(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Cr.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,En.U)(u=>(t._loadedConfig=u,u))):function Ui(n){return to(ia(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Qe(new Id([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?Qe(o.map(d=>{const y=e.get(d);let E;if(function Qh(n){return n&&Bu(n.canLoad)}(y))E=y.canLoad(t,r);else{if(!Bu(y))throw new Error("Invalid CanLoad guard");E=y(t,r)}return ws(E)})).pipe(pu(),(0,ts.b)(d=>{if(!Cl(d))return;const y=ia(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw y.url=d,y}),(0,En.U)(d=>!0===d)):Qe(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Qe(r);if(o.numberOfChildren>1||!o.children[yn])return to(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[yn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Je(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Hr(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const y=o.substring(1);r[u]=t[y]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return Hr(t.children,(y,E)=>{d[E]=this.createSegmentGroup(e,y,r,o)}),new Xe(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Hu(n){const e={};for(const r of Object.keys(n.children)){const u=Hu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Us(n){if(1===n.numberOfChildren&&n.children[yn]){const e=n.children[yn];return new Xe(n.segments.concat(e.segments),e.children)}return n}(new Xe(n.segments,e))}class hg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $u{constructor(e,t){this.component=e,this.route=t}}function cf(n,e,t){const r=n._root;return Es(r,e?e._root:null,t,[r.value])}function bc(n,e,t){const r=function qy(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Es(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Da(e);return n.children.forEach(d=>{(function pg(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const E=function Gy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!mn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mn(n.url,e.url)||!so(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gh(n,e)||!so(n.queryParams,e.queryParams);default:return!Gh(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new hg(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Es(n,e,u.component?y?y.children:null:t,r,o),E&&y&&y.outlet&&y.outlet.isActivated&&o.canDeactivateChecks.push(new $u(y.outlet.component,d))}else d&&qu(e,y,o),o.canActivateChecks.push(new hg(r)),Es(n,null,u.component?y?y.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),Hr(u,(d,y)=>qu(d,t.getContext(y),o)),o}function qu(n,e,t){const r=Da(n),o=n.value;Hr(r,(u,d)=>{qu(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new $u(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class ff{}function pf(n){return new Xn.y(e=>e.error(n))}class gf{constructor(e,t,r,o,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=vc(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,yn);if(null===t)return null;const r=new bl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ca(r,t),u=new qh(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Ry(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],y=sf(e,u),E=this.processSegmentGroup(y,d,u);if(null===E)return null;r.push(...E)}const o=mg(r);return function Ky(n){n.sort((e,t)=>e.value.outlet===yn?-1:t.value.outlet===yn?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,o);if(null!==d)return d}return $y(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Hy(e,t,r,o))return null;let u,d=[],y=[];if("**"===e.path){const ae=r.length>0?pd(r).parameters:{};u=new bl(r,ae,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),Wn(e),e.component,e,f(t),m(t)+r.length,R(e))}else{const ae=Dl(t,e,r);if(!ae.matched)return null;d=ae.consumedSegments,y=ae.remainingSegments,u=new bl(d,ae.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),Wn(e),e.component,e,f(t),m(t)+d.length,R(e))}const E=function Yy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:x,slicedSegments:F}=vc(t,d,y,E.filter(ae=>void 0===ae.redirectTo),this.relativeLinkResolution);if(0===F.length&&x.hasChildren()){const ae=this.processChildren(E,x);return null===ae?null:[new Ca(u,ae)]}if(0===E.length&&0===F.length)return[new Ca(u,[])];const U=Wn(e)===o,Y=this.processSegment(E,x,F,U?yn:o);return null===Y?null:[new Ca(u,Y)]}}function Qy(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function mg(n){const e=[],t=new Set;for(const r of n){if(!Qy(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=mg(r.children);e.push(new Ca(r.value,o))}return e.filter(r=>!t.has(r))}function f(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function m(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function b(n){return n.data||{}}function R(n){return n.resolve||{}}function Tt(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ot(n){return yr(e=>{const t=n(e);return t?(0,At.D)(t).pipe((0,En.U)(()=>e)):Qe(e)})}class Ic extends class uo{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Tl=new h.OlP("ROUTES");class Al{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,En.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new Id(oo(d.injector.get(Tl,void 0,h.XFs.Self|h.XFs.Optional)).map(rf),d)}),ro(u=>{throw t._loader$=void 0,u}));return t._loader$=new dd(o,()=>new Sn.x).pipe(Os()),t._loader$}loadModuleFactory(e){return ws(e()).pipe((0,Cr.z)(t=>t instanceof h.YKP?Qe(t):(0,At.D)(this.compiler.compileModuleAsync(t))))}}class Jy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function mu(n){throw n}function Ad(n,e,t){return e.parse("/")}function Sd(n,e){return Qe(null)}const yf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{class n{constructor(t,r,o,u,d,y,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Sn.x,this.errorHandler=mu,this.malformedUriErrorHandler=Ad,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sd,afterPreactivation:Sd},this.urlHandlingStrategy=new Jy,this.routeReuseStrategy=new Ic,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(h.h0i),this.console=d.get(h.c2e);const U=d.get(h.R0b);this.isNgZoneEnabled=U instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function lc(){return new Je(new Xe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Al(d,y,Y=>this.triggerEvent(new ic(Y)),Y=>this.triggerEvent(new No(Y))),this.routerState=Uu(this.currentUrlTree,this.rootComponentType),this.transitions=new qn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Mo(o=>0!==o.id),(0,En.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yr(o=>{let u=!1,d=!1;return Qe(o).pipe((0,ts.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yr(y=>{const E=this.browserUrlTree.toString(),x=!this.navigated||y.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||x)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return yg(y.source)&&(this.browserUrlTree=y.extractedUrl),Qe(y).pipe(yr(U=>{const Y=this.transitions.getValue();return r.next(new Ro(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),Y!==this.transitions.getValue()?ou.E:Promise.resolve(U)}),function lf(n,e,t,r){return yr(o=>function ju(n,e,t,r,o){return new uf(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,En.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ts.b)(U=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:U.urlAfterRedirects})}),function j(n,e,t,r,o){return(0,Cr.z)(u=>function Zy(n,e,t,r,o="emptyOnly",u="legacy"){try{const d=new gf(n,e,t,r,o,u).recognize();return null===d?pf(new ff):Qe(d)}catch(d){return pf(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,En.U)(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,U=>this.serializeUrl(U),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ts.b)(U=>{if("eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(ae,U)}this.browserUrlTree=U.urlAfterRedirects}const Y=new lu(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);r.next(Y)}));if(x&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Y,extractedUrl:ae,source:ye,restoredState:nt,extras:ht}=y,fn=new Ro(Y,this.serializeUrl(ae),ye,nt);r.next(fn);const pn=Uu(ae,this.rootComponentType).snapshot;return Qe(Object.assign(Object.assign({},y),{targetSnapshot:pn,urlAfterRedirects:ae,extras:Object.assign(Object.assign({},ht),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),ou.E}),Ot(y=>{const{targetSnapshot:E,id:x,extractedUrl:F,rawUrl:U,extras:{skipLocationChange:Y,replaceUrl:ae}}=y;return this.hooks.beforePreactivation(E,{navigationId:x,appliedUrlTree:F,rawUrlTree:U,skipLocationChange:!!Y,replaceUrl:!!ae})}),(0,ts.b)(y=>{const E=new rg(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),(0,En.U)(y=>Object.assign(Object.assign({},y),{guards:cf(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function zy(n,e){return(0,Cr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?Qe(Object.assign(Object.assign({},t),{guardsResult:!0})):function gg(n,e,t,r){return(0,At.D)(n).pipe((0,Cr.z)(o=>function Ec(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Qe(u.map(y=>{const E=bc(y,e,o);let x;if(function G0(n){return n&&Bu(n.canDeactivate)}(E))x=ws(E.canDeactivate(n,e,t,r));else{if(!Bu(E))throw new Error("Invalid CanDeactivate guard");x=ws(E(n,e,t,r))}return x.pipe(na())})).pipe(pu()):Qe(!0)}(o.component,o.route,t,e,r)),na(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Cr.z)(y=>y&&function lg(n){return"boolean"==typeof n}(y)?function Si(n,e,t,r){return(0,At.D)(e).pipe(ta(o=>cd(function hf(n,e){return null!==n&&e&&e(new Fs(n)),Qe(!0)}(o.route.parent,r),function df(n,e){return null!==n&&e&&e(new Lu(n)),Qe(!0)}(o.route,r),function Aa(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function fg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>ks(()=>Qe(d.guards.map(E=>{const x=bc(E,d.node,t);let F;if(function Xh(n){return n&&Bu(n.canActivateChild)}(x))F=ws(x.canActivateChild(r,n));else{if(!Bu(x))throw new Error("Invalid CanActivateChild guard");F=ws(x(r,n))}return F.pipe(na())})).pipe(pu())));return Qe(u).pipe(pu())}(n,o.path,t),function Wy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Qe(!0);const o=r.map(u=>ks(()=>{const d=bc(u,e,t);let y;if(function Jh(n){return n&&Bu(n.canActivate)}(d))y=ws(d.canActivate(e,n));else{if(!Bu(d))throw new Error("Invalid CanActivate guard");y=ws(d(e,n))}return y.pipe(na())}));return Qe(o).pipe(pu())}(n,o.route,t))),na(o=>!0!==o,!0))}(r,u,n,e):Qe(y)),(0,En.U)(y=>Object.assign(Object.assign({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,ts.b)(y=>{if(Cl(y.guardsResult)){const x=ia(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw x.url=y.guardsResult,x}const E=new rc(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(E)}),Mo(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),Ot(y=>{if(y.guards.canActivateChecks.length)return Qe(y).pipe((0,ts.b)(E=>{const x=new fi(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(x)}),yr(E=>{let x=!1;return Qe(E).pipe(function ie(n,e){return(0,Cr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Qe(t);let u=0;return(0,At.D)(o).pipe(ta(d=>function Se(n,e,t,r){return function dt(n,e,t,r){const o=Tt(n);if(0===o.length)return Qe({});const u={};return(0,At.D)(o).pipe((0,Cr.z)(d=>function Zt(n,e,t,r){const o=bc(n,e,r);return ws(o.resolve?o.resolve(e,t):o(e,t))}(n[d],e,t,r).pipe((0,ts.b)(y=>{u[d]=y}))),hd(1),(0,Cr.z)(()=>Tt(u).length===o.length?Qe(u):ou.E))}(n._resolve,n,e,r).pipe((0,En.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Ry(n,t).resolve),null)))}(d.route,r,n,e)),(0,ts.b)(()=>u++),hd(1),(0,Cr.z)(d=>u===o.length?Qe(t):ou.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ts.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,ts.b)(E=>{const x=new vs(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(x)}))}),Ot(y=>{const{targetSnapshot:E,id:x,extractedUrl:F,rawUrl:U,extras:{skipLocationChange:Y,replaceUrl:ae}}=y;return this.hooks.afterPreactivation(E,{navigationId:x,appliedUrlTree:F,rawUrlTree:U,skipLocationChange:!!Y,replaceUrl:!!ae})}),(0,En.U)(y=>{const E=function Ny(n,e,t){const r=fc(n,e._root,t?t._root:void 0);return new yd(r,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:E})}),(0,ts.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,En.U)(r=>(new ug(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,ts.b)({next(){u=!0},complete(){u=!0}}),function ng(n){return(0,Di.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var y;u||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===o.id&&(this.currentNavigation=null)}),ro(y=>{if(d=!0,function fd(n){return n&&n[uc]}(y)){const E=Cl(y.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const x=new _r(o.id,this.serializeUrl(o.extractedUrl),y.message);r.next(x),E?setTimeout(()=>{const F=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),U={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yg(o.source)};this.scheduleNavigation(F,"imperative",null,U,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new nc(o.id,this.serializeUrl(o.extractedUrl),y);r.next(E);try{o.resolve(this.errorHandler(y))}catch(x){o.reject(x)}}return ou.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},d=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(d){const E=Object.assign({},d);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const y=this.parseUrl(t.url);this.scheduleNavigation(y,r,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){_c(t),this.config=t.map(rf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:y,preserveFragment:E}=r,x=o||this.routerState.root,F=E?this.currentUrlTree.fragment:d;let U=null;switch(y){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=u||null}return null!==U&&(U=this.removeEmptyProps(U)),function sa(n,e,t,r,o){if(0===t.length)return og(e.root,e.root,e.root,r,o);const u=function Py(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Oy(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const y={};return Hr(u.outlets,(E,x)=>{y[x]="string"==typeof E?E.split("/"):E}),[...o,{outlets:y}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((y,E)=>{0==E&&"."===y||(0==E&&""===y?t=!0:".."===y?e++:""!=y&&o.push(y))}),o):[...o,u]},[]);return new Oy(t,e,r)}(t);if(u.toRoot())return og(e.root,e.root,new Xe([],{}),r,o);const d=function ag(n,e,t){if(n.isAbsolute)return new Zh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Zh(u,u===e.root,0)}const r=fu(n.commands[0])?0:1;return function Fy(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Zh(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),y=d.processChildren?oa(d.segmentGroup,d.index,u.commands):Vy(d.segmentGroup,d.index,u.commands);return og(e.root,d.segmentGroup,y,r,o)}(x,this.currentUrlTree,t,U,null!=F?F:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Cl(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function _f(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},yf):!1===r?Object.assign({},xd):r,Cl(t))return wl(this.currentUrlTree,t,o);const u=this.parseUrl(t);return wl(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new yl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){var y,E;if(this.disposed)return Promise.resolve(!1);let x,F,U;d?(x=d.resolve,F=d.reject,U=d.promise):U=new Promise((ye,nt)=>{x=ye,F=nt});const Y=++this.navigationId;let ae;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ae=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):ae=0,this.setTransition({id:Y,targetPageId:ae,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:x,reject:F,promise:U,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),U.catch(ye=>Promise.reject(ye))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new _r(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function yg(n){return"imperative"!==n}let _g=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Sn.x,this.subscription=t.events.subscribe(u=>{u instanceof yl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,d){if(0!==t||r||o||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const y={skipLocationChange:Md(this.skipLocationChange),replaceUrl:Md(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Md(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Bi),h.Y36(hu),h.Y36(Me))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)("href",r.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})();function Md(n){return""===n||!!n}class t_{}class W0{preload(e,t){return Qe(null)}}let Z0=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new Al(o,r,E=>t.triggerEvent(new ic(E)),E=>t.triggerEvent(new No(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mo(t=>t instanceof yl),ta(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,At.D)(o).pipe((0,no.J)(),(0,En.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Qe(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Cr.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Bi),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(t_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),vg=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ro?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof oc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new oc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Oo=new h.OlP("ROUTER_CONFIGURATION"),r_=new h.OlP("ROUTER_FORROOT_GUARD"),K0=[Ue,{provide:$r,useClass:Tr},{provide:Bi,useFactory:function s_(n,e,t,r,o,u,d={},y,E){const x=new Bi(null,n,e,t,r,o,oo(u));return y&&(x.urlHandlingStrategy=y),E&&(x.routeReuseStrategy=E),function J0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,x),d.enableTracing&&x.events.subscribe(F=>{var U,Y;null===(U=console.group)||void 0===U||U.call(console,`Router Event: ${F.constructor.name}`),console.log(F.toString()),console.log(F),null===(Y=console.groupEnd)||void 0===Y||Y.call(console)}),x},deps:[$r,mc,Ue,h.zs3,h.Sil,Tl,Oo,[class mf{},new h.FiY],[class Ar{},new h.FiY]]},mc,{provide:hu,useFactory:function wg(n){return n.routerState.root},deps:[Bi]},Z0,W0,class n_{preload(e,t){return t().pipe(ro(()=>Qe(null)))}},{provide:Oo,useValue:{enableTracing:!1}}];function SI(){return new h.PXZ("Router",Bi)}let vf=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[K0,i_(t),{provide:r_,useFactory:Q0,deps:[[Bi,new h.FiY,new h.tp0]]},{provide:Oo,useValue:r||{}},{provide:Me,useFactory:Y0,deps:[Ne,[new h.tBr(It),new h.FiY],Oo]},{provide:vg,useFactory:xI,deps:[Bi,A,Oo]},{provide:t_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:W0},{provide:h.PXZ,multi:!0,useFactory:SI},[Rd,{provide:h.ip1,multi:!0,useFactory:X0,deps:[Rd]},{provide:a_,useFactory:o_,deps:[Rd]},{provide:h.tb,multi:!0,useExisting:a_}]]}}static forChild(t){return{ngModule:n,providers:[i_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(r_,8),h.LFG(Bi,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function xI(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new vg(n,e,t)}function Y0(n,e,t={}){return t.useHash?new $e(n,e):new _t(n,e)}function Q0(n){return"guarded"}function i_(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:Tl,multi:!0,useValue:n}]}let Rd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Sn.x}appInitializer(){return this.injector.get(X,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(y=>r=y),u=this.injector.get(Bi),d=this.injector.get(Oo);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?Qe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Oo),o=this.injector.get(Z0),u=this.injector.get(vg),d=this.injector.get(Bi),y=this.injector.get(h.z2F);t===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),u.init(),d.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function X0(n){return n.appInitializer.bind(n)}function o_(n){return n.bootstrapListener.bind(n)}const a_=new h.OlP("Router Initializer");let MI=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1,"home works!"),h.qZA())},styles:[".amina[_ngcontent-%COMP%]{background-color:red;border-radius:30%}"]}),n})();var Fe=$(5861),RI=$(6451),Eg=$(5363),ew=$(6063);class l_ extends Sn.x{constructor(e=1/0,t=1/0,r=ew.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let y=0;for(let E=1;E<r.length&&r[E]<=d;E+=2)y=E;y&&r.splice(0,y+1)}}}var tw=$(3099);function NI(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,tw.B)({connector:()=>new l_(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function c_(n,e){return(0,Pu.m)(e)?yr(()=>n,e):yr(()=>n)}var d_=$(9468),Sr=$(5813),Bs=$(2011);$(5867);var aa=$(9681),Nd=$(4859),nn=$(2090),Is=$(1877);const Ig=new Map,iw={activated:!1,tokenObservers:[]},p_={initialized:!1,enabled:!1};function ns(n){return Ig.get(n)||iw}function ua(n,e){Ig.set(n,e)}function g_(){return p_}class BI{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Fe.Z)(function*(){t.stop();try{t.pending=new nn.BH,yield function jI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new nn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const js=new nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $I(n){if(!ns(n).activated)throw js.create("use-before-activation",{appName:n.name})}function Tg(n,e){return __.apply(this,arguments)}function __(){return(__=(0,Fe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const U=yield o.getHeartbeatsHeader();U&&(r["X-Firebase-Client"]=U)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,y;try{d=yield fetch(n,u)}catch(U){throw js.create("fetch-network-error",{originalErrorMessage:U.message})}if(200!==d.status)throw js.create("fetch-status-error",{httpStatus:d.status});try{y=yield d.json()}catch(U){throw js.create("fetch-parse-error",{originalErrorMessage:U.message})}const E=y.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const x=1e3*Number(E[1]),F=Date.now();return{token:y.attestationToken,expireTimeMillis:F+x,issuedAtTimeMillis:F}})).apply(this,arguments)}function RA(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Ag="firebase-app-check-store";let w_=null;function zI(){return w_||(w_=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(js.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ag,{keyPath:"compositeKey"})}}catch(t){e(js.create("storage-open",{originalErrorMessage:t.message}))}}),w_)}function Sg(){return(Sg=(0,Fe.Z)(function*(n,e){const r=(yield zI()).transaction(Ag,"readwrite"),u=r.objectStore(Ag).put({compositeKey:n,value:e});return new Promise((d,y)=>{u.onsuccess=E=>{d()},r.onerror=E=>{var x;y(js.create("storage-set",{originalErrorMessage:null===(x=E.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const Ef=new Is.Yd("@firebase/app-check");function aw(n,e){return(0,nn.hl)()?function PA(n,e){return function ow(n,e){return Sg.apply(this,arguments)}(function Rg(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ef.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function C_(){return g_().enabled}function uw(){return D_.apply(this,arguments)}function D_(){return(D_=(0,Fe.Z)(function*(){const n=g_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Od={error:"UNKNOWN_ERROR"};function T_(n){return nn.US.encodeString(JSON.stringify(n),!1)}function Gu(n){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,Fe.Z)(function*(n,e=!1){const t=n.app;$I(t);const r=ns(t);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&Pd(E)&&(o=E)}if(!e&&o&&Pd(o))return{token:o.token};let y,d=!1;if(C_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Tg(RA(t,yield uw()),n.heartbeatServiceProvider).then(x=>(r.exchangeTokenPromise=void 0,x)),d=!0);const E=yield r.exchangeTokenPromise;return yield aw(t,E),ua(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Ef.warn(E.message):Ef.error(E),u=E}return o?(y={token:o.token},ua(t,Object.assign(Object.assign({},r),{token:o})),yield aw(t,o)):y=cw(u),d&&kg(t,y),y})).apply(this,arguments)}function A_(n,e){const t=ns(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ua(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function S_(n){const{app:e}=n,t=ns(e);let r=t.tokenRefresher;r||(r=function lw(n){const{app:e}=n;return new BI((0,Fe.Z)(function*(){let r;if(r=ns(e).token?yield Gu(n,!0):yield Gu(n),r.error)throw r.error}),()=>!0,()=>{const t=ns(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ua(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function kg(n,e){const t=ns(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Pd(n){return n.expireTimeMillis-Date.now()>0}function cw(n){return{token:T_(Od),error:n}}class Og{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ns(this.app);for(const t of e)A_(this.app,t.next);return Promise.resolve()}}const R_="app-check-internal";!function vw(){(0,aa._registerComponent)(new Nd.wA("app-check",n=>function WI(n,e){return new Og(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(R_).initialize()})),(0,aa._registerComponent)(new Nd.wA(R_,n=>function dw(n){return{getToken:e=>Gu(n,e),addTokenListener:e=>function Ml(n,e,t,r){const{app:o}=n,u=ns(o),d={next:t,error:r,type:e};if(ua(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&Pd(u.token)){const y=u.token;Promise.resolve().then(()=>{t({token:y.token}),S_(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>S_(n))}(n,"INTERNAL",e),removeTokenListener:e=>A_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,aa.registerVersion)("@firebase/app-check","0.5.6")}();class Fd{constructor(){return(0,Sr.vb)("app-check")}}"undefined"!=typeof window&&window;var Vg=$(127);const Tw=new h.OlP("angularfire2.auth.use-emulator"),Ug=new h.OlP("angularfire2.auth.settings"),iC=new h.OlP("angularfire2.auth.tenant-id"),Aw=new h.OlP("angularfire2.auth.langugage-code"),O_=new h.OlP("angularfire2.auth.use-device-language"),P_=new h.OlP("angularfire.auth.persistence"),F_=(n,e,t,r,o,u,d,y)=>(0,Bs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),d)for(const[x,F]of Object.entries(d))E.settings[x]=F;return y&&E.setPersistence(y),E},[t,r,o,u,d,y]);let Ld=(()=>{class n{constructor(t,r,o,u,d,y,E,x,F,U,Y,ae){const ye=new Sn.x,nt=Qe(void 0).pipe((0,Eg.Q)(d.outsideAngular),yr(()=>u.runOutsideAngular(()=>Promise.resolve().then($.bind($,820)))),(0,En.U)(()=>(0,Bs.on)(t,u,r)),(0,En.U)(ht=>F_(ht,u,y,x,F,U,E,Y)),NI({bufferSize:1,refCount:!1}));if(Zr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{nt.pipe(na()).subscribe();const fn=nt.pipe(yr(Ut=>Ut.getRedirectResult().then(vn=>vn,()=>null)),Sr.iC,NI({bufferSize:1,refCount:!1})),pn=nt.pipe(yr(Ut=>new Xn.y(vn=>({unsubscribe:u.runOutsideAngular(()=>Ut.onAuthStateChanged(Vn=>vn.next(Vn),Vn=>vn.error(Vn),()=>vn.complete()))})))),Qt=nt.pipe(yr(Ut=>new Xn.y(vn=>({unsubscribe:u.runOutsideAngular(()=>Ut.onIdTokenChanged(Vn=>vn.next(Vn),Vn=>vn.error(Vn),()=>vn.complete()))}))));this.authState=fn.pipe(c_(pn),(0,d_.R)(d.outsideAngular),(0,Eg.Q)(d.insideAngular)),this.user=fn.pipe(c_(Qt),(0,d_.R)(d.outsideAngular),(0,Eg.Q)(d.insideAngular)),this.idToken=this.user.pipe(yr(Ut=>Ut?(0,At.D)(Ut.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(yr(Ut=>Ut?(0,At.D)(Ut.getIdTokenResult()):Qe(null))),this.credential=(0,RI.T)(fn,ye,this.authState.pipe(Mo(Ut=>!Ut))).pipe((0,En.U)(Ut=>(null==Ut?void 0:Ut.user)?Ut:null),(0,d_.R)(d.outsideAngular),(0,Eg.Q)(d.insideAngular))}return(0,Bs.pX)(this,nt,u,{spy:{apply:(ht,fn,pn)=>{(ht.startsWith("signIn")||ht.startsWith("createUser"))&&pn.then(Qt=>ye.next(Qt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Bs.Dh),h.LFG(Bs.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Sr.HU),h.LFG(Tw,8),h.LFG(Ug,8),h.LFG(iC,8),h.LFG(Aw,8),h.LFG(O_,8),h.LFG(P_,8),h.LFG(Fd,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Sw=(()=>{class n{constructor(){Vg.Z.registerVersion("angularfire",Sr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Ld]}),n})();var _u=$(4986);function Vd(){return(0,Di.e)((n,e)=>{let t,r=!1;n.subscribe((0,Or.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function oC(n,e){return n===e}$(820);var Et,Bg=$(3942),xw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Sa={},L_=L_||{},cn=xw||self;function Cf(){}function jg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ud(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Df="closure_uid_"+(1e9*Math.random()>>>0),uC=0;function lC(n,e,t){return n.call.apply(n.bind,arguments)}function Mw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Jr(n,e,t){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lC:Mw).apply(null,arguments)}function Tf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function rs(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var d=Array(arguments.length-2),y=2;y<arguments.length;y++)d[y-2]=arguments[y];return e.prototype[o].apply(r,d)}}function Rl(){this.s=this.s,this.o=this.o}var cC={};Rl.prototype.s=!1,Rl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function aC(n){return Object.prototype.hasOwnProperty.call(n,Df)&&n[Df]||(n[Df]=++uC)}(this);delete cC[n]}},Rl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Nw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function xa(n){return Array.prototype.concat.apply([],arguments)}function Af(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Sf(n){return/^[\s\xa0]*$/.test(n)}var Hs,V_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Cs(n,e){return-1!=n.indexOf(e)}function Hg(n,e){return n<e?-1:n>e?1:0}e:{var kw=cn.navigator;if(kw){var Ow=kw.userAgent;if(Ow){Hs=Ow;break e}}Hs=""}function U_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function B_(n){const e={};for(const t in n)e[t]=n[t];return e}var hC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j_(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<hC.length;u++)t=hC[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function H_(n){return H_[" "](n),n}H_[" "]=Cf;var ho,n,zA=Cs(Hs,"Opera"),xf=Cs(Hs,"Trident")||Cs(Hs,"MSIE"),$g=Cs(Hs,"Edge"),$_=$g||xf,q_=Cs(Hs,"Gecko")&&!(Cs(Hs.toLowerCase(),"webkit")&&!Cs(Hs,"Edge"))&&!(Cs(Hs,"Trident")||Cs(Hs,"MSIE"))&&!Cs(Hs,"Edge"),Pw=Cs(Hs.toLowerCase(),"webkit")&&!Cs(Hs,"Edge");function pC(){var n=cn.document;return n?n.documentMode:void 0}e:{var Fw="",Lw=(n=Hs,q_?/rv:([^\);]+)(\)|;)/.exec(n):$g?/Edge\/([\d\.]+)/.exec(n):xf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Pw?/WebKit\/(\S+)/.exec(n):zA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Lw&&(Fw=Lw?Lw[1]:""),xf){var qg=pC();if(null!=qg&&qg>parseFloat(Fw)){ho=String(qg);break e}}ho=Fw}var Vw={};var Bw=cn.document&&xf&&(pC()||parseInt(ho,10))||void 0,z_=function(){if(!cn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{cn.addEventListener("test",Cf,e),cn.removeEventListener("test",Cf,e)}catch(t){}return n}();function Ds(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Dc(n,e){if(Ds.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(q_){e:{try{H_(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:mC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Dc.Z.h.call(this)}}Ds.prototype.h=function(){this.defaultPrevented=!0},rs(Dc,Ds);var mC={2:"touch",3:"pen",4:"mouse"};Dc.prototype.h=function(){Dc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Mf="closure_listenable_"+(1e6*Math.random()|0),yC=0;function _C(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++yC,this.ca=this.fa=!1}function Gg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function zg(n){this.src=n,this.g={},this.h=0}function jd(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=Rw(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Gg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Nl(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}zg.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Nl(n,e,r,o);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new _C(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var W_="closure_lm_"+(1e6*Math.random()|0),Tc={};function jw(n,e,t,r,o){if(r&&r.once)return Ma(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)jw(n,e[u],t,r,o);return null}return t=Ol(t),n&&n[Mf]?n.N(e,t,Ud(r)?!!r.capture:!!r,o):Hw(n,e,t,!1,r,o)}function Hw(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=Ud(o)?!!o.capture:!!o,y=fo(n);if(y||(n[W_]=y=new zg(n)),(t=y.add(e,t,r,d,u)).proxy)return t;if(r=function Z_(){var e=Wg;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)z_||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(kl(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Ma(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ma(n,e[u],t,r,o);return null}return t=Ol(t),n&&n[Mf]?n.O(e,t,Ud(r)?!!r.capture:!!r,o):Hw(n,e,t,!0,r,o)}function Hd(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Hd(n,e[u],t,r,o);else r=Ud(r)?!!r.capture:!!r,t=Ol(t),n&&n[Mf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Nl(u=n.g[e],t,r,o))&&(Gg(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=fo(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Nl(e,t,r,o)),(t=-1<n?e[n]:null)&&ji(t))}function ji(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Mf])jd(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(kl(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=fo(e))?(jd(t,n),0==t.h&&(t.src=null,e[W_]=null)):Gg(n)}}}function kl(n){return n in Tc?Tc[n]:Tc[n]="on"+n}function Wg(n,e){if(n.ca)n=!0;else{e=new Dc(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&ji(n),n=t.call(r,e)}return n}function fo(n){return(n=n[W_])instanceof zg?n:null}var Rf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ol(n){return"function"==typeof n?n:(n[Rf]||(n[Rf]=function(e){return n.handleEvent(e)}),n[Rf])}function qr(){Rl.call(this),this.i=new zg(this),this.P=this,this.I=null}function Xr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ds(e,n);else if(e instanceof Ds)e.target=e.target||n;else{var o=e;j_(e=new Ds(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=zu(d,r,!0,e)&&o}if(o=zu(d=e.g=n,r,!0,e)&&o,o=zu(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=zu(d=e.g=t[u],r,!1,e)&&o}function zu(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var y=d.listener,E=d.ia||d.src;d.fa&&jd(n.i,d),o=!1!==y.call(E,r)&&o}}return o&&!r.defaultPrevented}rs(qr,Rl),qr.prototype[Mf]=!0,qr.prototype.removeEventListener=function(n,e,t,r){Hd(this,n,e,t,r)},qr.prototype.M=function(){if(qr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Gg(t[r]);delete n.g[e],n.h--}}this.I=null},qr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},qr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Pl=cn.JSON.stringify;function $d(){var n=K_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Kg,Ac=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Gd,n=>n.reset());class Gd{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $w(n){cn.setTimeout(()=>{throw n},0)}function Zg(n,e){Kg||function qw(){var n=cn.Promise.resolve(void 0);Kg=function(){n.then(Gw)}}(),Yg||(Kg(),Yg=!0),K_.add(n,e)}var Yg=!1,K_=new class qd{constructor(){this.h=this.g=null}add(e,t){const r=Ac.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Gw(){for(var n;n=$d();){try{n.h.call(n.g)}catch(t){$w(t)}var e=Ac;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Yg=!1}function Nf(n,e){qr.call(this),this.h=n||1,this.g=e||cn,this.j=Jr(this.kb,this),this.l=Date.now()}function Qg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Y_(n,e,t){if("function"==typeof n)t&&(n=Jr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(e)?-1:cn.setTimeout(n,e||0)}function Q_(n){n.g=Y_(()=>{n.g=null,n.i&&(n.i=!1,Q_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}rs(Nf,qr),(Et=Nf.prototype).da=!1,Et.S=null,Et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xr(this,"tick"),this.da&&(Qg(this),this.start()))}},Et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Et.M=function(){Nf.Z.M.call(this),Qg(this),delete this.g};class vC extends Rl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Q_(this)}M(){super.M(),this.g&&(cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zd(n){Rl.call(this),this.h=n,this.g={}}rs(zd,Rl);var J_=[];function zw(n,e,t,r){Array.isArray(t)||(t&&(J_[0]=t.toString()),t=J_);for(var o=0;o<t.length;o++){var u=jw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Ww(n){U_(n.g,function(e,t){this.g.hasOwnProperty(t)&&ji(e)},n),n.g={}}function kf(){this.g=!0}function Wd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function WA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return Pl(t)}catch(y){return e}}(n,t)+(r?" "+r:"")})}zd.prototype.M=function(){zd.Z.M.call(this),Ww(this)},zd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kf.prototype.Aa=function(){this.g=!1},kf.prototype.info=function(){};var Sc={},Jg=null;function Zd(){return Jg=Jg||new qr}function Kw(n){Ds.call(this,Sc.Ma,n)}function Xg(n){const e=Zd();Xr(e,new Kw(e,n))}function EC(n,e){Ds.call(this,Sc.STAT_EVENT,n),this.stat=e}function po(n){const e=Zd();Xr(e,new EC(e,n))}function Yw(n,e){Ds.call(this,Sc.Na,n),this.size=e}function Kd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return cn.setTimeout(function(){n()},e)}Sc.Ma="serverreachability",rs(Kw,Ds),Sc.STAT_EVENT="statevent",rs(EC,Ds),Sc.Na="timingevent",rs(Yw,Ds);var X_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fl(){}function ev(){}Fl.prototype.h=null;var tv,Of={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function em(){Ds.call(this,"d")}function Yd(){Ds.call(this,"c")}function Pf(){}function Ff(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new zd(this),this.P=IC,this.W=new Nf(n=$_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Xw}function Xw(){this.i=null,this.g="",this.h=!1}rs(em,Ds),rs(Yd,Ds),rs(Pf,Fl),Pf.prototype.g=function(){return new XMLHttpRequest},Pf.prototype.i=function(){return{}},tv=new Pf;var IC=45e3,nv={},tm={};function nm(n,e,t){n.K=1,n.v=Bf(Na(e)),n.s=t,n.U=!0,eb(n,null)}function eb(n,e){n.F=Date.now(),rm(n),n.A=Na(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),cv(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Xw,n.g=Dv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new vC(Jr(n.Ia,n,n.g),n.O)),zw(n.V,n.g,"readystatechange",n.gb),e=n.H?B_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Xg(1),function wC(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",y=u.split("&"),E=0;E<y.length;E++){var x=y[E].split("=");if(1<x.length){var F=x[0];x=x[1];var U=F.split("_");d=2<=U.length&&"type"==U[1]?d+(F+"=")+x+"&":d+(F+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function rv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function iv(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=sv(n,t),o==tm){4==e&&(n.o=4,po(14),r=!1),Wd(n.j,n.m,null,"[Incomplete Response]");break}if(o==nv){n.o=4,po(15),Wd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Wd(n.j,n.m,o,null),am(n,o)}rv(n)&&o!=tm&&o!=nv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,po(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ih(e),e.L=!0,po(11))):(Wd(n.j,n.m,t,"[Invalid Chunked Response]"),Ra(n),om(n))}function sv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?tm:(t=Number(e.substring(t,r)),isNaN(t)?nv:(r+=1)+t>e.length?tm:(e=e.substr(r,t),n.C=r+t,e))}function rm(n){n.Y=Date.now()+n.P,im(n,n.P)}function im(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kd(Jr(n.eb,n),e)}function sm(n){n.B&&(cn.clearTimeout(n.B),n.B=null)}function om(n){0==n.l.G||n.I||bv(n.l,n)}function Ra(n){sm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Qg(n.W),Ww(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function am(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||hv(t.i,n)))if(t.I=n.N,!n.J&&hv(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(x){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Kd(Jr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Kf(t),gm(t)}Zf(t),po(18)}if(1>=ab(t.i)&&t.ka){try{t.ka()}catch(x){}t.ka=void 0}}else Vl(t,11)}else if((n.J||t.g==n)&&Kf(t),!Sf(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let x=o[e];if(t.U=x[0],x=x[1],2==t.G)if("c"==x[0]){t.J=x[1],t.la=x[2];const F=x[3];null!=F&&(t.ma=F,t.h.info("VER="+t.ma));const U=x[4];null!=U&&(t.za=U,t.h.info("SVER="+t.za));const Y=x[5];null!=Y&&"number"==typeof Y&&0<Y&&(t.K=r=1.5*Y,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ae=n.g;if(ae){const ye=ae.g?ae.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var u=r.i;!u.g&&(Cs(ye,"spdy")||Cs(ye,"quic")||Cs(ye,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(dm(u,u.h),u.h=null))}if(r.D){const nt=ae.g?ae.g.getResponseHeader("X-HTTP-Session-Id"):null;nt&&(r.sa=nt,xr(r.F,r.D,nt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=Cv(r,r.H?r.la:null,r.W),d.J){ub(r.i,d);var y=d,E=r.K;E&&y.setTimeout(E),y.B&&(sm(y),rm(y)),r.g=d}else vv(r);0<t.l.length&&Gf(t)}else"stop"!=x[0]&&"close"!=x[0]||Vl(t,7);else 3==t.G&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?Vl(t,7):Rc(t):"noop"!=x[0]&&t.j&&t.j.wa(x),t.A=0)}Xg(4)}catch(x){}}function Lf(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jg(n)||"string"==typeof n)Nw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(jg(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function ov(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(jg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function Qd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Qd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Jd(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];vu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)vu(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function vu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Et=Ff.prototype).setTimeout=function(n){this.P=n},Et.gb=function(n){n=n.target;const e=this.L;e&&3==Eu(n)?e.l():this.Ia(n)},Et.Ia=function(n){try{if(n==this.g)e:{const F=Eu(this.g);var e=this.g.Da();const U=this.g.ba();if(!(3>F)&&(3!=F||$_||this.g&&(this.h.h||this.g.ga()||fb(this.g)))){this.I||4!=F||7==e||Xg(8==e||0>=U?3:2),sm(this);var t=this.g.ba();this.N=t;t:if(rv(this)){var r=fb(this.g);n="";var o=r.length,u=4==Eu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ra(this),om(this);var d="";break t}this.h.i=new cn.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function Zw(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,F,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,E=this.g;if((y=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sf(y)){var x=y;break t}}x=null}if(!(t=x)){this.i=!1,this.o=3,po(12),Ra(this),om(this);break e}Wd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,am(this,t)}this.U?(iv(this,F,d),$_&&this.i&&3==F&&(zw(this.V,this.W,"tick",this.fb),this.W.start())):(Wd(this.j,this.m,d,null),am(this,d)),4==F&&Ra(this),this.i&&!this.I&&(4==F?bv(this.l,this):(this.i=!1,rm(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,po(12)):(this.o=0,po(13)),Ra(this),om(this)}}}catch(F){}},Et.fb=function(){if(this.g){var n=Eu(this.g),e=this.g.ga();this.C<e.length&&(sm(this),iv(this,n,e),this.i&&4!=n&&rm(this))}},Et.cancel=function(){this.I=!0,Ra(this)},Et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function bC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xg(3),po(17)),Ra(this),this.o=2,om(this)):im(this,this.Y-n)},(Et=Qd.prototype).R=function(){Jd(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Et.T=function(){return Jd(this),this.g.concat()},Et.get=function(n,e){return vu(this.h,n)?this.h[n]:e},Et.set=function(n,e){vu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Et.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var um=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof xc){this.g=void 0!==e?e:n.g,Xd(this,n.j),this.s=n.s,Vf(this,n.i),Uf(this,n.m),this.l=n.l,e=n.h;var t=new th;t.i=e.i,e.g&&(t.g=new Qd(e.g),t.h=e.h),lm(this,t),this.o=n.o}else n&&(t=String(n).match(um))?(this.g=!!e,Xd(this,t[1]||"",!0),this.s=jf(t[2]||""),Vf(this,t[3]||"",!0),Uf(this,t[4]),this.l=jf(t[5]||"",!0),lm(this,t[6]||"",!0),this.o=jf(t[7]||"")):(this.g=!!e,this.h=new th(null,this.g))}function Na(n){return new xc(n)}function Xd(n,e,t){n.j=t?jf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Vf(n,e,t){n.i=t?jf(e,!0):e}function Uf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function lm(n,e,t){e instanceof th?(n.h=e,function ib(n,e){e&&!n.j&&(wu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(uv(this,r),cv(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=eh(e,DC)),n.h=new th(e,n.g))}function xr(n,e,t){n.h.set(e,t)}function Bf(n){return xr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function eh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,nb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function nb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(eh(e,cm,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(eh(e,cm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(eh(t,"/"==t.charAt(0)?CC:rb,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",eh(t,TC)),n.join("")};var cm=/[#\/\?@]/g,rb=/[#\?:]/g,CC=/[#\?]/g,DC=/[#\?@]/g,TC=/#/g;function th(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wu(n){n.g||(n.g=new Qd,n.h=0,n.i&&function ZA(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function uv(n,e){wu(n),e=Mc(n,e),vu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,vu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Jd(n)))}function lv(n,e){return wu(n),e=Mc(n,e),vu(n.g.h,e)}function cv(n,e,t){uv(n,e),0<t.length&&(n.i=null,n.g.set(Mc(n,e),Af(t)),n.h+=t.length)}function Mc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dv(n){this.l=n||ob,n=cn.PerformanceNavigationTiming?0<(n=cn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(cn.g&&cn.g.Ea&&cn.g.Ea()&&cn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Et=th.prototype).add=function(n,e){wu(this),this.i=null,n=Mc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Et.forEach=function(n,e){wu(this),this.g.forEach(function(t,r){Nw(t,function(o){n.call(e,o,r,this)},this)},this)},Et.T=function(){wu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},Et.R=function(n){wu(this);var e=[];if("string"==typeof n)lv(this,n)&&(e=xa(e,this.g.get(Mc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=xa(e,n[t])}return e},Et.set=function(n,e){return wu(this),this.i=null,lv(this,n=Mc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=o;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var ob=10;function AC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ab(n){return n.h?1:n.g?n.g.size:0}function hv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dm(n,e){n.g?n.g.add(e):n.h=e}function ub(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function pi(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Af(n.i)}function hm(){}function SC(){this.g=new hm}function xC(n,e,t){const r=t||"";try{Lf(n,function(o,u){let d=o;Ud(o)&&(d=Pl(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function fm(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function nh(n){this.l=n.$b||null,this.j=n.ib||!1}function Hf(n,e){qr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ll,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dv.prototype.cancel=function(){if(this.i=pi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},hm.prototype.stringify=function(n){return cn.JSON.stringify(n,void 0)},hm.prototype.parse=function(n){return cn.JSON.parse(n,void 0)},rs(nh,Fl),nh.prototype.g=function(){return new Hf(this.l,this.j)},nh.prototype.i=function(n){return function(){return n}}({}),rs(Hf,qr);var Ll=0;function cb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function $f(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rh(n)}function rh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Et=Hf.prototype).open=function(n,e){if(this.readyState!=Ll)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rh(this)},Et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||cn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$f(this)),this.readyState=Ll},Et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rh(this)),this.g&&(this.readyState=3,rh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==cn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$f(this):rh(this),3==this.readyState&&cb(this)}},Et.Ua=function(n){this.g&&(this.response=this.responseText=n,$f(this))},Et.Ta=function(n){this.g&&(this.response=n,$f(this))},Et.ha=function(){this.g&&$f(this)},Et.setRequestHeader=function(n,e){this.v.append(n,e)},Et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Hf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MC=cn.JSON.parse;function oi(n){qr.call(this),this.headers=new Qd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=RC,this.K=this.L=!1}rs(oi,qr);var RC="",db=/^https?$/i,fv=["POST","PUT"];function NC(n){return"content-type"==n.toLowerCase()}function hb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ka(n),go(n)}function ka(n){n.D||(n.D=!0,Xr(n,"complete"),Xr(n,"error"))}function ca(n){if(n.h&&void 0!==L_&&(!n.C[1]||4!=Eu(n)||2!=n.ba()))if(n.v&&4==Eu(n))Y_(n.Fa,0,n);else if(Xr(n,"readystatechange"),4==Eu(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===y){var o=String(n.H).match(um)[1]||null;if(!o&&cn.self&&cn.self.location){var u=cn.self.location.protocol;o=u.substr(0,u.length-1)}r=!db.test(o?o.toLowerCase():"")}t=r}if(t)Xr(n,"complete"),Xr(n,"success");else{n.m=6;try{var d=2<Eu(n)?n.g.statusText:""}catch(E){d=""}n.j=d+" ["+n.ba()+"]",ka(n)}}finally{go(n)}}}function go(n,e){if(n.g){pv(n);const t=n.g,r=n.C[0]?Cf:null;n.g=null,n.C=null,e||Xr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function pv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(cn.clearTimeout(n.A),n.A=null)}function Eu(n){return n.g?n.g.readyState:0}function fb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case RC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function gv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function kC(n){let e="";return U_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xr(n,e,t))}function qf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function pm(n){this.za=0,this.l=[],this.h=new kf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qf("baseRetryDelayMs",5e3,n),this.$a=qf("retryDelaySeedMs",1e4,n),this.Ya=qf("forwardChannelMaxRetries",2,n),this.ra=qf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new dv(n&&n.concurrentRequestLimit),this.Ca=new SC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Rc(n){if(mv(n),3==n.G){var e=n.V++,t=Na(n.F);xr(t,"SID",n.J),xr(t,"RID",e),xr(t,"TYPE","terminate"),Wf(n,t),(e=new Ff(n,n.h,e,void 0)).K=2,e.v=Bf(Na(t)),t=!1,cn.navigator&&cn.navigator.sendBeacon&&(t=cn.navigator.sendBeacon(e.v.toString(),"")),!t&&cn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Dv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),rm(e)}Iv(n)}function gm(n){n.g&&(ih(n),n.g.cancel(),n.g=null)}function mv(n){gm(n),n.u&&(cn.clearTimeout(n.u),n.u=null),Kf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&cn.clearTimeout(n.m),n.m=null)}function yv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Gf(n)}function Gf(n){AC(n.i)||n.m||(n.m=!0,Zg(n.Ha,n),n.C=0)}function zf(n,e){var t;t=e?e.m:n.V++;const r=Na(n.F);xr(r,"SID",n.J),xr(r,"RID",t),xr(r,"AID",n.U),Wf(n,r),n.o&&n.s&&gv(r,n.o,n.s),t=new Ff(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=_v(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),dm(n.i,t),nm(t,r,e)}function Wf(n,e){n.j&&Lf({},function(t,r){xr(e,r,t)})}function _v(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Jr(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let y=!0;for(let E=0;E<t;E++){let x=o[E].h;const F=o[E].g;if(x-=u,0>x)u=Math.max(0,o[E].h-100),y=!1;else try{xC(F,d,"req"+x+"_")}catch(U){r&&r(F)}}if(y){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function vv(n){n.g||n.u||(n.Y=1,Zg(n.Ga,n),n.A=0)}function Zf(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Kd(Jr(n.Ga,n),Ev(n,n.A)),n.A++,0))}function ih(n){null!=n.B&&(cn.clearTimeout(n.B),n.B=null)}function wv(n){n.g=new Ff(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Na(n.oa);xr(e,"RID","rpc"),xr(e,"SID",n.J),xr(e,"CI",n.N?"0":"1"),xr(e,"AID",n.U),Wf(n,e),xr(e,"TYPE","xmlhttp"),n.o&&n.s&&gv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Bf(Na(e)),t.s=null,t.U=!0,eb(t,n)}function Kf(n){null!=n.v&&(cn.clearTimeout(n.v),n.v=null)}function bv(n,e){var t=null;if(n.g==e){Kf(n),ih(n),n.g=null;var r=2}else{if(!hv(n.i,e))return;t=e.D,ub(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Xr(r=Zd(),new Yw(r,t,e,o)),Gf(n)}else vv(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function pb(n,e){return!(ab(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Kd(Jr(n.Ha,n,e),Ev(n,n.C)),n.C++,0)))}(n,e)||2==r&&Zf(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Vl(n,5);break;case 4:Vl(n,10);break;case 3:Vl(n,6);break;default:Vl(n,2)}}function Ev(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Vl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Jr(n.jb,n);t||(t=new xc("//www.google.com/images/cleardot.gif"),cn.location&&"http"==cn.location.protocol||Xd(t,"https"),Bf(t)),function lb(n,e){const t=new kf;if(cn.Image){const r=new Image;r.onload=Tf(fm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Tf(fm,t,r,"TestLoadImage: error",!1,e),r.onabort=Tf(fm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Tf(fm,t,r,"TestLoadImage: timeout",!1,e),cn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else po(2);n.G=0,n.j&&n.j.va(e),Iv(n),mv(n)}function Iv(n){n.G=0,n.I=-1,n.j&&((0!=pi(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Af(n.l),n.l.length=0),n.j.ua())}function Cv(n,e,t){let r=function av(n){return n instanceof xc?Na(n):new xc(n,void 0)}(t);if(""!=r.i)e&&Vf(r,e+"."+r.i),Uf(r,r.m);else{const o=cn.location;r=function tb(n,e,t,r){var o=new xc(null,void 0);return n&&Xd(o,n),e&&Vf(o,e),t&&Uf(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&U_(n.aa,function(o,u){xr(r,u,o)}),t=n.sa,(e=n.D)&&t&&xr(r,e,t),xr(r,"VER",n.ma),Wf(n,r),r}function Dv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new oi(t&&n.Ba&&!n.qa?new nh({ib:!0}):n.qa)).L=n.H,e}function gb(){}function mm(){if(xf&&!(10<=Number(Bw)))throw Error("Environmental error: no available transport.")}function Po(n,e){qr.call(this),this.g=new pm(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Sf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new sh(this)}function mb(n){em.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yb(){Yd.call(this),this.status=1}function sh(n){this.g=n}(Et=oi.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tv.g(),this.C=function Jw(n){return n.h||(n.h=n.i())}(this.u?this.u:tv),this.g.onreadystatechange=Jr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void hb(this,u)}n=t||"";const o=new Qd(this.headers);r&&Lf(r,function(u,d){o.set(d,u)}),r=function dC(n){e:{var e=NC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=cn.FormData&&n instanceof cn.FormData,!(0<=Rw(fv,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pv(this),0<this.B&&((this.K=function bu(n){return xf&&function Uw(){return function fC(n){var e=Vw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=V_(String(ho)).split("."),t=V_("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=Hg(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||Hg(0==o[2].length,0==u[2].length)||Hg(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.pa,this)):this.A=Y_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){hb(this,u)}},Et.pa=function(){void 0!==L_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},Et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xr(this,"complete"),Xr(this,"abort"),go(this))},Et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),go(this,!0)),oi.Z.M.call(this)},Et.Fa=function(){this.s||(this.F||this.v||this.l?ca(this):this.cb())},Et.cb=function(){ca(this)},Et.ba=function(){try{return 2<Eu(this)?this.g.status:-1}catch(n){return-1}},Et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),MC(e)}},Et.Da=function(){return this.m},Et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Et=pm.prototype).ma=8,Et.G=1,Et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Ff(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=B_(u),j_(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_v(this,o,e),xr(t=Na(this.F),"RID",n),xr(t,"CVER",22),this.D&&xr(t,"X-HTTP-Session-Id",this.D),Wf(this,t),this.o&&u&&gv(t,this.o,u),dm(this.i,o),this.Ra&&xr(t,"TYPE","init"),this.ja?(xr(t,"$req",e),xr(t,"SID","null"),o.$=!0,nm(o,t,null)):nm(o,t,e),this.G=2}}else 3==this.G&&(n?zf(this,n):0==this.l.length||AC(this.i)||zf(this))},Et.Ga=function(){if(this.u=null,wv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Kd(Jr(this.bb,this),n)}},Et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,po(10),gm(this),wv(this))},Et.ab=function(){null!=this.v&&(this.v=null,gm(this),Zf(this),po(19))},Et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),po(2)):(this.h.info("Failed to ping google.com"),po(1))},(Et=gb.prototype).xa=function(){},Et.wa=function(){},Et.va=function(){},Et.ua=function(){},Et.Oa=function(){},mm.prototype.g=function(n,e){return new Po(n,e)},rs(Po,qr),Po.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Zg(Jr(n.hb,n,e))),po(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Cv(n,null,n.W),Gf(n)},Po.prototype.close=function(){Rc(this.g)},Po.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,yv(this.g,e)}else this.v?((e={}).__data__=Pl(n),yv(this.g,e)):yv(this.g,n)},Po.prototype.M=function(){this.g.j=null,delete this.j,Rc(this.g),delete this.g,Po.Z.M.call(this)},rs(mb,em),rs(yb,Yd),rs(sh,gb),sh.prototype.xa=function(){Xr(this.g,"a")},sh.prototype.wa=function(n){Xr(this.g,new mb(n))},sh.prototype.va=function(n){Xr(this.g,new yb(n))},sh.prototype.ua=function(){Xr(this.g,"b")},mm.prototype.createWebChannel=mm.prototype.g,Po.prototype.send=Po.prototype.u,Po.prototype.open=Po.prototype.m,Po.prototype.close=Po.prototype.close,X_.NO_ERROR=0,X_.TIMEOUT=8,X_.HTTP_ERROR=6,Qw.COMPLETE="complete",ev.EventType=Of,Of.OPEN="a",Of.CLOSE="b",Of.ERROR="c",Of.MESSAGE="d",qr.prototype.listen=qr.prototype.N,oi.prototype.listenOnce=oi.prototype.O,oi.prototype.getLastError=oi.prototype.La,oi.prototype.getLastErrorCode=oi.prototype.Da,oi.prototype.getStatus=oi.prototype.ba,oi.prototype.getResponseJson=oi.prototype.Qa,oi.prototype.getResponseText=oi.prototype.ga,oi.prototype.send=oi.prototype.ea;var OC=Sa.createWebChannelTransport=function(){return new mm},PC=Sa.getStatEventTarget=function(){return Zd()},Tv=Sa.ErrorCode=X_,FC=Sa.EventType=Qw,LC=Sa.Event=Sc,_b=Sa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},VC=Sa.FetchXmlHttpFactory=nh,ym=Sa.WebChannel=ev,UC=Sa.XhrIo=oi;const vb="@firebase/firestore";class is{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");let oh="9.6.11";const Wu=new Is.Yd("@firebase/firestore");function _m(){return Wu.logLevel}function it(n,...e){if(Wu.logLevel<=Is.in.DEBUG){const t=e.map(vm);Wu.debug(`Firestore (${oh}): ${n}`,...t)}}function ai(n,...e){if(Wu.logLevel<=Is.in.ERROR){const t=e.map(vm);Wu.error(`Firestore (${oh}): ${n}`,...t)}}function ah(n,...e){if(Wu.logLevel<=Is.in.WARN){const t=e.map(vm);Wu.warn(`Firestore (${oh}): ${n}`,...t)}}function vm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function St(n="Unexpected state"){const e=`FIRESTORE (${oh}) INTERNAL ASSERTION FAILED: `+n;throw ai(e),new Error(e)}function un(n,e){n||St()}function yt(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends nn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Nc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(is.UNAUTHENTICATED))}shutdown(){}}class Av{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YA{constructor(e){this.t=e,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=x=>this.i!==o?(o=this.i,t(x)):Promise.resolve();let d=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Hi,e.enqueueRetryable(()=>u(this.currentUser))};const y=()=>{const x=d;e.enqueueRetryable((0,Fe.Z)(function*(){yield x.promise,yield u(r.currentUser)}))},E=x=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(x=>E(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?E(x):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Hi)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(un("string"==typeof r.accessToken),new Nc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return un(null===e||"string"==typeof e),new is(e)}}class Eb{constructor(e,t,r){this.type="FirstParty",this.user=is.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Ib{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Eb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yt{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(un("string"==typeof t.token),this.p=t.token,new BC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Fo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function jC(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Fo.A=-1;class Yf{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=jC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function In(n,e){return n<e?-1:n>e?1:0}function Zu(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Qf(n){return n+"\0"}class Cn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new et(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new et(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new et(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new et(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Cn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?In(this.nanoseconds,e.nanoseconds):In(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class sn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new sn(e)}static min(){return new sn(new Cn(0,0))}static max(){return new sn(new Cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Sv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Cb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class uh{constructor(e,t,r){void 0===t?t=0:t>e.length&&St(),void 0===r?r=e.length-t:r>e.length-t&&St(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===uh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof uh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $n extends uh{construct(e,t,r){return new $n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new et(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new $n(t)}static emptyPath(){return new $n([])}}const Db=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends uh{construct(e,t,r){return new xi(e,t,r)}static isValidIdentifier(e){return Db.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new et(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if("\\"===y){if(o+1===e.length)throw new et(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new et(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===y?(d=!d,o++):"."!==y||d?(r+=y,o++):(u(),o++)}if(u(),d)throw new et(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(t)}static emptyPath(){return new xi([])}}class lh{constructor(e){this.fields=e,e.sort(xi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Mi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return In(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const Jf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ul(n){if(un(!!n),"string"==typeof n){let e=0;const t=Jf.exec(n);if(un(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ei(n.seconds),nanos:ei(n.nanos)}}function ei(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Oc(n){return"string"==typeof n?Mi.fromBase64String(n):Mi.fromUint8Array(n)}function ch(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xv(n){const e=n.mapValue.fields.__previous_value__;return ch(e)?xv(e):e}function dh(n){const e=Ul(n.mapValue.fields.__local_write_time__.timestampValue);return new Cn(e.seconds,e.nanos)}class Tb{constructor(e,t,r,o,u,d,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.useFetchStreams=E}}class Ku{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}function Oa(n){return null==n}function Yu(n){return 0===n&&1/n==-1/0}function Ab(n){return"number"==typeof n&&Number.isInteger(n)&&!Yu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class gt{constructor(e){this.path=e}static fromPath(e){return new gt($n.fromString(e))}static fromName(e){return new gt($n.fromString(e).popFirst(5))}static empty(){return new gt($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new $n(e.slice()))}}const Sb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Mv={nullValue:"NULL_VALUE"};function Bl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ch(n)?4:Nv(n)?9:10:St()}function Pa(n,e){if(n===e)return!0;const t=Bl(n);if(t!==Bl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dh(n).isEqual(dh(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Ul(r.timestampValue),d=Ul(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Oc(n.bytesValue).isEqual(Oc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return ei(r.geoPointValue.latitude)===ei(o.geoPointValue.latitude)&&ei(r.geoPointValue.longitude)===ei(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ei(r.integerValue)===ei(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=ei(r.doubleValue),d=ei(o.doubleValue);return u===d?Yu(u)===Yu(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Zu(n.arrayValue.values||[],e.arrayValue.values||[],Pa);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(Sv(u)!==Sv(d))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(void 0===d[y]||!Pa(u[y],d[y])))return!1;return!0}(n,e);default:return St()}var o}function Xf(n,e){return void 0!==(n.values||[]).find(t=>Pa(t,e))}function Qu(n,e){if(n===e)return 0;const t=Bl(n),r=Bl(e);if(t!==r)return In(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return In(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=ei(o.integerValue||o.doubleValue),y=ei(u.integerValue||u.doubleValue);return d<y?-1:d>y?1:d===y?0:isNaN(d)?isNaN(y)?0:-1:1}(n,e);case 3:return xb(n.timestampValue,e.timestampValue);case 4:return xb(dh(n),dh(e));case 5:return In(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Oc(o),y=Oc(u);return d.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),y=u.split("/");for(let E=0;E<d.length&&E<y.length;E++){const x=In(d[E],y[E]);if(0!==x)return x}return In(d.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=In(ei(o.latitude),ei(u.latitude));return 0!==d?d:In(ei(o.longitude),ei(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],y=u.values||[];for(let E=0;E<d.length&&E<y.length;++E){const x=Qu(d[E],y[E]);if(x)return x}return In(d.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const d=o.fields||{},y=Object.keys(d),E=u.fields||{},x=Object.keys(E);y.sort(),x.sort();for(let F=0;F<y.length&&F<x.length;++F){const U=In(y[F],x[F]);if(0!==U)return U;const Y=Qu(d[y[F]],E[x[F]]);if(0!==Y)return Y}return In(y.length,x.length)}(n.mapValue,e.mapValue);default:throw St()}}function xb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return In(n,e);const t=Ul(n),r=Ul(e),o=In(t.seconds,r.seconds);return 0!==o?o:In(t.nanos,r.nanos)}function hh(n){return Mb(n)}function Mb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ul(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Oc(n.bytesValue).toBase64():"referenceValue"in n?gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=Mb(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const y of o)d?d=!1:u+=",",u+=`${y}:${Mb(r.fields[y])}`;return u+"}"}(n.mapValue):St();var e}function fh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rb(n){return!!n&&"integerValue"in n}function wm(n){return!!n&&"arrayValue"in n}function Rv(n){return!!n&&"nullValue"in n}function ep(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bm(n){return!!n&&"mapValue"in n}function tp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Nv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function np(n){return"nullValue"in n?Mv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fh(Ku.empty(),gt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:St()}function $C(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fh(Ku.empty(),gt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Sb:St()}function Nb(n,e){return void 0===n?e:void 0===e||Qu(n,e)>0?n:e}function kb(n,e){return void 0===n?e:void 0===e||Qu(n,e)<0?n:e}class Ts{constructor(e){this.value=e}static empty(){return new Ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tp(t)}setAll(e){let t=xi.emptyPath(),r={},o=[];e.forEach((d,y)=>{if(!t.isImmediateParentOf(y)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=y.popLast()}d?r[y.lastSegment()]=tp(d):o.push(y.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());bm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];bm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){kc(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Ts(tp(this.value))}}function Ob(n){const e=[];return kc(n.fields,(t,r)=>{const o=new xi([t]);if(bm(r)){const u=Ob(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new lh(e)}class vr{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new vr(e,0,sn.min(),sn.min(),Ts.empty(),0)}static newFoundDocument(e,t,r){return new vr(e,1,t,sn.min(),r,0)}static newNoDocument(e,t){return new vr(e,2,t,sn.min(),Ts.empty(),0)}static newUnknownDocument(e,t){return new vr(e,3,t,sn.min(),Ts.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Em{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function kv(n){return n.fields.find(e=>2===e.kind)}function da(n){return n.fields.filter(e=>2!==e.kind)}Em.UNKNOWN_ID=-1;class Im{constructor(e,t){this.fieldPath=e,this.kind=t}}class ph{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ph(0,Ju.min())}}function Pb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=sn.fromTimestamp(1e9===r?new Cn(t+1,0):new Cn(t,r));return new Ju(o,gt.empty(),e)}function Fb(n){return new Ju(n.readTime,n.key,-1)}class Ju{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ju(sn.min(),gt.empty(),-1)}static max(){return new Ju(sn.max(),gt.empty(),-1)}}function Lb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=gt.comparator(n.documentKey,e.documentKey),0!==t?t:In(n.largestBatchId,e.largestBatchId))}class qC{constructor(e,t=null,r=[],o=[],u=null,d=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=y,this.P=null}}function Cm(n,e=null,t=[],r=[],o=null,u=null,d=null){return new qC(n,e,t,r,o,u,d)}function Pc(n){const e=yt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+hh(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Oa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>hh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>hh(r)).join(",")),e.P=t}return e.P}function gh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!Hb(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Pa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qb(n.startAt,e.startAt)&&qb(n.endAt,e.endAt)}function Dm(n){return gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Tm(n,e){return n.filters.filter(t=>t instanceof ss&&t.field.isEqual(e))}function Ub(n,e,t){let r,o=!0;for(const u of Tm(n,e)){let d,y=!0;switch(u.op){case"<":case"<=":d=np(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,y=!1;break;case"!=":case"not-in":d=Mv}Nb(r,d)===d&&(r=d,o=y)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Nb(r,d)===d&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function Am(n,e,t){let r,o=!0;for(const u of Tm(n,e)){let d,y=!0;switch(u.op){case">=":case">":d=$C(u.value),y=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,y=!1;break;case"!=":case"not-in":d=Sb}kb(r,d)===d&&(r=d,o=y)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];kb(r,d)===d&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class ss extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Bb(e,t,r):"array-contains"===t?new WC(e,r):"in"===t?new ZC(e,r):"not-in"===t?new KC(e,r):"array-contains-any"===t?new YC(e,r):new ss(e,t,r)}static V(e,t,r){return"in"===t?new GC(e,r):new zC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Qu(t,this.value)):null!==t&&Bl(this.value)===Bl(t)&&this.v(Qu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return St()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Bb extends ss{constructor(e,t,r){super(e,t,r),this.key=gt.fromName(r.referenceValue)}matches(e){const t=gt.comparator(e.key,this.key);return this.v(t)}}class GC extends ss{constructor(e,t){super(e,"in",t),this.keys=jb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zC extends ss{constructor(e,t){super(e,"not-in",t),this.keys=jb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>gt.fromName(r.referenceValue))}class WC extends ss{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wm(t)&&Xf(t.arrayValue,this.value)}}class ZC extends ss{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xf(this.value.arrayValue,t)}}class KC extends ss{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xf(this.value.arrayValue,t)}}class YC extends ss{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xf(this.value.arrayValue,r))}}class jl{constructor(e,t){this.position=e,this.inclusive=t}}class Fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function $b(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?gt.comparator(gt.fromName(d.referenceValue),t.key):Qu(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function qb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pa(n.position[t],e.position[t]))return!1;return!0}class Iu{constructor(e,t=null,r=[],o=[],u=null,d="F",y=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=y,this.endAt=E,this.D=null,this.C=null}}function Gb(n,e,t,r,o,u,d,y){return new Iu(n,e,t,r,o,u,d,y)}function mh(n){return new Iu(n)}function Sm(n){return!Oa(n.limit)&&"F"===n.limitType}function yh(n){return!Oa(n.limit)&&"L"===n.limitType}function rp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function xm(n){for(const e of n.filters)if(e.S())return e.field;return null}function ip(n){return null!==n.collectionGroup}function _h(n){const e=yt(n);if(null===e.D){e.D=[];const t=xm(e),r=rp(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Fc(t)),e.D.push(new Fc(xi.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Fc(xi.keyField(),u))}}}return e.D}function ha(n){const e=yt(n);if(!e.C)if("F"===e.limitType)e.C=Cm(e.path,e.collectionGroup,_h(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of _h(e))t.push(new Fc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new jl(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new jl(e.startAt.position,!e.startAt.inclusive):null;e.C=Cm(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function Mm(n,e,t){return new Iu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sp(n,e){return gh(ha(n),ha(e))&&n.limitType===e.limitType}function Ov(n){return`${Pc(ha(n))}|lt:${n.limitType}`}function Pv(n){return`Query(target=${function Vb(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${hh(r.value)}`;var r}).join(", ")}]`),Oa(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>hh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>hh(t)).join(",")),`Target(${e})`}(ha(n))}; limitType=${n.limitType})`}function Rm(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):gt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const y=$b(o,u,d);return o.inclusive?y<=0:y<0}(t.startAt,_h(t),r)||t.endAt&&!function(o,u,d){const y=$b(o,u,d);return o.inclusive?y>=0:y>0}(t.endAt,_h(t),r)));var t,r}function zb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Fv(n){return(e,t)=>{let r=!1;for(const o of _h(n)){const u=JA(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function JA(n,e,t){const r=n.field.isKeyField()?gt.comparator(e.key,t.key):function(o,u,d){const y=u.data.field(o),E=d.data.field(o);return null!==y&&null!==E?Qu(y,E):St()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}function Wb(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function op(n){return{integerValue:""+n}}function Zb(n,e){return Ab(e)?op(e):Wb(n,e)}class Xu{constructor(){this._=void 0}}function ap(n,e,t){return n instanceof Lc?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Vc?Kb(n,e):n instanceof Uc?Yb(n,e):function(r,o){const u=JC(r,o),d=Lv(u)+Lv(r.k);return Rb(u)&&Rb(r.k)?op(d):Wb(r.M,d)}(n,e)}function QC(n,e,t){return n instanceof Vc?Kb(n,e):n instanceof Uc?Yb(n,e):t}function JC(n,e){return n instanceof Bc?Rb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Lc extends Xu{}class Vc extends Xu{constructor(e){super(),this.elements=e}}function Kb(n,e){const t=Nm(e);for(const r of n.elements)t.some(o=>Pa(o,r))||t.push(r);return{arrayValue:{values:t}}}class Uc extends Xu{constructor(e){super(),this.elements=e}}function Yb(n,e){let t=Nm(e);for(const r of n.elements)t=t.filter(o=>!Pa(o,r));return{arrayValue:{values:t}}}class Bc extends Xu{constructor(e,t){super(),this.M=e,this.k=t}}function Lv(n){return ei(n.integerValue||n.doubleValue)}function Nm(n){return wm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Hl{constructor(e,t){this.field=e,this.transform=t}}class XC{constructor(e,t){this.version=e,this.transformResults=t}}class ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class km{}function eD(n,e,t){n instanceof dp?function(r,o,u){const d=r.value.clone(),y=jc(r.fieldTransforms,o,u.transformResults);d.setAll(y),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof fa?function(r,o,u){if(!lp(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=jc(r.fieldTransforms,o,u.transformResults),y=o.data;y.setAll(Vv(r)),y.setAll(d),o.convertToFoundDocument(u.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cp(n,e,t){var o;n instanceof dp?function(r,o,u){if(!lp(r.precondition,o))return;const d=r.value.clone(),y=rD(r.fieldTransforms,u,o);d.setAll(y),o.convertToFoundDocument(Qb(o),d).setHasLocalMutations()}(n,e,t):n instanceof fa?function(r,o,u){if(!lp(r.precondition,o))return;const d=rD(r.fieldTransforms,u,o),y=o.data;y.setAll(Vv(r)),y.setAll(d),o.convertToFoundDocument(Qb(o),y).setHasLocalMutations()}(n,e,t):lp(n.precondition,o=e)&&o.convertToNoDocument(sn.min())}function tD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=JC(r.transform,o||null);null!=u&&(null==t&&(t=Ts.empty()),t.set(r.field,u))}return t||null}function nD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Zu(t,r,(o,u)=>function up(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Vc&&r instanceof Vc||t instanceof Uc&&r instanceof Uc?Zu(t.elements,r.elements,Pa):t instanceof Bc&&r instanceof Bc?Pa(t.k,r.k):t instanceof Lc&&r instanceof Lc);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Qb(n){return n.isFoundDocument()?n.version:sn.min()}class dp extends km{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class fa extends km{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function Vv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jc(n,e,t){const r=new Map;un(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,y=e.data.field(u.field);r.set(u.field,QC(d,y,t[o]))}return r}function rD(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,ap(u,d,e))}return r}class vh extends km{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Uv extends km{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class XA{constructor(e){this.count=e}}var li,Zn;function Bv(n){switch(n){default:return St();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function Om(n){if(void 0===n)return ai("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case li.OK:return Ce.OK;case li.CANCELLED:return Ce.CANCELLED;case li.UNKNOWN:return Ce.UNKNOWN;case li.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case li.INTERNAL:return Ce.INTERNAL;case li.UNAVAILABLE:return Ce.UNAVAILABLE;case li.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case li.NOT_FOUND:return Ce.NOT_FOUND;case li.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case li.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case li.ABORTED:return Ce.ABORTED;case li.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case li.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case li.DATA_LOSS:return Ce.DATA_LOSS;default:return St()}}(Zn=li||(li={}))[Zn.OK=0]="OK",Zn[Zn.CANCELLED=1]="CANCELLED",Zn[Zn.UNKNOWN=2]="UNKNOWN",Zn[Zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zn[Zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zn[Zn.NOT_FOUND=5]="NOT_FOUND",Zn[Zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zn[Zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zn[Zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zn[Zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zn[Zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zn[Zn.ABORTED=10]="ABORTED",Zn[Zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zn[Zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zn[Zn.INTERNAL=13]="INTERNAL",Zn[Zn.UNAVAILABLE=14]="UNAVAILABLE",Zn[Zn.DATA_LOSS=15]="DATA_LOSS";class $l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Cb(this.inner)}size(){return this.innerSize}}class ci{constructor(e,t){this.comparator=e,this.root=t||os.EMPTY}insert(e,t){return new ci(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,os.BLACK,null,null))}remove(e){return new ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,os.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pm(this.root,e,this.comparator,!0)}}class Pm{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class os{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:os.RED,this.left=null!=o?o:os.EMPTY,this.right=null!=u?u:os.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new os(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return os.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return os.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,os.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,os.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}os.EMPTY=null,os.RED=!0,os.BLACK=!1,os.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(n,e,t,r,o){return this}insert(n,e,t){return new os(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mr{constructor(e){this.comparator=e,this.data=new ci(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jb(this.data.getIterator())}getIteratorFrom(e){return new Jb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mr(this.comparator);return t.data=e,t}}class Jb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wh(n){return n.hasNext()?n.getNext():void 0}const iD=new ci(gt.comparator);function pa(){return iD}const sD=new ci(gt.comparator);function Hc(){return sD}function bh(){return new $l(n=>n.toString(),(n,e)=>n.isEqual(e))}const Xb=new ci(gt.comparator),eE=new Mr(gt.comparator);function tr(...n){let e=eE;for(const t of n)e=e.add(t);return e}const tE=new Mr(In);function hp(){return tE}class fp{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,t)),new fp(sn.min(),r,hp(),pa(),tr())}}class Eh{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Eh(Mi.EMPTY_BYTE_STRING,t,tr(),tr(),tr())}}class Fm{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class nE{constructor(e,t){this.targetId=e,this.$=t}}class rE{constructor(e,t,r=Mi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class iE{constructor(){this.B=0,this.L=Lm(),this.U=Mi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=tr(),t=tr(),r=tr();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:St()}}),new Eh(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Lm()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class pp{constructor(e){this.nt=e,this.st=new Map,this.it=pa(),this.rt=sE(),this.ot=new Mr(In)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:St()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(Dm(u))if(0===r){const d=new gt(u.path);this.ct(t,d,vr.newNoDocument(d,sn.min()))}else un(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,d)=>{const y=this.wt(d);if(y){if(u.current&&Dm(y.target)){const E=new gt(y.target.path);null!==this.it.get(E)||this.It(d,E)||this.ct(d,E,vr.newNoDocument(E,e))}u.j&&(t.set(d,u.H()),u.J())}});let r=tr();this.rt.forEach((u,d)=>{let y=!0;d.forEachWhile(E=>{const x=this.wt(E);return!x||2===x.purpose||(y=!1,!1)}),y&&(r=r.add(u))}),this.it.forEach((u,d)=>d.setReadTime(e));const o=new fp(e,t,this.ot,this.it,r);return this.it=pa(),this.rt=sE(),this.ot=new Mr(In),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new iE,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Mr(In),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||it("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new iE),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function sE(){return new ci(gt.comparator)}function Lm(){return new ci(gt.comparator)}const Cu={asc:"ASCENDING",desc:"DESCENDING"},oD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class jv{constructor(e,t){this.databaseId=e,this.N=t}}function el(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(n,e){return n.N?e.toBase64():e.toUint8Array()}function aD(n,e){return el(n,e.toTimestamp())}function $i(n){return un(!!n),sn.fromTimestamp(function(e){const t=Ul(e);return new Cn(t.seconds,t.nanos)}(n))}function Ih(n,e){return(t=n,new $n(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gp(n){const e=$n.fromString(n);return un(Wv(e)),e}function mp(n,e){return Ih(n.databaseId,e.path)}function Du(n,e){const t=gp(e);if(t.get(1)!==n.databaseId.projectId)throw new et(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new et(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new gt($v(t))}function Vm(n,e){return Ih(n.databaseId,e)}function Hv(n){const e=gp(n);return 4===e.length?$n.emptyPath():$v(e)}function $c(n){return new $n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $v(n){return un(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function aE(n,e,t){return{name:mp(n,e),fields:t.value.mapValue.fields}}function uE(n,e,t){const r=Du(n,e.name),o=$i(e.updateTime),u=new Ts({mapValue:{fields:e.fields}}),d=vr.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function qc(n,e){let t;if(e instanceof dp)t={update:aE(n,e.key,e.value)};else if(e instanceof vh)t={delete:mp(n,e.key)};else if(e instanceof fa)t={update:aE(n,e.key,e.data),updateMask:lD(e.fieldMask)};else{if(!(e instanceof Uv))return St();t={verify:mp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Lc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Uc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bc)return{fieldPath:u.field.canonicalString(),increment:d.k};throw St()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:aD(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:St()),t;var o}function Um(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?ui.updateTime($i(o.updateTime)):void 0!==o.exists?ui.exists(o.exists):ui.none():ui.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let y=null;"setToServerValue"in d?(un("REQUEST_TIME"===d.setToServerValue),y=new Lc):"appendMissingElements"in d?y=new Vc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?y=new Uc(d.removeAllFromArray.values||[]):"increment"in d?y=new Bc(u,d.increment):St();const E=xi.fromServerFormat(d.fieldPath);return new Hl(E,y)}(n,o)):[];var o;if(e.update){const o=Du(n,e.update.name),u=new Ts({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new lh((e.updateMask.fieldPaths||[]).map(x=>xi.fromServerFormat(x)));return new fa(o,u,d,t,r)}return new dp(o,u,t,r)}if(e.delete){const o=Du(n,e.delete);return new vh(o,t)}if(e.verify){const o=Du(n,e.verify);return new Uv(o,t)}return St()}function Bm(n,e){return{documents:[Vm(n,e.path)]}}function lE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Vm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Vm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const x=E.map(F=>function(U){if("=="===U.op){if(ep(U.value))return{unaryFilter:{field:Gc(U.field),op:"IS_NAN"}};if(Rv(U.value))return{unaryFilter:{field:Gc(U.field),op:"IS_NULL"}}}else if("!="===U.op){if(ep(U.value))return{unaryFilter:{field:Gc(U.field),op:"IS_NOT_NAN"}};if(Rv(U.value))return{unaryFilter:{field:Gc(U.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gc(U.field),op:zv(U.op),value:U.value}}}(F));return 1===x.length?x[0]:{compositeFilter:{op:"AND",filters:x}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(x=>{return{field:Gc((F=x).field),direction:hE(F.dir)};var F})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(x=e.limit,n.N||Oa(x)?x:{value:x});var x,y,E;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(y=e.startAt).inclusive,values:y.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function cE(n){let e=Hv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){un(1===r);const F=t.from[0];F.allDescendants?o=F.collectionId:e=e.child(F.collectionId)}let u=[];t.where&&(u=dE(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(F=>{return new Fc(Ch((U=F).field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let y=null;t.limit&&(y=function(F){let U;return U="object"==typeof F?F.value:F,Oa(U)?null:U}(t.limit));let E=null;var F;t.startAt&&(E=new jl((F=t.startAt).values||[],!!F.before));let x=null;return t.endAt&&(x=function(F){return new jl(F.values||[],!F.before)}(t.endAt)),Gb(e,o,d,u,y,"F",E,x)}function dE(n){return n?void 0!==n.unaryFilter?[pE(n)]:void 0!==n.fieldFilter?[fE(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>dE(e)).reduce((e,t)=>e.concat(t)):St():[]}function hE(n){return Cu[n]}function zv(n){return oD[n]}function Gc(n){return{fieldPath:n.canonicalString()}}function Ch(n){return xi.fromServerFormat(n.fieldPath)}function fE(n){return ss.create(Ch(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(n.fieldFilter.op),n.fieldFilter.value)}function pE(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ch(n.unaryFilter.field);return ss.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ch(n.unaryFilter.field);return ss.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ch(n.unaryFilter.field);return ss.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ch(n.unaryFilter.field);return ss.create(o,"!=",{nullValue:"NULL_VALUE"});default:return St()}}function lD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Wv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function As(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Zv(e)),e=cD(n.get(t),e);return Zv(e)}function cD(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Zv(n){return n+"\x01\x01"}function Tu(n){const e=n.length;if(un(e>=2),2===e)return un("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),$n.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&St(),n.charAt(d+1)){case"\x01":const y=n.substring(u,d);let E;0===o.length?E=y:(o+=y,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:St()}u=d+2}return new $n(r)}const Ss=["userId","batchId"];function tl(n,e){return[n,As(e)]}function gE(n,e,t){return[n,As(e),t]}const dD={},tS=["prefixPath","collectionGroup","readTime","documentId"],yp=["prefixPath","collectionGroup","documentId"],hD=["collectionGroup","readTime","prefixPath","documentId"],Kv=["canonicalId","targetId"],fD=["targetId","path"],mE=["path","targetId"],pD=["collectionId","parent"],gD=["indexId","uid"],Yv=["uid","sequenceNumber"],yE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_E=["indexId","uid","orderedDocumentKey"],jm=["userId","collectionPath","documentId"],Qv=["userId","collectionPath","largestBatchId"],nS=["userId","collectionGroup","largestBatchId"],Jv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mD=[...Jv,"documentOverlays"],Xv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Hm=[...Xv,"indexConfiguration","indexState","indexEntries"],e0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pe((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pe?t:Pe.resolve(t)}catch(t){return Pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.reject(t)}static resolve(e){return new Pe((t,r)=>{t(e)})}static reject(e){return new Pe((t,r)=>{r(e)})}static waitFor(e){return new Pe((t,r)=>{let o=0,u=0,d=!1;e.forEach(y=>{++o,y.next(()=>{++u,d&&u===o&&t()},E=>r(E))}),d=!0,u===o&&t()})}static or(e){let t=Pe.resolve(!1);for(const r of e)t=t.next(o=>o?Pe.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class Dh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Hi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new _p(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=$m(r.target.error);this.At.reject(new _p(e,o))}}static open(e,t,r,o){try{return new Dh(t,e.transaction(o,r))}catch(u){throw new _p(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(it("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wE(t)}}class Au{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===Au.Vt((0,nn.z$)())&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return it("SimpleDb","Removing database:",e),zc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,nn.hl)())return!1;if(Au.St())return!0;const e=(0,nn.z$)(),t=Au.Vt(e),r=0<t&&t<10,o=Au.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Fe.Z)(function*(){return t.db||(it("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new _p(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const y=d.target.error;o("VersionError"===y.name?new et(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new et(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new _p(e,y))},u.onupgradeneeded=d=>{it("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.bt.kt(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{it("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,Fe.Z)(function*(){const d="readonly"===t;let y=0;for(;;){++y;try{u.db=yield u.Nt(e);const E=Dh.open(u.db,e,d?"readonly":"readwrite",r),x=o(E).next(F=>(E.Pt(),F)).catch(F=>(E.abort(F),Pe.reject(F))).toPromise();return x.catch(()=>{}),yield E.Rt,x}catch(E){const x="FirebaseError"!==E.name&&y<3;if(it("SimpleDb","Transaction failed with error:",E.message,"Retrying:",x),u.close(),!x)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yD{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return zc(this.Ft.delete())}}class _p extends et{constructor(e,t){super(Ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ql(n){return"IndexedDbTransactionError"===n.name}class wE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(it("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(it("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),zc(r)}add(e){return it("SimpleDb","ADD",this.store.name,e,e),zc(this.store.add(e))}get(e){return zc(this.store.get(e)).next(t=>(void 0===t&&(t=null),it("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return it("SimpleDb","DELETE",this.store.name,e),zc(this.store.delete(e))}count(){return it("SimpleDb","COUNT",this.store.name),zc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Kt(o,(d,y)=>{u.push(y)}).next(()=>u)}{const o=this.store.getAll(r.range);return new Pe((u,d)=>{o.onerror=y=>{d(y.target.error)},o.onsuccess=y=>{u(y.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Pe((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Qt(e,t){it("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(u,d,y)=>y.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}zt(e){const t=this.cursor({});return new Pe((r,o)=>{t.onerror=u=>{const d=$m(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(y=>{y?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new Pe((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const y=d.target.result;if(!y)return void o();const E=new yD(y),x=t(y.primaryKey,y.value,E);if(x instanceof Pe){const F=x.catch(U=>(E.done(),Pe.reject(U)));r.push(F)}E.isDone?o():null===E.Lt?y.continue():y.continue(E.Lt)}}).next(()=>Pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zc(n){return new Pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=$m(r.target.error);t(o)}})}let t0=!1;function $m(n){const e=Au.Vt((0,nn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return t0||(t0=!0,setTimeout(()=>{throw r},0)),r}}return n}class bE extends vE{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function qi(n,e){const t=yt(n);return Au.xt(t.Ht,e)}class qm{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&eD(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&cp(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&cp(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(sn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tr())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(t,r)=>nD(t,r))&&Zu(this.baseMutations,e.baseMutations,(t,r)=>nD(t,r))}}class n0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){un(e.mutations.length===r.length);let o=Xb;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new n0(e,t,r,o)}}class Gm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nl{constructor(e,t,r,o,u=sn.min(),d=sn.min(),y=Mi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y}withSequenceNumber(e){return new nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class r0{constructor(e){this.Jt=e}}function IE(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:mp(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:el(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Th(e.version)};else{if(!e.isUnknownDocument())return St();r.unknownDocument={path:t.path.toArray(),version:Th(e.version)}}var o,u;return r}function zm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Th(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gl(n){const e=new Cn(n.seconds,n.nanoseconds);return sn.fromTimestamp(e)}function vp(n,e){const t=(e.baseMutations||[]).map(u=>Um(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Um(n.Jt,u)),o=Cn.fromMillis(e.localWriteTimeMs);return new qm(e.batchId,o,t,r)}function Wm(n){const e=Gl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gl(n.lastLimboFreeSnapshotVersion):sn.min();let r;var o;return void 0!==n.query.documents?(un(1===(o=n.query).documents.length),r=ha(mh(Hv(o.documents[0])))):r=ha(cE(n.query)),new nl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Mi.fromBase64String(n.resumeToken))}function _D(n,e){const t=Th(e.snapshotVersion),r=Th(e.lastLimboFreeSnapshotVersion);let o;o=Dm(e.target)?Bm(n.Jt,e.target):lE(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function CE(n){const e=cE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Mm(e,e.limit,"L"):e}function DE(n,e){return new Gm(e.largestBatchId,Um(n.Jt,e.overlayMutation))}function vD(n,e){const t=e.path.lastSegment();return[n,As(e.path.popLast()),t]}class rS{getBundleMetadata(e,t){return wD(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Gl(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return wD(e).put({bundleId:(r=t).id,createTime:Th($i(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return wp(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:CE(o.bundledQuery),readTime:Gl(o.readTime)};var o})}saveNamedQuery(e,t){return wp(e).put({name:(r=t).name,readTime:Th($i(r.readTime)),bundledQuery:r.bundledQuery});var r}}function wD(n){return qi(n,"bundles")}function wp(n){return qi(n,"namedQueries")}class TE{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new TE(e,t.uid||"")}getOverlay(e,t){return Ah(e).get(vD(this.userId,t)).next(r=>r?DE(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const y=new Gm(t,d);o.push(this.Xt(e,y))}),Pe.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(As(d.getCollectionPath())));const u=[];return o.forEach(d=>{const y=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(Ah(e).Qt("collectionPathOverlayIndex",y))}),Pe.waitFor(u)}getOverlaysForCollection(e,t,r){const o=bh(),u=As(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Ah(e).qt("collectionPathOverlayIndex",d).next(y=>{for(const E of y){const x=DE(this.M,E);o.set(x.getKey(),x)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=bh();let d;const y=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ah(e).Wt({index:"collectionGroupOverlayIndex",range:y},(E,x,F)=>{const U=DE(this.M,x);u.size()<o||U.largestBatchId===d?(u.set(U.getKey(),U),d=U.largestBatchId):F.done()}).next(()=>u)}Xt(e,t){return Ah(e).put(function(r,o,u){const[d,y,E]=vD(o,u.mutation.key);return{userId:o,collectionPath:y,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:qc(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function Ah(n){return qi(n,"documentOverlays")}class rl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ei(e.integerValue));else if("doubleValue"in e){const r=ei(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Yu(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Oc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Nv(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):St()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),gt.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function AE(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function s0(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=AE(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}rl.fe=new rl;class iS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=s0(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=s0(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class o0{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class SE{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class bp{constructor(){this.De=new iS,this.Ce=new o0(this.De),this.xe=new SE(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class il{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new il(this.indexId,this.documentKey,this.arrayValue,r)}}function Sh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=xE(n.arrayValue,e.arrayValue),0!==t?t:(t=xE(n.directionalValue,e.directionalValue),0!==t?t:gt.comparator(n.documentKey,e.documentKey)))}function xE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class bD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=kv(e);if(void 0!==t&&!this.Be(t))return!1;const r=da(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const d=r[o];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class a0{constructor(){this.qe=new u0}addToCollectionParentIndex(e,t){return this.qe.add(t),Pe.resolve()}getCollectionParents(e,t){return Pe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Pe.resolve()}deleteFieldIndex(e,t){return Pe.resolve()}getDocumentsMatchingTarget(e,t){return Pe.resolve(null)}getFieldIndex(e,t){return Pe.resolve(null)}getFieldIndexes(e,t){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}updateCollectionGroup(e,t,r){return Pe.resolve()}updateIndexEntries(e,t){return Pe.resolve()}}class u0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Mr($n.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Mr($n.comparator)).toArray()}}const Ep=new Uint8Array(0);class sS{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new u0,this.Ge=new $l(r=>Pc(r),(r,o)=>gh(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:As(o)};return ED(e).put(u)}return Pe.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Qf(t),""],!1,!0);return ED(e).qt(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Tu(d.parent))}return r})}addFieldIndex(e,t){const r=Zm(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=Zm(e),o=Km(e),u=Ip(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ip(e);let o=!0;const u=new Map;return Pe.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(y=>{o&&(o=!!y),u.set(d,y)})).next(()=>{if(o){let d=tr();const y=[];return Pe.forEach(u,(E,x)=>{var F;it("IndexedDbIndexManager",`Using index ${F=E,`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(Qt=>`${Qt.fieldPath}:${Qt.kind}`).join(",")}`} to execute ${Pc(t)}`);const U=function(Qt,Ut){const vn=kv(Ut);if(void 0===vn)return null;for(const Vn of Tm(Qt,vn.fieldPath))switch(Vn.op){case"array-contains-any":return Vn.value.arrayValue.values||[];case"array-contains":return[Vn.value]}return null}(x,E),Y=function(Qt,Ut){const vn=new Map;for(const Vn of da(Ut))for(const zi of Tm(Qt,Vn.fieldPath))switch(zi.op){case"==":case"in":vn.set(Vn.fieldPath.canonicalString(),zi.value);break;case"not-in":case"!=":return vn.set(Vn.fieldPath.canonicalString(),zi.value),Array.from(vn.values())}return null}(x,E),ae=function(Qt,Ut){const vn=[];let Vn=!0;for(const zi of da(Ut)){const Va=0===zi.kind?Ub(Qt,zi.fieldPath,Qt.startAt):Am(Qt,zi.fieldPath,Qt.startAt);if(!Va.value)return null;vn.push(Va.value),Vn&&(Vn=Va.inclusive)}return new jl(vn,Vn)}(x,E),ye=function(Qt,Ut){const vn=[];let Vn=!0;for(const zi of da(Ut)){const Va=0===zi.kind?Am(Qt,zi.fieldPath,Qt.endAt):Ub(Qt,zi.fieldPath,Qt.endAt);if(!Va.value)return null;vn.push(Va.value),Vn&&(Vn=Va.inclusive)}return new jl(vn,Vn)}(x,E),nt=this.je(E,x,ae),ht=this.je(E,x,ye),fn=this.We(E,x,Y),pn=this.ze(E.indexId,U,nt,!!ae&&ae.inclusive,ht,!!ye&&ye.inclusive,fn);return Pe.forEach(pn,Qt=>r.Gt(Qt,t.limit).next(Ut=>{Ut.forEach(vn=>{const Vn=gt.fromSegments(vn.documentKey);d.has(Vn)||(d=d.add(Vn),y.push(Vn))})}))}).next(()=>y)}return Pe.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,o,u,d,y){const E=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),x=E/(null!=t?t.length:1),F=[];for(let U=0;U<E;++U){const Y=t?this.He(t[U/x]):Ep,ae=r?this.Je(e,Y,r[U%x],o):this.Ye(e),ye=u?this.Xe(e,Y,u[U%x],d):this.Ye(e+1);F.push(...this.createRange(ae,ye,y.map(nt=>this.Je(e,Y,nt,!0))))}return F}Je(e,t,r,o){const u=new il(e,gt.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new il(e,gt.empty(),t,r);return o?u.ke():u}Ye(e){return new il(e,gt.empty(),Ep,Ep)}getFieldIndex(e,t){const r=new bD(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{const d=u.filter(y=>r.$e(y));return d.sort((y,E)=>E.fields.length-y.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new bp;for(const o of da(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.Ne(o.kind);rl.fe.Zt(u,d)}return r.Se()}He(e){const t=new bp;return rl.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new bp;return rl.fe.Zt(fh(this.databaseId,t),r.Ne(function(o){const u=da(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new bp);let u=0;for(const d of da(e)){const y=r[u++];for(const E of o)if(this.en(t,d.fieldPath)&&wm(y))o=this.nn(o,d,y);else{const x=E.Ne(d.kind);rl.fe.Zt(y,x)}}return this.sn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const y of o){const E=new bp;E.seed(y.Se()),rl.fe.Zt(d,E.Ne(t.kind)),u.push(E)}return u}en(e,t){return!!e.filters.find(r=>r instanceof ss&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Zm(e),o=Km(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const d=[];return Pe.forEach(u,y=>o.get([y.indexId,this.uid]).next(E=>{d.push(function(x,F){const U=F?new ph(F.sequenceNumber,new Ju(Gl(F.readTime),new gt(Tu(F.documentKey)),F.largestBatchId)):ph.empty(),Y=x.fields.map(([ae,ye])=>new Im(xi.fromServerFormat(ae),ye));return new Em(x.indexId,x.collectionGroup,Y,U)}(y,E))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:In(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Zm(e),u=Km(e);return this.rn(e).next(d=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(y=>Pe.forEach(y,E=>{return u.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Th((Y=r).readTime),documentKey:As(Y.documentKey.path),largestBatchId:Y.largestBatchId});var Y})))}updateIndexEntries(e,t){const r=new Map;return Pe.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?Pe.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(y=>(r.set(o.collectionGroup,y),Pe.forEach(y,E=>this.on(e,o,E).next(x=>{const F=this.un(u,E);return x.isEqual(F)?Pe.resolve():this.an(e,u,E,x,F)}))))})}cn(e,t,r,o){return Ip(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,o){return Ip(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const o=Ip(e);let u=new Mr(Sh);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,y)=>{u=u.add(new il(r.indexId,t,y.arrayValue,y.directionalValue))}).next(()=>u)}un(e,t){let r=new Mr(Sh);const o=this.Ze(t,e);if(null==o)return r;const u=kv(t);if(null!=u){const d=e.data.field(u.fieldPath);if(wm(d))for(const y of d.arrayValue.values||[])r=r.add(new il(t.indexId,e.key,this.He(y),o))}else r=r.add(new il(t.indexId,e.key,Ep,o));return r}an(e,t,r,o,u){it("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(y,E,x,F,U){const Y=y.getIterator(),ae=E.getIterator();let ye=wh(Y),nt=wh(ae);for(;ye||nt;){let ht=!1,fn=!1;if(ye&&nt){const pn=x(ye,nt);pn<0?fn=!0:pn>0&&(ht=!0)}else null!=ye?fn=!0:ht=!0;ht?(F(nt),nt=wh(ae)):fn?(U(ye),ye=wh(Y)):(ye=wh(Y),nt=wh(ae))}}(o,u,Sh,y=>{d.push(this.cn(e,t,r,y))},y=>{d.push(this.hn(e,t,r,y))}),Pe.waitFor(d)}rn(e){let t=1;return Km(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,y)=>Sh(d,y)).filter((d,y,E)=>!y||0!==Sh(d,E[y-1]));const o=[];o.push(e);for(const d of r){const y=Sh(d,e),E=Sh(d,t);if(0===y)o[0]=e.ke();else if(y>0&&E<0)o.push(d),o.push(d.ke());else if(E>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,Ep,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,Ep,[]]));return u}}function ED(n){return qi(n,"collectionParents")}function Ip(n){return qi(n,"indexEntries")}function Zm(n){return qi(n,"indexConfiguration")}function Km(n){return qi(n,"indexState")}const ID={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mo(e,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ym(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let y=0;const E=r.Wt({range:d},(F,U,Y)=>(y++,Y.delete()));u.push(E.next(()=>{un(1===y)}));const x=[];for(const F of t.mutations){const U=gE(e,F.key.path,t.batchId);u.push(o.delete(U)),x.push(F.key)}return Pe.waitFor(u).next(()=>x)}function Qm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw St();e=n.noDocument}return JSON.stringify(e).length}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class Lo{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.ln={}}static Yt(e,t,r,o){un(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Lo(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Su(e).Wt({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=xh(e),d=Su(e);return d.add({}).next(y=>{un("number"==typeof y);const E=new qm(y,t,r,o),x=function(Y,ae,ye){const nt=ye.baseMutations.map(fn=>qc(Y.Jt,fn)),ht=ye.mutations.map(fn=>qc(Y.Jt,fn));return{userId:ae,batchId:ye.batchId,localWriteTimeMs:ye.localWriteTime.toMillis(),baseMutations:nt,mutations:ht}}(this.M,this.userId,E),F=[];let U=new Mr((Y,ae)=>In(Y.canonicalString(),ae.canonicalString()));for(const Y of o){const ae=gE(this.userId,Y.key.path,y);U=U.add(Y.key.path.popLast()),F.push(d.put(x)),F.push(u.put(ae,dD))}return U.forEach(Y=>{F.push(this.indexManager.addToCollectionParentIndex(e,Y))}),e.addOnCommittedListener(()=>{this.ln[y]=E.keys()}),Pe.waitFor(F).next(()=>E)})}lookupMutationBatch(e,t){return Su(e).get(t).next(r=>r?(un(r.userId===this.userId),vp(this.M,r)):null)}fn(e,t){return this.ln[t]?Pe.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.ln[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Su(e).Wt({index:"userMutationsIndex",range:o},(d,y,E)=>{y.userId===this.userId&&(un(y.batchId>=r),u=vp(this.M,y)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Su(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Su(e).qt("userMutationsIndex",t).next(r=>r.map(o=>vp(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=tl(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return xh(e).Wt({range:o},(d,y,E)=>{const[x,F,U]=d,Y=Tu(F);if(x===this.userId&&t.path.isEqual(Y))return Su(e).get(U).next(ae=>{if(!ae)throw St();un(ae.userId===this.userId),u.push(vp(this.M,ae))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mr(In);const o=[];return t.forEach(u=>{const d=tl(this.userId,u.path),y=IDBKeyRange.lowerBound(d),E=xh(e).Wt({range:y},(x,F,U)=>{const[Y,ae,ye]=x,nt=Tu(ae);Y===this.userId&&u.path.isEqual(nt)?r=r.add(ye):U.done()});o.push(E)}),Pe.waitFor(o).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=tl(this.userId,r),d=IDBKeyRange.lowerBound(u);let y=new Mr(In);return xh(e).Wt({range:d},(E,x,F)=>{const[U,Y,ae]=E,ye=Tu(Y);U===this.userId&&r.isPrefixOf(ye)?ye.length===o&&(y=y.add(ae)):F.done()}).next(()=>this.dn(e,y))}dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Su(e).get(u).next(d=>{if(null===d)throw St();un(d.userId===this.userId),r.push(vp(this.M,d))}))}),Pe.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Ym(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Pe.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return xh(e).Wt({range:r},(u,d,y)=>{if(u[0]===this.userId){const E=Tu(u[1]);o.push(E)}else y.done()}).next(()=>{un(0===o.length)})})}containsKey(e,t){return ME(e,this.userId,t)}wn(e){return RE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ME(n,e,t){const r=tl(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return xh(n).Wt({range:u,jt:!0},(y,E,x)=>{const[F,U,Y]=y;F===e&&U===o&&(d=!0),x.done()}).next(()=>d)}function Su(n){return qi(n,"mutations")}function xh(n){return qi(n,"documentMutations")}function RE(n){return qi(n,"mutationQueues")}class sl{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new sl(0)}static yn(){return new sl(-1)}}class NE{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new sl(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>sn.fromTimestamp(new Cn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.In(e,o)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wc(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(un(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Wc(e).Wt((d,y)=>{const E=Wm(y);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>Pe.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Wc(e).Wt((r,o)=>{const u=Wm(o);t(u)})}pn(e){return kE(e).get("targetGlobalKey").next(t=>(un(null!==t),t))}In(e,t){return kE(e).put("targetGlobalKey",t)}Tn(e,t){return Wc(e).put(_D(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Pc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Wc(e).Wt({range:o,index:"queryTargetsIndex"},(d,y,E)=>{const x=Wm(y);gh(t,x.target)&&(u=x,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=ol(e);return t.forEach(d=>{const y=As(d.path);o.push(u.put({targetId:r,path:y})),o.push(this.referenceDelegate.addReference(e,r,d))}),Pe.waitFor(o)}removeMatchingKeys(e,t,r){const o=ol(e);return Pe.forEach(t,u=>{const d=As(u.path);return Pe.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=ol(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=ol(e);let u=tr();return o.Wt({range:r,jt:!0},(d,y,E)=>{const x=Tu(d[1]),F=new gt(x);u=u.add(F)}).next(()=>u)}containsKey(e,t){const r=As(t.path),o=IDBKeyRange.bound([r],[Qf(r)],!1,!0);let u=0;return ol(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([d,y],E,x)=>{0!==d&&(u++,x.done())}).next(()=>u>0)}Et(e,t){return Wc(e).get(t).next(r=>r?Wm(r):null)}}function Wc(n){return qi(n,"targets")}function kE(n){return qi(n,"targetGlobal")}function ol(n){return qi(n,"targetDocuments")}function Zc(n){return l0.apply(this,arguments)}function l0(){return l0=(0,Fe.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==e0)throw n;it("LocalStore","Unexpectedly lost primary lease")}),l0.apply(this,arguments)}function OE([n,e],[t,r]){const o=In(n,t);return 0===o?In(e,r):o}class c0{constructor(e){this.An=e,this.buffer=new Mr(OE),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();OE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fa{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;it("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Fe.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){ql(o)?it("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Zc(o)}yield t.Sn(e)}))}}class CD{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Pe.resolve(Fo.A);const r=new c0(t);return this.Dn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Dn.xn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(ID)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ID):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,o,u,d,y,E,x;const F=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),o=this.params.maximumSequenceNumbersToCollect):o=U,d=Date.now(),this.nthSequenceNumber(e,o))).next(U=>(r=U,y=Date.now(),this.removeTargets(e,r,t))).next(U=>(u=U,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(U=>(x=Date.now(),_m()<=Is.in.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-F}ms\n\tDetermined least recently used ${o} in `+(y-d)+`ms\n\tRemoved ${u} targets in `+(E-y)+`ms\n\tRemoved ${U} documents in `+(x-E)+`ms\nTotal Duration: ${x-F}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:U})))}}class oS{constructor(e,t){this.db=e,this.garbageCollector=new CD(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,o)=>t(o))}addReference(e,t,r){return Jm(e,r)}removeReference(e,t,r){return Jm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Jm(e,t)}On(e,t){return function(r,o){let u=!1;return RE(r).zt(d=>ME(r,d,o).next(y=>(y&&(u=!0),Pe.resolve(!y)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Mn(e,(d,y)=>{if(y<=t){const E=this.On(e,d).next(x=>{if(!x)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,sn.min()),ol(e).delete([0,As(d.path)])))});o.push(E)}}).next(()=>Pe.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Jm(e,t)}Mn(e,t){const r=ol(e);let o,u=Fo.A;return r.Wt({index:"documentTargetsIndex"},([d,y],{path:E,sequenceNumber:x})=>{0===d?(u!==Fo.A&&t(new gt(Tu(o)),u),u=x,o=E):u=Fo.A}).next(()=>{u!==Fo.A&&t(new gt(Tu(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jm(n,e){return ol(n).put((r=n.currentSequenceNumber,{targetId:0,path:As(e.path),sequenceNumber:r}));var r}class d0{constructor(){this.changes=new $l(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DD{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Kc(e).put(r)}removeEntry(e,t,r){return Kc(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],zm(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=vr.newInvalidDocument(t);return Kc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xm(t))},(o,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:vr.newInvalidDocument(t)};return Kc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xm(t))},(o,u)=>{r={document:this.$n(t,u),size:Qm(u)}}).next(()=>r)}getEntries(e,t){let r=pa();return this.Ln(e,t,(o,u)=>{const d=this.$n(o,u);r=r.insert(o,d)}).next(()=>r)}Un(e,t){let r=pa(),o=new ci(gt.comparator);return this.Ln(e,t,(u,d)=>{const y=this.$n(u,d);r=r.insert(u,y),o=o.insert(u,Qm(d))}).next(()=>({documents:r,qn:o}))}Ln(e,t,r){if(t.isEmpty())return Pe.resolve();let o=new Mr(PE);t.forEach(E=>o=o.add(E));const u=IDBKeyRange.bound(Xm(o.first()),Xm(o.last())),d=o.getIterator();let y=d.getNext();return Kc(e).Wt({index:"documentKeyIndex",range:u},(E,x,F)=>{const U=gt.fromSegments([...x.prefixPath,x.collectionGroup,x.documentId]);for(;y&&PE(y,U)<0;)r(y,null),y=d.getNext();y&&y.isEqual(U)&&(r(y,x),y=d.hasNext()?d.getNext():null),y?F.Ut(Xm(y)):F.done()}).next(()=>{for(;y;)r(y,null),y=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),zm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kc(e).qt(IDBKeyRange.bound(o,u,!0)).next(d=>{let y=pa();for(const E of d){const x=this.$n(gt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);y=y.insert(x.key,x)}return y})}getAllFromCollectionGroup(e,t,r,o){let u=pa();const d=f0(t,r),y=f0(t,Ju.max());return Kc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,y,!0)},(E,x,F)=>{const U=this.$n(gt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);u=u.insert(U.key,U),u.size===o&&F.done()}).next(()=>u)}newChangeBuffer(e){return new TD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return h0(e).get("remoteDocumentGlobalKey").next(t=>(un(!!t),t))}Fn(e,t){return h0(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function EE(n,e){let t;if(e.document)t=uE(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=gt.fromSegments(e.noDocument.path),o=Gl(e.noDocument.readTime);t=vr.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return St();{const r=gt.fromSegments(e.unknownDocument.path),o=Gl(e.unknownDocument.version);t=vr.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Cn(r[0],r[1]);return sn.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(sn.min()))return r}return vr.newInvalidDocument(e)}}class TD extends d0{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new $l(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Mr((u,d)=>In(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const y=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,y.readTime)),d.isValidDocument()){const E=IE(this.Kn.M,d);o=o.add(u.path.popLast()),r+=Qm(E)-y.size,t.push(this.Kn.addEntry(e,u,E))}else if(r-=y.size,this.trackRemovals){const E=IE(this.Kn.M,d.convertToNoDocument(sn.min()));t.push(this.Kn.addEntry(e,u,E))}}),o.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),Pe.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:o})=>(o.forEach((u,d)=>{this.Gn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function h0(n){return qi(n,"remoteDocumentGlobal")}function Kc(n){return qi(n,"remoteDocumentsV14")}function Xm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function f0(n,e){const t=e.documentKey.path.toArray();return[n,zm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function PE(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=In(t[u],r[u]),o)return o;return o=In(t.length,r.length),o||(o=In(t[t.length-2],r[r.length-2]),o||In(t[t.length-1],r[r.length-1]))}class AD{constructor(e){this.M=e}kt(e,t,r,o){const u=new Dh("createOrUpgrade",t);var y;r<1&&o>=1&&(e.createObjectStore("owner"),(y=e).createObjectStore("mutationQueues",{keyPath:"userId"}),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ss,{unique:!0}),y.createObjectStore("documentMutations"),FE(e),function(y){y.createObjectStore("remoteDocuments")}(e));let d=Pe.resolve();return r<3&&o>=3&&(0!==r&&(function(y){y.deleteObjectStore("targetDocuments"),y.deleteObjectStore("targets"),y.deleteObjectStore("targetGlobal")}(e),FE(e)),d=d.next(()=>function(y){const E=y.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sn.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",x)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(y,E){return E.store("mutations").qt().next(x=>{y.deleteObjectStore("mutations"),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ss,{unique:!0});const F=E.store("mutations"),U=x.map(Y=>F.put(Y));return Pe.waitFor(U)})}(e,u))),d=d.next(()=>{!function(y){y.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Qn(u))),r<6&&o>=6&&(d=d.next(()=>(function(y){y.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&o>=7&&(d=d.next(()=>this.Wn(u))),r<8&&o>=8&&(d=d.next(()=>this.zn(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.Hn(u))),r<11&&o>=11&&(d=d.next(()=>{(function(y){y.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(y){y.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(y){const E=y.createObjectStore("documentOverlays",{keyPath:jm});E.createIndex("collectionPathOverlayIndex",Qv,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",nS,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(y){const E=y.createObjectStore("remoteDocumentsV14",{keyPath:tS});E.createIndex("documentKeyIndex",yp),E.createIndex("collectionGroupIndex",hD)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>{!function(y){y.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),y.createObjectStore("indexState",{keyPath:gD}).createIndex("sequenceNumberIndex",Yv,{unique:!1}),y.createObjectStore("indexEntries",{keyPath:yE}).createIndex("documentKeyIndex",_E,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=Qm(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>Pe.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(y=>Pe.forEach(y,E=>{un(E.userId===u.userId);const x=vp(this.M,E);return Ym(e,u.userId,x).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((d,y)=>{const E=new $n(d),x=[0,As(E)];u.push(t.get(x).next(F=>F?Pe.resolve():t.put({targetId:0,path:As(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Pe.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:pD});const r=t.store("collectionParents"),o=new u0,u=d=>{if(o.add(d)){const y=d.lastSegment(),E=d.popLast();return r.put({collectionId:y,parent:As(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,y)=>{const E=new $n(d);return u(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,y,E],x)=>{const F=Tu(y);return u(F.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=Wm(o),d=_D(this.M,u);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,d)=>{const y=t.store("remoteDocumentsV14"),E=(x=d,x.document?new gt($n.fromString(x.document.name).popFirst(5)):x.noDocument?gt.fromSegments(x.noDocument.path):x.unknownDocument?gt.fromSegments(x.unknownDocument.path):St()).path.toArray();var x;const F={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(y.put(F))}).next(()=>Pe.waitFor(o))}}function FE(n){n.createObjectStore("targetDocuments",{keyPath:fD}).createIndex("documentTargetsIndex",mE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Kv,{unique:!0}),n.createObjectStore("targetGlobal")}const ey="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cp{constructor(e,t,r,o,u,d,y,E,x,F,U=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=d,this.document=y,this.Xn=x,this.Zn=F,this.ts=U,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Y=>Promise.resolve(),!Cp.vt())throw new et(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oS(this,o),this.hs=t+"main",this.M=new r0(E),this.ls=new Au(this.hs,this.ts,new AD(this.M)),this.fs=new NE(this.referenceDelegate,this.M),this.ds=new DD(this.M),this._s=new rS,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===F&&ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(Ce.FAILED_PRECONDITION,ey);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Fo(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Fe.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Fe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Fe.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Dp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(ql(e))return it("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return it("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Yc(e).get("owner").next(t=>Pe.resolve(this.bs(t)))}Vs(e){return Dp(e).delete(this.clientId)}vs(){var e=this;return(0,Fe.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=qi(r,"clientMetadata");return o.qt().next(u=>{const d=e.Ds(u,18e5),y=u.filter(E=>-1===d.indexOf(E));return Pe.forEach(y,E=>o.delete(E.clientId)).next(()=>y)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Pe.resolve(!0):Yc(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new et(Ce.FAILED_PRECONDITION,ey);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dp(e).qt().next(r=>void 0===this.Ds(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,y=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&it("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Fe.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new bE(t,Fo.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Dp(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Lo.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new sS(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return TE.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){it("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(d=this.ts)?Hm:13===d?Xv:12===d?mD:11===d?Jv:void St();var d;let y;return this.ls.runTransaction(e,o,u,E=>(y=new bE(E,this.es?this.es.next():Fo.A),"readwrite-primary"===t?this.Es(y).next(x=>!!x||this.As(y)).next(x=>{if(!x)throw ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new et(Ce.FAILED_PRECONDITION,e0);return r(y)}).next(x=>this.Ps(y).next(()=>x)):this.$s(y).next(()=>r(y)))).then(E=>(y.raiseOnCommittedEvent(),E))}$s(e){return Yc(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new et(Ce.FAILED_PRECONDITION,ey)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yc(e).put("owner",t)}static vt(){return Au.vt()}Rs(e){const t=Yc(e);return t.get("owner").next(r=>this.bs(r)?(it("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Pe.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(ai(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,nn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return it("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ai("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){ai("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yc(n){return qi(n,"owner")}function Dp(n){return qi(n,"clientMetadata")}function p0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class LE{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}qs(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return gt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.js(e,t.path):ip(t)?this.Ws(e,t,r):this.zs(e,t,r);var o}js(e,t){return this.Ls(e,new gt(t)).next(r=>{let o=Hc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ws(e,t,r){const o=t.collectionGroup;let u=Hc();return this.indexManager.getCollectionParents(e,o).next(d=>Pe.forEach(d,y=>{const E=(x=t,F=y.child(o),new Iu(F,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,F;return this.zs(e,E,r).next(x=>{x.forEach((F,U)=>{u=u.insert(F,U)})})}).next(()=>u))}zs(e,t,r){let o;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const d of u)for(const y of d.mutations){const E=y.key;let x=o.get(E);null==x&&(x=vr.newInvalidDocument(E),o=o.insert(E,x)),cp(y,x,d.localWriteTime),x.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((u,d)=>{Rm(t,d)||(o=o.remove(u))}),o))}}class ty{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=o}static Ys(e,t){let r=tr(),o=tr();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ty(e,t.fromCache,r,o)}}class VE{Xs(e){this.Zs=e}Qs(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(sn.min())?this.ti(e,t):this.Zs.Ks(e,o).next(u=>{const d=this.ei(t,u);return(Sm(t)||yh(t))&&this.ni(t.limitType,d,o,r)?this.ti(e,t):(_m()<=Is.in.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pv(t)),this.Zs.Qs(e,t,Pb(r,-1)).next(y=>(d.forEach(E=>{y=y.insert(E.key,E)}),y)))});var u}ei(e,t){let r=new Mr(Fv(e));return t.forEach((o,u)=>{Rm(e,u)&&(r=r.add(u))}),r}ni(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ti(e,t){return _m()<=Is.in.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Pv(t)),this.Zs.Qs(e,t,Ju.min())}}class SD{constructor(e,t,r,o){this.persistence=e,this.si=t,this.M=o,this.ii=new ci(In),this.ri=new $l(u=>Pc(u),gh),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new LE(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function xD(n,e,t,r){return new SD(n,e,t,r)}function MD(n,e){return ny.apply(this,arguments)}function ny(){return ny=(0,Fe.Z)(function*(n,e){const t=yt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.Bs.getAllMutationBatches(r).next(u=>(o=u,t.ai(e),t.Bs.getAllMutationBatches(r))).next(u=>{const d=[],y=[];let E=tr();for(const x of o){d.push(x.batchId);for(const F of x.mutations)E=E.add(F.key)}for(const x of u){y.push(x.batchId);for(const F of x.mutations)E=E.add(F.key)}return t.ci.Ks(r,E).next(x=>({hi:x,removedBatchIds:d,addedBatchIds:y}))})})}),ny.apply(this,arguments)}function RD(n,e){const t=yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.ui.newChangeBuffer({trackRemovals:!0});return function(d,y,E,x){const F=E.batch,U=F.keys();let Y=Pe.resolve();return U.forEach(ae=>{Y=Y.next(()=>x.getEntry(y,ae)).next(ye=>{const nt=E.docVersions.get(ae);un(null!==nt),ye.version.compareTo(nt)<0&&(F.applyToRemoteDocument(ye,E),ye.isValidDocument()&&(ye.setReadTime(E.commitVersion),x.addEntry(ye)))})}),Y.next(()=>d.Bs.removeMutationBatch(y,F))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,o))})}function UE(n){const e=yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function ND(n,e){const t=yt(n),r=e.snapshotVersion;let o=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.ui.newChangeBuffer({trackRemovals:!0});o=t.ii;const y=[];e.targetChanges.forEach((x,F)=>{const U=o.get(F);if(!U)return;y.push(t.fs.removeMatchingKeys(u,x.removedDocuments,F).next(()=>t.fs.addMatchingKeys(u,x.addedDocuments,F)));let Y=U.withSequenceNumber(u.currentSequenceNumber);var ae,ye,nt;e.targetMismatches.has(F)?Y=Y.withResumeToken(Mi.EMPTY_BYTE_STRING,sn.min()).withLastLimboFreeSnapshotVersion(sn.min()):x.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(x.resumeToken,r)),o=o.insert(F,Y),ye=Y,nt=x,(0===(ae=U).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0)&&y.push(t.fs.updateTargetData(u,Y))});let E=pa();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(u,x))}),y.push(kD(u,d,e.documentUpdates).next(x=>{E=x})),!r.isEqual(sn.min())){const x=t.fs.getLastRemoteSnapshotVersion(u).next(F=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));y.push(x)}return Pe.waitFor(y).next(()=>d.apply(u)).next(()=>t.ci.Gs(u,E)).next(()=>E)}).then(u=>(t.ii=o,u))}function kD(n,e,t){let r=tr();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=pa();return t.forEach((d,y)=>{const E=o.get(d);y.isNoDocument()&&y.version.isEqual(sn.min())?(e.removeEntry(d,y.readTime),u=u.insert(d,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),u=u.insert(d,y)):it("LocalStore","Ignoring outdated watch update for ",d,". Current version:",E.version," Watch version:",y.version)}),u})}function aS(n,e){const t=yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Tp(n,e){const t=yt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.fs.getTargetData(r,e).next(u=>u?(o=u,Pe.resolve(o)):t.fs.allocateTargetId(r).next(d=>(o=new nl(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.ii.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Ap(n,e,t){return BE.apply(this,arguments)}function BE(){return BE=(0,Fe.Z)(function*(n,e,t){const r=yt(n),o=r.ii.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ql(d))throw d;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ii=r.ii.remove(e),r.ri.delete(o.target)}),BE.apply(this,arguments)}function ry(n,e,t){const r=yt(n);let o=sn.min(),u=tr();return r.persistence.runTransaction("Execute query","readonly",d=>function(y,E,x){const F=yt(y),U=F.ri.get(x);return void 0!==U?Pe.resolve(F.ii.get(U)):F.fs.getTargetData(E,x)}(r,d,ha(e)).next(y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,y.targetId).next(E=>{u=E})}).next(()=>r.si.Qs(d,e,t?o:sn.min(),t?u:tr())).next(y=>(HE(r,zb(e),y),{documents:y,li:u})))}function Sp(n,e){const t=yt(n),r=yt(t.fs),o=t.ii.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(d=>d?d.target:null))}function jE(n,e){const t=yt(n),r=t.oi.get(e)||sn.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.ui.getAllFromCollectionGroup(o,e,Pb(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(HE(t,e,o),o))}function HE(n,e,t){let r=sn.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.oi.set(e,r)}function al(){return al=(0,Fe.Z)(function*(n,e,t,r){const o=yt(n);let u=tr(),d=pa();for(const x of t){const F=e.fi(x.metadata.name);x.document&&(u=u.add(F));const U=e.di(x);U.setReadTime(e._i(x.metadata.readTime)),d=d.insert(F,U)}const y=o.ui.newChangeBuffer({trackRemovals:!0}),E=yield Tp(o,(x=r,ha(mh($n.fromString(`__bundle__/docs/${x}`)))));var x;return o.persistence.runTransaction("Apply bundle documents","readwrite",x=>kD(x,y,d).next(F=>(y.apply(x),F)).next(F=>o.fs.removeMatchingKeysForTargetId(x,E.targetId).next(()=>o.fs.addMatchingKeys(x,u,E.targetId)).next(()=>o.ci.Gs(x,F)).next(()=>F)))}),al.apply(this,arguments)}function qE(n,e){return xp.apply(this,arguments)}function xp(){return xp=(0,Fe.Z)(function*(n,e,t=tr()){const r=yield Tp(n,ha(CE(e.bundledQuery))),o=yt(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=$i(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o._s.saveNamedQuery(u,e);const y=r.withResumeToken(Mi.EMPTY_BYTE_STRING,d);return o.ii=o.ii.insert(y.targetId,y),o.fs.updateTargetData(u,y).next(()=>o.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.fs.addMatchingKeys(u,t,r.targetId)).next(()=>o._s.saveNamedQuery(u,e))})}),xp.apply(this,arguments)}class g0{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return Pe.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:$i(r.createTime)}),Pe.resolve()}getNamedQuery(e,t){return Pe.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:CE(r.bundledQuery),readTime:$i(r.readTime)}),Pe.resolve();var r}}class OD{constructor(){this.overlays=new ci(gt.comparator),this.gi=new Map}getOverlay(e,t){return Pe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),Pe.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.gi.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.gi.delete(r)),Pe.resolve()}getOverlaysForCollection(e,t,r){const o=bh(),u=t.length+1,d=new gt(t.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const E=y.getNext().value,x=E.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return Pe.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new ci((x,F)=>x-F);const d=this.overlays.getIterator();for(;d.hasNext();){const x=d.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>r){let F=u.get(x.largestBatchId);null===F&&(F=bh(),u=u.insert(x.largestBatchId,F)),F.set(x.getKey(),x)}}const y=bh(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((x,F)=>y.set(x,F)),!(y.size()>=o)););return Pe.resolve(y)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const d=this.gi.get(o.largestBatchId).delete(r.key);this.gi.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Gm(t,r));let u=this.gi.get(t);void 0===u&&(u=tr(),this.gi.set(t,u)),this.gi.set(t,u.add(r.key))}}class Mp{constructor(){this.yi=new Mr(gi.pi),this.Ii=new Mr(gi.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new gi(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new gi(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new gt(new $n([])),r=new gi(t,e),o=new gi(t,e+1),u=[];return this.Ii.forEachInRange([r,o],d=>{this.Ai(d),u.push(d.key)}),u}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new gt(new $n([])),r=new gi(t,e),o=new gi(t,e+1);let u=tr();return this.Ii.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new gi(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class gi{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return gt.comparator(e.key,t.key)||In(e.vi,t.vi)}static Ti(e,t){return In(e.vi,t.vi)||gt.comparator(e.key,t.key)}}class iy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Mr(gi.pi)}checkEmpty(e){return Pe.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,o){const u=this.Si;this.Si++;const d=new qm(u,t,r,o);this.Bs.push(d);for(const y of o)this.Di=this.Di.add(new gi(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Pe.resolve(d)}lookupMutationBatch(e,t){return Pe.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.xi(t+1),u=o<0?0:o;return Pe.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return Pe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gi(t,0),o=new gi(t,Number.POSITIVE_INFINITY),u=[];return this.Di.forEachInRange([r,o],d=>{const y=this.Ci(d.vi);u.push(y)}),Pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mr(In);return t.forEach(o=>{const u=new gi(o,0),d=new gi(o,Number.POSITIVE_INFINITY);this.Di.forEachInRange([u,d],y=>{r=r.add(y.vi)})}),Pe.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;gt.isDocumentKey(u)||(u=u.child(""));const d=new gi(new gt(u),0);let y=new Mr(In);return this.Di.forEachWhile(E=>{const x=E.key.path;return!!r.isPrefixOf(x)&&(x.length===o&&(y=y.add(E.vi)),!0)},d),Pe.resolve(this.Ni(y))}Ni(e){const t=[];return e.forEach(r=>{const o=this.Ci(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){un(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return Pe.forEach(t.mutations,o=>{const u=new gi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new gi(t,0),o=this.Di.firstAfterOrEqual(r);return Pe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Pe.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class uS{constructor(e){this.Mi=e,this.docs=new ci(gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Pe.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(t))}getEntries(e,t){let r=pa();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():vr.newInvalidDocument(o))}),Pe.resolve(r)}getAllFromCollection(e,t,r){let o=pa();const u=new gt(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:y,value:{document:E}}=d.getNext();if(!t.isPrefixOf(y.path))break;y.path.length>t.length+1||Lb(Fb(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return Pe.resolve(o)}getAllFromCollectionGroup(e,t,r,o){St()}Oi(e,t){return Pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new lS(this)}getSize(e){return Pe.resolve(this.size)}}class lS extends d0{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Kn.addEntry(e,o)):this.Kn.removeEntry(r)}),Pe.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class cS{constructor(e){this.persistence=e,this.Fi=new $l(t=>Pc(t),gh),this.lastRemoteSnapshotVersion=sn.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Mp,this.targetCount=0,this.Li=sl.gn()}forEachTarget(e,t){return this.Fi.forEach((r,o)=>t(o)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),Pe.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Pe.resolve()}updateTargetData(e,t){return this.Tn(t),Pe.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Fi.forEach((d,y)=>{y.sequenceNumber<=t&&null===r.get(y.targetId)&&(this.Fi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)}),Pe.waitFor(u).next(()=>o)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return Pe.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),Pe.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),Pe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),Pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return Pe.resolve(r)}containsKey(e,t){return Pe.resolve(this.Bi.containsKey(t))}}class dS{constructor(e,t){this.Ui={},this.overlays={},this.es=new Fo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new cS(this),this.indexManager=new a0,this.ds=new uS(r=>this.referenceDelegate.qi(r)),this.M=new r0(t),this._s=new g0(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new iy(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){it("MemoryPersistence","Starting transaction:",e);const o=new GE(this.es.next());return this.referenceDelegate.Ki(),r(o).next(u=>this.referenceDelegate.Gi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Qi(e,t){return Pe.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class GE extends vE{constructor(e){super(),this.currentSequenceNumber=e}}class m0{constructor(e){this.persistence=e,this.ji=new Mp,this.Wi=null}static zi(e){return new m0(e)}get Hi(){if(this.Wi)return this.Wi;throw St()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),Pe.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),Pe.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(o=>this.Hi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Hi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.Hi,r=>{const o=gt.fromPath(r);return this.Ji(e,o).next(u=>{u||t.removeEntry(o,sn.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return Pe.or([()=>Pe.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function zE(n,e){return`firestore_clients_${n}_${e}`}function WE(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function y0(n,e){return`firestore_targets_${n}_${e}`}class Rp{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Yi(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new et(o.error.code,o.error.message))),d?new Rp(e,t,o.state,u):(ai("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new et(r.error.code,r.error.message))),u?new Mh(e,r.state,o):(ai("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Np{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=hp();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=Ab(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new Np(e,u):(ai("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _0{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _0(t.clientId,t.onlineState):(ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class v0{constructor(){this.activeTargetIds=hp()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sy{constructor(e,t,r,o,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new ci(In),this.started=!1,this.rr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ur=zE(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new v0),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(y){return`firestore_bundle_loaded_v2_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.syncEngine.Fs();for(const o of t){if(o===e.er)continue;const u=e.getItem(zE(e.persistenceKey,o));if(u){const d=Np.Yi(o,u);d&&(e.ir=e.ir.insert(d.clientId,d))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const o=e.mr(r);o&&e.gr(o)}for(const o of e.rr)e.sr(o);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(y0(this.persistenceKey,e));if(r){const o=Mh.Yi(e,r);o&&(t=o.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(y0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ir(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return it("SharedClientState","READ",e,t),t}setItem(e,t){it("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){it("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(it("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Fe.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Pr(r.key);return t.br(o,null)}{const o=t.Vr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Sr(o)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(r.key===t.dr){if(null!==r.newValue){const o=t.mr(r.newValue);if(o)return t.gr(o)}}else if(r.key===t.ar){const o=function(u){let d=Fo.A;if(null!=u)try{const y=JSON.parse(u);un("number"==typeof y),d=y}catch(y){ai("SharedClientState","Failed to read sequence number from WebStorage",y)}return d}(r.newValue);o!==Fo.A&&t.sequenceNumberHandler(o)}else if(r.key===t._r){const o=t.Nr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.kr(u)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const o=new Rp(this.currentUser,e,t,r),u=WE(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Xi())}Ir(e){const t=WE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const o=y0(this.persistenceKey,e),u=new Mh(e,t,r);this.setItem(o,u.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return Np.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Rp.Yi(new is(void 0!==r[2]?r[2]:null),o,t)}Dr(e,t){const r=this.lr.exec(e),o=Number(r[1]);return Mh.Yi(o,t)}mr(e){return _0.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);it("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),o=this.yr(this.ir),u=this.yr(r),d=[],y=[];return u.forEach(E=>{o.has(E)||d.push(E)}),o.forEach(E=>{u.has(E)||y.push(E)}),this.syncEngine.Fr(d,y).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=hp();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class oy{constructor(){this.$r=new v0,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new v0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hS{Lr(e){}shutdown(){}}class w0{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const b0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class PD{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class FD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,o,u){const d=this.uo(e,t);it("RestConnection","Sending: ",d,r);const y={};return this.ao(y,o,u),this.co(e,d,y,r).then(E=>(it("RestConnection","Received: ",E),E),E=>{throw ah("RestConnection",`${e} failed with error: `,E,"url: ",d,"request:",r),E})}ho(e,t,r,o,u){return this.oo(e,t,r,o,u)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}uo(e,t){return`${this.io}/v1/${t}:${b0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((u,d)=>{const y=new UC;y.listenOnce(FC.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Tv.NO_ERROR:const x=y.getResponseJson();it("Connection","XHR received:",JSON.stringify(x)),u(x);break;case Tv.TIMEOUT:it("Connection",'RPC "'+e+'" timed out'),d(new et(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Tv.HTTP_ERROR:const F=y.getStatus();if(it("Connection",'RPC "'+e+'" failed with status:',F,"response text:",y.getResponseText()),F>0){const U=y.getResponseJson().error;if(U&&U.status&&U.message){const Y=function(ae){const ye=ae.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(ye)>=0?ye:Ce.UNKNOWN}(U.status);d(new et(Y,U.message))}else d(new et(Ce.UNKNOWN,"Server responded with status "+y.getStatus()))}else d(new et(Ce.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{it("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);y.send(t,"POST",E,r,15)})}lo(e,t,r){const o=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=OC(),d=PC(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new VC({})),this.ao(y.initMessageHeaders,t,r),(0,nn.uI)()||(0,nn.b$)()||(0,nn.d)()||(0,nn.w1)()||(0,nn.Mn)()||(0,nn.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");it("Connection","Creating WebChannel: "+E,y);const x=u.createWebChannel(E,y);let F=!1,U=!1;const Y=new PD({Wr:ye=>{U?it("Connection","Not sending because WebChannel is closed:",ye):(F||(it("Connection","Opening WebChannel transport."),x.open(),F=!0),it("Connection","WebChannel sending:",ye),x.send(ye))},zr:()=>x.close()}),ae=(ye,nt,ht)=>{ye.listen(nt,fn=>{try{ht(fn)}catch(pn){setTimeout(()=>{throw pn},0)}})};return ae(x,ym.EventType.OPEN,()=>{U||it("Connection","WebChannel transport opened.")}),ae(x,ym.EventType.CLOSE,()=>{U||(U=!0,it("Connection","WebChannel transport closed"),Y.no())}),ae(x,ym.EventType.ERROR,ye=>{U||(U=!0,ah("Connection","WebChannel transport errored:",ye),Y.no(new et(Ce.UNAVAILABLE,"The operation could not be completed")))}),ae(x,ym.EventType.MESSAGE,ye=>{var nt;if(!U){const ht=ye.data[0];un(!!ht);const fn=ht,pn=fn.error||(null===(nt=fn[0])||void 0===nt?void 0:nt.error);if(pn){it("Connection","WebChannel received error:",pn);const Qt=pn.status;let Ut=function(Vn){const zi=li[Vn];if(void 0!==zi)return Om(zi)}(Qt),vn=pn.message;void 0===Ut&&(Ut=Ce.INTERNAL,vn="Unknown error status: "+Qt+" with message "+pn.message),U=!0,Y.no(new et(Ut,vn)),x.close()}else it("Connection","WebChannel received:",ht),Y.so(ht)}}),ae(d,LC.STAT_EVENT,ye=>{ye.stat===_b.PROXY?it("Connection","Detected buffering proxy"):ye.stat===_b.NOPROXY&&it("Connection","Detected no buffering proxy")}),setTimeout(()=>{Y.eo()},0),Y}}function LD(){return"undefined"!=typeof window?window:null}function E0(){return"undefined"!=typeof document?document:null}function kp(n){return new jv(n,!0)}class I0{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=o,this.wo=u,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),o=Math.max(0,t-r);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class VD{constructor(e,t,r,o,u,d,y,E){this.Yn=e,this.Ro=r,this.Po=o,this.bo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=E,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new I0(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Fe.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Fe.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,Fe.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===Ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Vo===t&&this.qo(r,o)},r=>{e(()=>{const o=new et(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(o)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(o=>{r(()=>this.Ko(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}No(){var e=this;this.state=5,this.Do.To((0,Fe.Z)(function*(){e.state=0,e.start()}))}Ko(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fS extends VD{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.M=u}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function qv(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:St(),o=e.targetChange.targetIds||[],u=function(E,x){return E.N?(un(void 0===x||"string"==typeof x),Mi.fromBase64String(x||"")):(un(void 0===x||x instanceof Uint8Array),Mi.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&function(E){const x=void 0===E.code?Ce.UNKNOWN:Om(E.code);return new et(x,E.message||"")}(d);t=new rE(r,o,u,y||null)}else if("documentChange"in e){const r=e.documentChange,o=Du(n,r.document.name),u=$i(r.document.updateTime),d=new Ts({mapValue:{fields:r.document.fields}}),y=vr.newFoundDocument(o,u,d);t=new Fm(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,o=Du(n,r.document),u=r.readTime?$i(r.readTime):sn.min(),d=vr.newNoDocument(o,u);t=new Fm([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Du(n,r.document);t=new Fm([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return St();{const r=e.filter,u=new XA(r.count||0);t=new nE(r.targetId,u)}}var E;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return sn.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?sn.min():u.readTime?$i(u.readTime):sn.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=$c(this.M),t.addTarget=function(o,u){let d;const y=u.target;return d=Dm(y)?{documents:Bm(o,y)}:{query:lE(o,y)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=oE(o,u.resumeToken):u.snapshotVersion.compareTo(sn.min())>0&&(d.readTime=el(o,u.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function uD(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return St()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=$c(this.M),t.removeTarget=e,this.Fo(t)}}class pS extends VD{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.M=u,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function Gv(n,e){return n&&n.length>0?(un(void 0!==e),n.map(t=>function(r,o){let u=$i(r.updateTime?r.updateTime:o);return u.isEqual(sn.min())&&(u=$i(o)),new XC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.Yo(r,t)}return un(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=$c(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>qc(this.M,r))};this.Fo(t)}}class gS extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.tu=!1}eu(){if(this.tu)throw new et(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.oo(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new et(Ce.UNKNOWN,o.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ho(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new et(Ce.UNKNOWN,o.toString())})}terminate(){this.tu=!0}}class mS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(ai(t),this.iu=!1):it("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class UD{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=u,this._u.Lr(y=>{r.enqueueAndForget((0,Fe.Z)(function*(){var E;v(d)&&(it("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,Fe.Z)(function*(x){const F=yt(x);F.fu.add(4),yield Op(F),F.wu.set("Unknown"),F.fu.delete(4),yield ay(F)}),function(x){return E.apply(this,arguments)})(d))}))}),this.wu=new mS(r,o)}}function ay(n){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,Fe.Z)(function*(n){if(v(n))for(const e of n.du)yield e(!0)}),ZE.apply(this,arguments)}function Op(n){return KE.apply(this,arguments)}function KE(){return KE=(0,Fe.Z)(function*(n){for(const e of n.du)yield e(!1)}),KE.apply(this,arguments)}function i(n,e){const t=yt(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),g(t)?c(t):ly(t).xo()&&a(t,e))}function s(n,e){const t=yt(n),r=ly(t);t.lu.delete(e),r.xo()&&l(t,e),0===t.lu.size&&(r.xo()?r.Mo():v(t)&&t.wu.set("Unknown"))}function a(n,e){n.mu.Z(e.targetId),ly(n).jo(e)}function l(n,e){n.mu.Z(e),ly(n).Wo(e)}function c(n){n.mu=new pp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),ly(n).start(),n.wu.ru()}function g(n){return v(n)&&!ly(n).Co()&&n.lu.size>0}function v(n){return 0===yt(n).fu.size}function I(n){n.mu=void 0}function T(n){return N.apply(this,arguments)}function N(){return N=(0,Fe.Z)(function*(n){n.lu.forEach((e,t)=>{a(n,e)})}),N.apply(this,arguments)}function P(n,e){return q.apply(this,arguments)}function q(){return q=(0,Fe.Z)(function*(n,e){I(n),g(n)?(n.wu.au(e),c(n)):n.wu.set("Unknown")}),q.apply(this,arguments)}function J(n,e,t){return ce.apply(this,arguments)}function ce(){return ce=(0,Fe.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof rE&&2===e.state&&e.cause)try{yield(r=(0,Fe.Z)(function*(o,u){const d=u.cause;for(const y of u.targetIds)o.lu.has(y)&&(yield o.remoteSyncer.rejectListen(y,d),o.lu.delete(y),o.mu.removeTarget(y))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Le(n,r)}else if(e instanceof Fm?n.mu.ut(e):e instanceof nE?n.mu._t(e):n.mu.ht(e),!t.isEqual(sn.min()))try{const r=yield UE(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.mu.yt(u);return d.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const x=o.lu.get(E);x&&o.lu.set(E,x.withResumeToken(y.resumeToken,u))}}),d.targetMismatches.forEach(y=>{const E=o.lu.get(y);if(!E)return;o.lu.set(y,E.withResumeToken(Mi.EMPTY_BYTE_STRING,E.snapshotVersion)),l(o,y);const x=new nl(E.target,y,1,E.sequenceNumber);a(o,x)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){it("RemoteStore","Failed to raise snapshot:",r),yield Le(n,r)}var r}),ce.apply(this,arguments)}function Le(n,e,t){return st.apply(this,arguments)}function st(){return st=(0,Fe.Z)(function*(n,e,t){if(!ql(e))throw e;n.fu.add(1),yield Op(n),n.wu.set("Offline"),t||(t=()=>UE(n.localStore)),n.asyncQueue.enqueueRetryable((0,Fe.Z)(function*(){it("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield ay(n)}))}),st.apply(this,arguments)}function pt(n,e){return e().catch(t=>Le(n,t,e))}function bt(n){return Ge.apply(this,arguments)}function Ge(){return Ge=(0,Fe.Z)(function*(n){const e=yt(n),t=Rh(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Wt(e);)try{const o=yield aS(e.localStore,r);if(null===o){0===e.hu.length&&t.Mo();break}r=o.batchId,Nn(e,o)}catch(o){yield Le(e,o)}nr(e)&&yo(e)}),Ge.apply(this,arguments)}function Wt(n){return v(n)&&n.hu.length<10}function Nn(n,e){n.hu.push(e);const t=Rh(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function nr(n){return v(n)&&!Rh(n).Co()&&n.hu.length>0}function yo(n){Rh(n).start()}function Qc(n){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,Fe.Z)(function*(n){Rh(n).Zo()}),Pp.apply(this,arguments)}function C0(n){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Fe.Z)(function*(n){const e=Rh(n);for(const t of n.hu)e.Jo(t.mutations)}),Fp.apply(this,arguments)}function D0(n,e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,Fe.Z)(function*(n,e,t){const r=n.hu.shift(),o=n0.from(r,e,t);yield pt(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield bt(n)}),Lp.apply(this,arguments)}function T0(n,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,Fe.Z)(function*(n,e){var t;e&&Rh(n).Ho&&(yield(t=(0,Fe.Z)(function*(r,o){if(Bv(u=o.code)&&u!==Ce.ABORTED){const d=r.hu.shift();Rh(r).ko(),yield pt(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield bt(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),nr(n)&&yo(n)}),Vp.apply(this,arguments)}function uy(n,e){return Up.apply(this,arguments)}function Up(){return Up=(0,Fe.Z)(function*(n,e){const t=yt(n);t.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const r=v(t);t.fu.add(3),yield Op(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield ay(t)}),Up.apply(this,arguments)}function BD(n,e){return jD.apply(this,arguments)}function jD(){return jD=(0,Fe.Z)(function*(n,e){const t=yt(n);e?(t.fu.delete(2),yield ay(t)):e||(t.fu.add(2),yield Op(t),t.wu.set("Unknown"))}),jD.apply(this,arguments)}function ly(n){return n.gu||(n.gu=function(e,t,r){const o=yt(e);return o.eu(),new fS(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:T.bind(null,n),Yr:P.bind(null,n),Qo:J.bind(null,n)}),n.du.push(function(){var e=(0,Fe.Z)(function*(t){t?(n.gu.ko(),g(n)?c(n):n.wu.set("Unknown")):(yield n.gu.stop(),I(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Rh(n){return n.yu||(n.yu=function(e,t,r){const o=yt(e);return o.eu(),new pS(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:Qc.bind(null,n),Yr:T0.bind(null,n),Xo:C0.bind(null,n),Yo:D0.bind(null,n)}),n.du.push(function(){var e=(0,Fe.Z)(function*(t){t?(n.yu.ko(),yield bt(n)):(yield n.yu.stop(),n.hu.length>0&&(it("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class HD{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,y=new HD(e,t,d,o,u);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new et(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(n,e){if(ai("AsyncQueue",`${e}: ${n}`),ql(n))return new et(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class dy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||gt.comparator(t.key,r.key):(t,r)=>gt.comparator(t.key,r.key),this.keyedMap=Hc(),this.sortedSet=new ci(this.comparator)}static emptySet(e){return new dy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new dy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class yS{constructor(){this.pu=new ci(gt.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):St():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class hy{constructor(e,t,r,o,u,d,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new hy(e,t,dy.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class b1{constructor(){this.Tu=void 0,this.listeners=[]}}class E1{constructor(){this.queries=new $l(e=>Ov(e),sp),this.onlineState="Unknown",this.Eu=new Set}}function $D(n,e){return qD.apply(this,arguments)}function qD(){return qD=(0,Fe.Z)(function*(n,e){const t=yt(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new b1),o)try{u.Tu=yield t.onListen(r)}catch(d){const y=cy(d,`Initialization of query '${Pv(e.query)}' failed`);return void e.onError(y)}t.queries.set(r,u),u.listeners.push(e),e.Au(t.onlineState),u.Tu&&e.Ru(u.Tu)&&WD(t)}),qD.apply(this,arguments)}function GD(n,e){return zD.apply(this,arguments)}function zD(){return zD=(0,Fe.Z)(function*(n,e){const t=yt(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),zD.apply(this,arguments)}function I1(n,e){const t=yt(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const y of d.listeners)y.Ru(o)&&(r=!0);d.Tu=o}}r&&WD(t)}function C1(n,e,t){const r=yt(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function WD(n){n.Eu.forEach(e=>{e.next()})}class ZD{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new hy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=hy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class D1{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class _S{constructor(e){this.M=e}fi(e){return Du(this.M,e)}di(e){return e.metadata.exists?uE(this.M,e.document,!1):vr.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return $i(e)}}class T1{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vS(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=$n.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new _S(this.M);for(const o of e)if(o.metadata.queries){const u=r.fi(o.metadata.name);for(const d of o.metadata.queries){const y=(t.get(d)||tr()).add(u);t.set(d,y)}}return t}complete(){var e=this;return(0,Fe.Z)(function*(){const t=yield function $E(n,e,t,r){return al.apply(this,arguments)}(e.localStore,new _S(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const o of e.queries)yield qE(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function vS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class wS{constructor(e){this.key=e}}class bS{constructor(e){this.key=e}}class ES{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=tr(),this.mutatedKeys=tr(),this.Uu=Fv(e),this.qu=new dy(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new yS,o=t?t.qu:this.qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,y=!1;const E=Sm(this.query)&&o.size===this.query.limit?o.last():null,x=yh(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((F,U)=>{const Y=o.get(F),ae=Rm(this.query,U)?U:null,ye=!!Y&&this.mutatedKeys.has(Y.key),nt=!!ae&&(ae.hasLocalMutations||this.mutatedKeys.has(ae.key)&&ae.hasCommittedMutations);let ht=!1;Y&&ae?Y.data.isEqual(ae.data)?ye!==nt&&(r.track({type:3,doc:ae}),ht=!0):this.ju(Y,ae)||(r.track({type:2,doc:ae}),ht=!0,(E&&this.Uu(ae,E)>0||x&&this.Uu(ae,x)<0)&&(y=!0)):!Y&&ae?(r.track({type:0,doc:ae}),ht=!0):Y&&!ae&&(r.track({type:1,doc:Y}),ht=!0,(E||x)&&(y=!0)),ht&&(ae?(d=d.add(ae),u=nt?u.add(F):u.delete(F)):(d=d.delete(F),u=u.delete(F)))}),Sm(this.query)||yh(this.query))for(;d.size>this.query.limit;){const F=Sm(this.query)?d.last():d.first();d=d.delete(F.key),u=u.delete(F.key),r.track({type:1,doc:F})}return{qu:d,Qu:r,ni:y,mutatedKeys:u}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const u=e.Qu.Iu();u.sort((x,F)=>function(U,Y){const ae=ye=>{switch(ye){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return ae(U)-ae(Y)}(x.type,F.type)||this.Uu(x.doc,F.doc)),this.Wu(r);const d=t?this.zu():[],y=0===this.Lu.size&&this.current?1:0,E=y!==this.Bu;return this.Bu=y,0!==u.length||E?{snapshot:new hy(this.query,e.qu,o,u,e.mutatedKeys,0===y,E,!1),Hu:d}:{Hu:d}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new yS,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=tr(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new bS(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new wS(r))}),t}Yu(e){this.$u=e.li,this.Lu=tr();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return hy.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class A1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class S1{constructor(e){this.key=e,this.Zu=!1}}class x1{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.ta={},this.ea=new $l(y=>Ov(y),sp),this.na=new Map,this.sa=new Set,this.ia=new ci(gt.comparator),this.ra=new Map,this.oa=new Mp,this.ua={},this.aa=new Map,this.ca=sl.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function M1(n,e){return KD.apply(this,arguments)}function KD(){return KD=(0,Fe.Z)(function*(n,e){const t=_T(n);let r,o;const u=t.ea.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Xu();else{const d=yield Tp(t.localStore,ha(e));t.isPrimaryClient&&i(t.remoteStore,d);const y=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield YD(t,e,r,"current"===y)}return o}),KD.apply(this,arguments)}function YD(n,e,t,r){return QD.apply(this,arguments)}function QD(){return QD=(0,Fe.Z)(function*(n,e,t,r){n.la=(F,U,Y)=>{return(ae=(0,Fe.Z)(function*(ye,nt,ht,fn){let pn=nt.view.Gu(ht);pn.ni&&(pn=yield ry(ye.localStore,nt.query,!1).then(({documents:vn})=>nt.view.Gu(vn,pn)));const Qt=fn&&fn.targetChanges.get(nt.targetId),Ut=nt.view.applyChanges(pn,ye.isPrimaryClient,Qt);return aT(ye,nt.targetId,Ut.Hu),Ut.snapshot}),function(ye,nt,ht,fn){return ae.apply(this,arguments)})(n,F,U,Y);var ae};const o=yield ry(n.localStore,e,!0),u=new ES(e,o.li),d=u.Gu(o.documents),y=Eh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=u.applyChanges(d,n.isPrimaryClient,y);aT(n,t,E.Hu);const x=new A1(e,t,u);return n.ea.set(e,x),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),E.snapshot}),QD.apply(this,arguments)}function R1(n,e){return JD.apply(this,arguments)}function JD(){return JD=(0,Fe.Z)(function*(n,e){const t=yt(n),r=t.ea.get(e),o=t.na.get(r.targetId);if(o.length>1)return t.na.set(r.targetId,o.filter(u=>!sp(u,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ap(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),s(t.remoteStore,r.targetId),fy(t,r.targetId)}).catch(Zc))):(fy(t,r.targetId),yield Ap(t.localStore,r.targetId,!0))}),JD.apply(this,arguments)}function XD(){return XD=(0,Fe.Z)(function*(n,e,t){const r=vT(n);try{const o=yield function(u,d){const y=yt(u),E=Cn.now(),x=d.reduce((U,Y)=>U.add(Y.key),tr());let F;return y.persistence.runTransaction("Locally write mutations","readwrite",U=>y.ci.Ks(U,x).next(Y=>{F=Y;const ae=[];for(const ye of d){const nt=tD(ye,F.get(ye.key));null!=nt&&ae.push(new fa(ye.key,nt,Ob(nt.value.mapValue),ui.exists(!0)))}return y.Bs.addMutationBatch(U,E,ae,d)})).then(U=>(U.applyToLocalDocumentSet(F),{batchId:U.batchId,changes:F}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,y){let E=u.ua[u.currentUser.toKey()];E||(E=new ci(In)),E=E.insert(d,y),u.ua[u.currentUser.toKey()]=E}(r,o.batchId,t),yield Jc(r,o.changes),yield bt(r.remoteStore)}catch(o){const u=cy(o,"Failed to persist write");t.reject(u)}}),XD.apply(this,arguments)}function IS(n,e){return eT.apply(this,arguments)}function eT(){return eT=(0,Fe.Z)(function*(n,e){const t=yt(n);try{const r=yield ND(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.ra.get(u);d&&(un(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Zu=!0:o.modifiedDocuments.size>0?un(d.Zu):o.removedDocuments.size>0&&(un(d.Zu),d.Zu=!1))}),yield Jc(t,r,e)}catch(r){yield Zc(r)}}),eT.apply(this,arguments)}function CS(n,e,t){const r=yt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ea.forEach((u,d)=>{const y=d.view.Au(e);y.snapshot&&o.push(y.snapshot)}),function(u,d){const y=yt(u);y.onlineState=d;let E=!1;y.queries.forEach((x,F)=>{for(const U of F.listeners)U.Au(d)&&(E=!0)}),E&&WD(y)}(r.eventManager,e),o.length&&r.ta.Qo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function k1(n,e,t){return tT.apply(this,arguments)}function tT(){return tT=(0,Fe.Z)(function*(n,e,t){const r=yt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ra.get(e),u=o&&o.key;if(u){let d=new ci(gt.comparator);d=d.insert(u,vr.newNoDocument(u,sn.min()));const y=tr().add(u),E=new fp(sn.min(),new Map,new Mr(In),d,y);yield IS(r,E),r.ia=r.ia.remove(u),r.ra.delete(e),uT(r)}else yield Ap(r.localStore,e,!1).then(()=>fy(r,e,t)).catch(Zc)}),tT.apply(this,arguments)}function O1(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,Fe.Z)(function*(n,e){const t=yt(n),r=e.batch.batchId;try{const o=yield RD(t.localStore,e);oT(t,r,null),sT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Jc(t,o)}catch(o){yield Zc(o)}}),nT.apply(this,arguments)}function P1(n,e,t){return rT.apply(this,arguments)}function rT(){return rT=(0,Fe.Z)(function*(n,e,t){const r=yt(n);try{const o=yield function(u,d){const y=yt(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let x;return y.Bs.lookupMutationBatch(E,d).next(F=>(un(null!==F),x=F.keys(),y.Bs.removeMutationBatch(E,F))).next(()=>y.Bs.performConsistencyCheck(E)).next(()=>y.ci.Ks(E,x))})}(r.localStore,e);oT(r,e,t),sT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Jc(r,o)}catch(o){yield Zc(o)}}),rT.apply(this,arguments)}function iT(){return iT=(0,Fe.Z)(function*(n,e){const t=yt(n);v(t.remoteStore)||it("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=yt(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>d.Bs.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const o=t.aa.get(r)||[];o.push(e),t.aa.set(r,o)}catch(r){const o=cy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),iT.apply(this,arguments)}function sT(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function oT(n,e,t){const r=yt(n);let o=r.ua[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ua[r.currentUser.toKey()]=o}}function fy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||DS(n,r)})}function DS(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(s(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),uT(n))}function aT(n,e,t){for(const r of t)r instanceof wS?(n.oa.addReference(r.key,e),L1(n,r)):r instanceof bS?(it("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||DS(n,r.key)):St()}function L1(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(it("SyncEngine","New document in limbo: "+t),n.sa.add(r),uT(n))}function uT(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new gt($n.fromString(e)),r=n.ca.next();n.ra.set(r,new S1(t)),n.ia=n.ia.insert(t,r),i(n.remoteStore,new nl(ha(mh(t.path)),r,2,Fo.A))}}function Jc(n,e,t){return lT.apply(this,arguments)}function lT(){return lT=(0,Fe.Z)(function*(n,e,t){const r=yt(n),o=[],u=[],d=[];var y;r.ea.isEmpty()||(r.ea.forEach((y,E)=>{d.push(r.la(E,e,t).then(x=>{if(x){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,x.fromCache?"not-current":"current"),o.push(x);const F=ty.Ys(E.targetId,x);u.push(F)}}))}),yield Promise.all(d),r.ta.Qo(o),yield(y=(0,Fe.Z)(function*(E,x){const F=yt(E);try{yield F.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>Pe.forEach(x,Y=>Pe.forEach(Y.Hs,ae=>F.persistence.referenceDelegate.addReference(U,Y.targetId,ae)).next(()=>Pe.forEach(Y.Js,ae=>F.persistence.referenceDelegate.removeReference(U,Y.targetId,ae)))))}catch(U){if(!ql(U))throw U;it("LocalStore","Failed to update sequence numbers: "+U)}for(const U of x){const Y=U.targetId;if(!U.fromCache){const ae=F.ii.get(Y),nt=ae.withLastLimboFreeSnapshotVersion(ae.snapshotVersion);F.ii=F.ii.insert(Y,nt)}}}),function(E,x){return y.apply(this,arguments)})(r.localStore,u))}),lT.apply(this,arguments)}function V1(n,e){return cT.apply(this,arguments)}function cT(){return cT=(0,Fe.Z)(function*(n,e){const t=yt(n);if(!t.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const r=yield MD(t.localStore,e);t.currentUser=e,(o=t).aa.forEach(d=>{d.forEach(y=>{y.reject(new et(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Jc(t,r.hi)}var o}),cT.apply(this,arguments)}function U1(n,e){const t=yt(n),r=t.ra.get(e);if(r&&r.Zu)return tr().add(r.key);{let o=tr();const u=t.na.get(e);if(!u)return o;for(const d of u){const y=t.ea.get(d);o=o.unionWith(y.view.Ku)}return o}}function B1(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,Fe.Z)(function*(n,e){const t=yt(n),r=yield ry(t.localStore,e.query,!0),o=e.view.Yu(r);return t.isPrimaryClient&&aT(t,e.targetId,o.Hu),o}),dT.apply(this,arguments)}function j1(n,e){return hT.apply(this,arguments)}function hT(){return hT=(0,Fe.Z)(function*(n,e){const t=yt(n);return jE(t.localStore,e).then(r=>Jc(t,r))}),hT.apply(this,arguments)}function H1(n,e,t,r){return fT.apply(this,arguments)}function fT(){return fT=(0,Fe.Z)(function*(n,e,t,r){const o=yt(n),u=yield function(d,y){const E=yt(d),x=yt(E.Bs);return E.persistence.runTransaction("Lookup mutation documents","readonly",F=>x.fn(F,y).next(U=>U?E.ci.Ks(F,U):Pe.resolve(null)))}(o.localStore,e);var y;null!==u?("pending"===t?yield bt(o.remoteStore):"acknowledged"===t||"rejected"===t?(oT(o,e,r||null),sT(o,e),y=e,yt(yt(o.localStore).Bs)._n(y)):St(),yield Jc(o,u)):it("SyncEngine","Cannot apply mutation batch with id: "+e)}),fT.apply(this,arguments)}function pT(){return pT=(0,Fe.Z)(function*(n,e){const t=yt(n);if(_T(t),vT(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield TS(t,r.toArray());t.ha=!0,yield BD(t.remoteStore,!0);for(const u of o)i(t.remoteStore,u)}else if(!1===e&&!1!==t.ha){const r=[];let o=Promise.resolve();t.na.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(fy(t,d),Ap(t.localStore,d,!0))),s(t.remoteStore,d)}),yield o,yield TS(t,r),function(u){const d=yt(u);d.ra.forEach((y,E)=>{s(d.remoteStore,E)}),d.oa.bi(),d.ra=new Map,d.ia=new ci(gt.comparator)}(t),t.ha=!1,yield BD(t.remoteStore,!1)}}),pT.apply(this,arguments)}function TS(n,e,t){return gT.apply(this,arguments)}function gT(){return gT=(0,Fe.Z)(function*(n,e,t){const r=yt(n),o=[],u=[];for(const d of e){let y;const E=r.na.get(d);if(E&&0!==E.length){y=yield Tp(r.localStore,ha(E[0]));for(const x of E){const F=r.ea.get(x),U=yield B1(r,F);U.snapshot&&u.push(U.snapshot)}}else{const x=yield Sp(r.localStore,d);y=yield Tp(r.localStore,x),yield YD(r,AS(x),d,!1)}o.push(y)}return r.ta.Qo(u),o}),gT.apply(this,arguments)}function AS(n){return Gb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function q1(n){const e=yt(n);return yt(yt(e.localStore).persistence).Fs()}function G1(n,e,t,r){return mT.apply(this,arguments)}function mT(){return mT=(0,Fe.Z)(function*(n,e,t,r){const o=yt(n);if(o.ha)return void it("SyncEngine","Ignoring unexpected query state notification.");const u=o.na.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield jE(o.localStore,zb(u[0])),y=fp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Jc(o,d,y);break}case"rejected":yield Ap(o.localStore,e,!0),fy(o,e,r);break;default:St()}}),mT.apply(this,arguments)}function z1(n,e,t){return yT.apply(this,arguments)}function yT(){return yT=(0,Fe.Z)(function*(n,e,t){const r=_T(n);if(r.ha){for(const o of e){if(r.na.has(o)){it("SyncEngine","Adding an already active target "+o);continue}const u=yield Sp(r.localStore,o),d=yield Tp(r.localStore,u);yield YD(r,AS(u),d.targetId,!1),i(r.remoteStore,d)}for(const o of t)r.na.has(o)&&(yield Ap(r.localStore,o,!1).then(()=>{s(r.remoteStore,o),fy(r,o)}).catch(Zc))}}),yT.apply(this,arguments)}function _T(n){const e=yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=IS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k1.bind(null,e),e.ta.Qo=I1.bind(null,e.eventManager),e.ta.fa=C1.bind(null,e.eventManager),e}function vT(n){const e=yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P1.bind(null,e),e}class SS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Fe.Z)(function*(){t.M=kp(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return xD(this.persistence,new VE,e.initialUser,this.M)}wa(e){return new dS(m0.zi,this.M)}_a(e){return new oy}terminate(){var e=this;return(0,Fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xS extends SS{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Fe.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield vT(r.ya.syncEngine),yield bt(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return xD(this.persistence,new VE,e.initialUser,this.M)}ma(e){return new Fa(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=p0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new Cp(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,LD(),E0(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new oy}}class Z1 extends xS{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Fe.Z)(function*(){yield t().call(r,e);const o=r.ya.syncEngine;r.sharedClientState instanceof sy&&(r.sharedClientState.syncEngine={Mr:H1.bind(null,o),Or:G1.bind(null,o),Fr:z1.bind(null,o),Fs:q1.bind(null,o),kr:j1.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,Fe.Z)(function*(d){yield function $1(n,e){return pT.apply(this,arguments)}(r.ya.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}_a(e){const t=LD();if(!sy.vt(t))throw new et(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=p0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class wT{initialize(e,t){var r=this;return(0,Fe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>CS(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=V1.bind(null,r.syncEngine),yield BD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new E1}createDatastore(e){const t=kp(e.databaseInfo.databaseId),r=new FD(e.databaseInfo);return new gS(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=y=>CS(this.syncEngine,y,0),d=w0.vt()?new w0:new hS,new UD(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,y,E,x){const F=new x1(r,o,u,d,y,E);return x&&(F.ha=!0),F}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Fe.Z)(function*(t){const r=yt(t);it("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield Op(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function MS(n,e=10240){let t=0;return{read:()=>(0,Fe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class YE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class K1{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Hi,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Fe.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Fe.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),o=Number(r);isNaN(o)&&e.Pa(`length string (${r}) is not valid number`);const u=yield e.ba(o);return new D1(JSON.parse(u),t.length+o)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Fe.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Fe.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Y1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new et(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Fe.Z)(function*(u,d){const y=yt(u),E=$c(y.M)+"/documents",x={documents:d.map(ae=>mp(y.M,ae))},F=yield y.ho("BatchGetDocuments",E,x),U=new Map;F.forEach(ae=>{const ye=function eS(n,e){return"found"in e?function(t,r){un(!!r.found);const o=Du(t,r.found.name),u=$i(r.found.updateTime),d=new Ts({mapValue:{fields:r.found.fields}});return vr.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){un(!!r.missing),un(!!r.readTime);const o=Du(t,r.missing),u=$i(r.readTime);return vr.newNoDocument(o,u)}(n,e):St()}(y.M,ae);U.set(ye.key.toString(),ye)});const Y=[];return d.forEach(ae=>{const ye=U.get(ae.toString());un(!!ye),Y.push(ye)}),Y}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=gt.fromPath(o);e.mutations.push(new Uv(u,e.precondition(u)))}),yield(r=(0,Fe.Z)(function*(o,u){const d=yt(o),y=$c(d.M)+"/documents",E={writes:u.map(x=>qc(d.M,x))};yield d.oo("Commit",y,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw St();t=sn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new et(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ui.updateTime(t):ui.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sn.min()))throw new et(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ui.updateTime(t)}return ui.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Q1{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.Sa=5,this.Do=new I0(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Fe.Z)(function*(){const t=new Y1(e.datastore),r=e.Ca(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.xa(u)}))}).catch(o=>{e.xa(o)})}))}Ca(e){try{const t=this.updateFunction(e);return!Oa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Bv(t)}return!1}}class J1{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=is.UNAUTHENTICATED,this.clientId=Yf.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Fe.Z)(function*(y){it("FirestoreClient","Received user=",y.uid),yield u.authCredentialListener(y),u.user=y});return function(y){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(it("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new et(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=cy(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function RS(n,e){return bT.apply(this,arguments)}function bT(){return bT=(0,Fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Fe.Z)(function*(u){r.isEqual(u)||(yield MD(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),bT.apply(this,arguments)}function NS(n,e){return ET.apply(this,arguments)}function ET(){return ET=(0,Fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield IT(n);it("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>uy(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>uy(e.remoteStore,u)),n.onlineComponents=e}),ET.apply(this,arguments)}function IT(n){return CT.apply(this,arguments)}function CT(){return CT=(0,Fe.Z)(function*(n){return n.offlineComponents||(it("FirestoreClient","Using default OfflineComponentProvider"),yield RS(n,new SS)),n.offlineComponents}),CT.apply(this,arguments)}function QE(n){return DT.apply(this,arguments)}function DT(){return DT=(0,Fe.Z)(function*(n){return n.onlineComponents||(it("FirestoreClient","Using default OnlineComponentProvider"),yield NS(n,new wT)),n.onlineComponents}),DT.apply(this,arguments)}function kS(n){return IT(n).then(e=>e.persistence)}function TT(n){return IT(n).then(e=>e.localStore)}function OS(n){return QE(n).then(e=>e.remoteStore)}function AT(n){return QE(n).then(e=>e.syncEngine)}function py(n){return ST.apply(this,arguments)}function ST(){return ST=(0,Fe.Z)(function*(n){const e=yield QE(n),t=e.eventManager;return t.onListen=M1.bind(null,e.syncEngine),t.onUnlisten=R1.bind(null,e.syncEngine),t}),ST.apply(this,arguments)}function PS(n,e,t={}){const r=new Hi;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(o,u,d,y,E){const x=new YE({next:U=>{u.enqueueAndForget(()=>GD(o,F));const Y=U.docs.has(d);!Y&&U.fromCache?E.reject(new et(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&U.fromCache&&y&&"server"===y.source?E.reject(new et(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(U)},error:U=>E.reject(U)}),F=new ZD(mh(d.path),x,{includeMetadataChanges:!0,Cu:!0});return $D(o,F)}(yield py(n),n.asyncQueue,e,t,r)})),r.promise}function FS(n,e,t={}){const r=new Hi;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function(o,u,d,y,E){const x=new YE({next:U=>{u.enqueueAndForget(()=>GD(o,F)),U.fromCache&&"server"===y.source?E.reject(new et(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(U)},error:U=>E.reject(U)}),F=new ZD(d,x,{includeMetadataChanges:!0,Cu:!0});return $D(o,F)}(yield py(n),n.asyncQueue,e,t,r)})),r.promise}const LS=new Map;function xT(n,e,t){if(!t)throw new et(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VS(n,e,t,r){if(!0===e&&!0===r)throw new et(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function US(n){if(!gt.isDocumentKey(n))throw new et(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BS(n){if(gt.isDocumentKey(n))throw new et(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":St()}function Kn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new et(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=JE(n);throw new et(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jS(n,e){if(e<=0)throw new et(Ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class HS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new et(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new et(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,VS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HS({}),this._settingsFrozen=!1,e instanceof Ku?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new et(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(o.options.projectId)}(e))}get app(){if(!this._app)throw new et(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new et(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new KA;switch(t.type){case"gapi":const r=t.client;return un(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Ib(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new et(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=LS.get(e);t&&(it("ComponentProvider","Removing Datastore"),LS.delete(e),t.terminate())}(this),Promise.resolve()}}class Gr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}}class _o{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _o(this.firestore,e,this._query)}}class zl extends _o{constructor(e,t,r){super(e,t,mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new gt(e))}withConverter(e){return new zl(this.firestore,e,this._path)}}function $S(n,e,...t){if(n=(0,nn.m9)(n),xT("collection","path",e),n instanceof A0){const r=$n.fromString(e,...t);return BS(r),new zl(n,null,r)}{if(!(n instanceof Gr||n instanceof zl))throw new et(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($n.fromString(e,...t));return BS(r),new zl(n.firestore,null,r)}}function XE(n,e,...t){if(n=(0,nn.m9)(n),1===arguments.length&&(e=Yf.R()),xT("doc","path",e),n instanceof A0){const r=$n.fromString(e,...t);return US(r),new Gr(n,null,new gt(r))}{if(!(n instanceof Gr||n instanceof zl))throw new et(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($n.fromString(e,...t));return US(r),new Gr(n.firestore,n instanceof zl?n.converter:null,new gt(r))}}function qS(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),(n instanceof Gr||n instanceof zl)&&(e instanceof Gr||e instanceof zl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function GS(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),n instanceof _o&&e instanceof _o&&n.firestore===e.firestore&&sp(n._query,e._query)&&n.converter===e.converter}class lR{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new I0(this,"async_queue_retry"),this.qa=()=>{const t=E0();t&&it("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=E0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=E0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Hi;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Fe.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!ql(t))throw t;it("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,ai("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const o=HD.createAndSchedule(this,e,t,r,u=>this.ja(u));return this.Fa.push(o),o}Ka(){this.$a&&St()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Fe.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function MT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class cR{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ti extends A0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new lR,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||zS(this),this._firestoreClient.terminate()}}function Gi(n){return n._firestoreClient||zS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zS(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Tb(n._databaseId,u,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var u,y;n._firestoreClient=new J1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function WS(n,e,t){const r=new Hi;return n.asyncQueue.enqueue((0,Fe.Z)(function*(){try{yield RS(n,t),yield NS(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===Ce.FAILED_PRECONDITION||u.code===Ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function ZS(n){if(n._initialized||n._terminated)throw new et(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new et(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wl(Mi.fromBase64String(e))}catch(t){throw new et(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wl(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bp{constructor(e){this._methodName=e}}class eI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new et(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new et(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return In(this._lat,e._lat)||In(this._long,e._long)}}const wR=/^__.*__$/;class bR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new dp(e,this.data,t,this.fieldTransforms)}}class KS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class tI{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Ya(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new tI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.nc(e),o}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.Ya(),o}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return iI(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(YS(this.Xa)&&wR.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class ER{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||kp(e)}ac(e,t,r,o=!1){return new tI({Xa:e,methodName:t,uc:r,path:xi.emptyPath(),ec:!1,oc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function jp(n){const e=n._freezeSettings(),t=kp(n._databaseId);return new ER(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nI(n,e,t,r,o,u={}){const d=n.ac(u.merge||u.mergeFields?2:0,e,t,o);OT("Data must be an object, but it was:",d,r);const y=XS(r,d);let E,x;if(u.merge)E=new lh(d.fieldMask),x=d.fieldTransforms;else if(u.mergeFields){const F=[];for(const U of u.mergeFields){const Y=PT(e,U,t);if(!d.contains(Y))throw new et(Ce.INVALID_ARGUMENT,`Field '${Y}' is specified in your field mask but missing from your input data.`);tx(F,Y)||F.push(Y)}E=new lh(F),x=d.fieldTransforms.filter(U=>E.covers(U.field))}else E=null,x=d.fieldTransforms;return new bR(new Ts(y),E,x)}class S0 extends Bp{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof S0}}function QS(n,e,t){return new tI({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class RT extends Bp{_toFieldTransform(e){return new Hl(e.path,new Lc)}isEqual(e){return e instanceof RT}}class IR extends Bp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=QS(this,e,!0),r=this.cc.map(u=>Hp(u,t)),o=new Vc(r);return new Hl(e.path,o)}isEqual(e){return this===e}}class CR extends Bp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=QS(this,e,!0),r=this.cc.map(u=>Hp(u,t)),o=new Uc(r);return new Hl(e.path,o)}isEqual(e){return this===e}}class DR extends Bp{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Bc(e.M,Zb(e.M,this.hc));return new Hl(e.path,t)}isEqual(e){return this===e}}function NT(n,e,t,r){const o=n.ac(1,e,t);OT("Data must be an object, but it was:",o,r);const u=[],d=Ts.empty();kc(r,(E,x)=>{const F=rI(e,E,t);x=(0,nn.m9)(x);const U=o.sc(F);if(x instanceof S0)u.push(F);else{const Y=Hp(x,U);null!=Y&&(u.push(F),d.set(F,Y))}});const y=new lh(u);return new KS(d,y,o.fieldTransforms)}function kT(n,e,t,r,o,u){const d=n.ac(1,e,t),y=[PT(e,r,t)],E=[o];if(u.length%2!=0)throw new et(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Y=0;Y<u.length;Y+=2)y.push(PT(e,u[Y])),E.push(u[Y+1]);const x=[],F=Ts.empty();for(let Y=y.length-1;Y>=0;--Y)if(!tx(x,y[Y])){const ae=y[Y];let ye=E[Y];ye=(0,nn.m9)(ye);const nt=d.sc(ae);if(ye instanceof S0)x.push(ae);else{const ht=Hp(ye,nt);null!=ht&&(x.push(ae),F.set(ae,ht))}}const U=new lh(x);return new KS(F,U,d.fieldTransforms)}function JS(n,e,t,r=!1){return Hp(t,n.ac(r?4:3,e))}function Hp(n,e){if(ex(n=(0,nn.m9)(n)))return OT("Unsupported field value:",e,n),XS(n,e);if(n instanceof Bp)return function(t,r){if(!YS(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let y=Hp(d,r.ic(u));null==y&&(y={nullValue:"NULL_VALUE"}),o.push(y),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,nn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zb(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Cn.fromDate(t);return{timestampValue:el(r.M,o)}}if(t instanceof Cn){const o=new Cn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:el(r.M,o)}}if(t instanceof eI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wl)return{bytesValue:oE(r.M,t._byteString)};if(t instanceof Gr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.rc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ih(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${JE(t)}`)}(n,e)}function XS(n,e){const t={};return Cb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(n,(r,o)=>{const u=Hp(o,e.tc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function ex(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Cn||n instanceof eI||n instanceof Wl||n instanceof Gr||n instanceof Bp)}function OT(n,e,t){if(!ex(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=JE(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function PT(n,e,t){if((e=(0,nn.m9)(e))instanceof Xc)return e._internalPath;if("string"==typeof e)return rI(n,e);throw iI("Field path arguments must be of type string or ",n,!1,void 0,t)}const TR=new RegExp("[~\\*/\\[\\]]");function rI(n,e,t){if(e.search(TR)>=0)throw iI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xc(...e.split("."))._internalPath}catch(r){throw iI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function iI(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let E="";return(u||d)&&(E+=" (found",u&&(E+=` in field ${r}`),d&&(E+=` in document ${o}`),E+=")"),new et(Ce.INVALID_ARGUMENT,y+n+E)}function tx(n,e){return n.some(t=>t.isEqual(e))}class x0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new AR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class AR extends x0{data(){return super.data()}}function sI(n,e){return"string"==typeof e?rI(n,e):e instanceof Xc?e._internalPath:e._delegate._internalPath}class $p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ed extends x0{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new M0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(sI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class M0 extends ed{data(e={}){return super.data(e)}}class Nh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new $p(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new M0(this._firestore,this._userDataWriter,r.key,r,new $p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new et(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new M0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new $p(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const y=new M0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new $p(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,x=-1;return 0!==d.type&&(E=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),x=u.indexOf(d.doc.key)),{type:SR(d.type),doc:y,oldIndex:E,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function SR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}function nx(n,e){return n instanceof ed&&e instanceof ed?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Nh&&e instanceof Nh&&n._firestore===e._firestore&&GS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function rx(n){if(yh(n)&&0===n.explicitOrderBy.length)throw new et(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R0{}function kh(n,...e){for(const t of e)n=t._apply(n);return n}class xR extends R0{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=jp(e.firestore),r=function(o,u,d,y,E,x,F){let U;if(E.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new et(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){lx(F,x);const ae=[];for(const ye of F)ae.push(ux(y,o,ye));U={arrayValue:{values:ae}}}else U=ux(y,o,F)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||lx(F,x),U=JS(d,"where",F,"in"===x||"not-in"===x);const Y=ss.create(E,x,U);return function(ae,ye){if(ye.S()){const ht=xm(ae);if(null!==ht&&!ht.isEqual(ye.field))throw new et(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ht.toString()}' and '${ye.field.toString()}'`);const fn=rp(ae);null!==fn&&cx(0,ye.field,fn)}const nt=function(ht,fn){for(const pn of ht.filters)if(fn.indexOf(pn.op)>=0)return pn.op;return null}(ae,function(ht){switch(ht){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ye.op));if(null!==nt)throw new et(Ce.INVALID_ARGUMENT,nt===ye.op?`Invalid query. You cannot use more than one '${ye.op.toString()}' filter.`:`Invalid query. You cannot use '${ye.op.toString()}' filters with '${nt.toString()}' filters.`)}(o,Y),Y}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new _o(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new Iu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class RR extends R0{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new et(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new et(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Fc(o,u);return function(y,E){if(null===rp(y)){const x=xm(y);null!==x&&cx(0,x,E.field)}}(r,d),d}(e._query,this.lc,this._c);return new _o(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Iu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ix extends R0{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new _o(e.firestore,e.converter,Mm(e._query,this.wc,this.mc))}}class sx extends R0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=ax(e,this.type,this.gc,this.yc);return new _o(e.firestore,e.converter,(o=t,new Iu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class ox extends R0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=ax(e,this.type,this.gc,this.yc);return new _o(e.firestore,e.converter,(o=t,new Iu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function ax(n,e,t,r){if(t[0]=(0,nn.m9)(t[0]),t[0]instanceof x0)return function(o,u,d,y,E){if(!y)throw new et(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const x=[];for(const F of _h(o))if(F.field.isKeyField())x.push(fh(u,y.key));else{const U=y.data.field(F.field);if(ch(U))throw new et(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+F.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const Y=F.field.canonicalString();throw new et(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Y}' (used as the orderBy) does not exist.`)}x.push(U)}return new jl(x,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=jp(n.firestore);return function(u,d,y,E,x,F){const U=u.explicitOrderBy;if(x.length>U.length)throw new et(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Y=[];for(let ae=0;ae<x.length;ae++){const ye=x[ae];if(U[ae].field.isKeyField()){if("string"!=typeof ye)throw new et(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof ye}`);if(!ip(u)&&-1!==ye.indexOf("/"))throw new et(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${ye}' contains a slash.`);const nt=u.path.child($n.fromString(ye));if(!gt.isDocumentKey(nt))throw new et(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${nt}' is not because it contains an odd number of segments.`);const ht=new gt(nt);Y.push(fh(d,ht))}else{const nt=JS(y,E,ye);Y.push(nt)}}return new jl(Y,F)}(n._query,n.firestore._databaseId,o,e,t,r)}}function ux(n,e,t){if("string"==typeof(t=(0,nn.m9)(t))){if(""===t)throw new et(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ip(e)&&-1!==t.indexOf("/"))throw new et(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($n.fromString(t));if(!gt.isDocumentKey(r))throw new et(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fh(n,new gt(r))}if(t instanceof Gr)return fh(n,t._key);throw new et(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${JE(t)}.`)}function lx(n,e){if(!Array.isArray(n)||0===n.length)throw new et(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new et(Ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function cx(n,e,t){if(!t.isEqual(e))throw new et(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class FT{convertValue(e,t="none"){switch(Bl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw St()}}convertObject(e,t){const r={};return kc(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new eI(ei(e.latitude),ei(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dh(e));default:return null}}convertTimestamp(e){const t=Ul(e);return new Cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$n.fromString(e);un(Wv(r));const o=new Ku(r.get(1),r.get(3)),u=new gt(r.popFirst(5));return o.isEqual(t)||ai(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function oI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class UR extends FT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,t)}}class dx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jp(e)}set(e,t,r){this._verifyNotCommitted();const o=Oh(e,this._firestore),u=oI(o.converter,t,r),d=nI(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,ui.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Oh(e,this._firestore);let d;return d="string"==typeof(t=(0,nn.m9)(t))||t instanceof Xc?kT(this._dataReader,"WriteBatch.update",u._key,t,r,o):NT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,ui.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Oh(e,this._firestore);return this._mutations=this._mutations.concat(new vh(t._key,ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oh(n,e){if((n=(0,nn.m9)(n)).firestore!==e)throw new et(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class qp extends FT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,t)}}function hx(n,e,t){n=Kn(n,Gr);const r=Kn(n.firestore,ti),o=oI(n.converter,e,t);return gy(r,[nI(jp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,ui.none())])}function fx(n,e,t,...r){n=Kn(n,Gr);const o=Kn(n.firestore,ti),u=jp(o);let d;return d="string"==typeof(e=(0,nn.m9)(e))||e instanceof Xc?kT(u,"updateDoc",n._key,e,t,r):NT(u,"updateDoc",n._key,e),gy(o,[d.toMutation(n._key,ui.exists(!0))])}function px(n,...e){var t,r,o;n=(0,nn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||MT(e[d])||(u=e[d],d++);const y={includeMetadataChanges:u.includeMetadataChanges};if(MT(e[d])){const U=e[d];e[d]=null===(t=U.next)||void 0===t?void 0:t.bind(U),e[d+1]=null===(r=U.error)||void 0===r?void 0:r.bind(U),e[d+2]=null===(o=U.complete)||void 0===o?void 0:o.bind(U)}let E,x,F;if(n instanceof Gr)x=Kn(n.firestore,ti),F=mh(n._key.path),E={next:U=>{e[d]&&e[d](LT(x,n,U))},error:e[d+1],complete:e[d+2]};else{const U=Kn(n,_o);x=Kn(U.firestore,ti),F=U._query;const Y=new qp(x);E={next:ae=>{e[d]&&e[d](new Nh(x,Y,U,ae))},error:e[d+1],complete:e[d+2]},rx(n._query)}return function(U,Y,ae,ye){const nt=new YE(ye),ht=new ZD(Y,nt,ae);return U.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return $D(yield py(U),ht)})),()=>{nt.Ia(),U.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return GD(yield py(U),ht)}))}}(Gi(x),F,y,E)}function gy(n,e){return function(t,r){const o=new Hi;return t.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function N1(n,e,t){return XD.apply(this,arguments)}(yield AT(t),r,o)})),o.promise}(Gi(n),e)}function LT(n,e,t){const r=t.docs.get(e._key),o=new qp(n);return new ed(n,o,e._key,r,new $p(t.hasPendingWrites,t.fromCache),e.converter)}class KR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jp(e)}get(e){const t=Oh(e,this._firestore),r=new UR(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return St();const u=o[0];if(u.isFoundDocument())return new x0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new x0(this._firestore,r,t._key,null,t.converter);throw St()})}set(e,t,r){const o=Oh(e,this._firestore),u=oI(o.converter,t,r),d=nI(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Oh(e,this._firestore);let d;return d="string"==typeof(t=(0,nn.m9)(t))||t instanceof Xc?kT(this._dataReader,"Transaction.update",u._key,t,r,o):NT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Oh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Oh(e,this._firestore),r=new qp(this._firestore);return super.get(e).then(o=>new ed(this._firestore,r,t._key,o._document,new $p(!1,!1),t.converter))}}function VT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new et("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function mx(){if("undefined"==typeof Uint8Array)throw new et("unimplemented","Uint8Arrays are not available in this environment.")}function yx(){if(!function HC(){return"undefined"!=typeof atob}())throw new et("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){oh=aa.SDK_VERSION,(0,aa._registerComponent)(new Nd.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new ti(o,new YA(t.getProvider("auth-internal")),new Yt(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,aa.registerVersion)(vb,"3.4.8",n),(0,aa.registerVersion)(vb,"3.4.8","esm2017")}();class N0{constructor(e){this._delegate=e}static fromBase64String(e){return yx(),new N0(Wl.fromBase64String(e))}static fromUint8Array(e){return mx(),new N0(Wl.fromUint8Array(e))}toBase64(){return yx(),this._delegate.toBase64()}toUint8Array(){return mx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function UT(n){return function iN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class sN{enableIndexedDbPersistence(e,t){return function hR(n,e){ZS(n=Kn(n,ti));const t=Gi(n),r=n._freezeSettings(),o=new wT;return WS(t,o,new xS(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function fR(n){ZS(n=Kn(n,ti));const e=Gi(n),t=n._freezeSettings(),r=new wT;return WS(e,r,new Z1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pR(n){if(n._initialized&&!n._terminated)throw new et(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Fe.Z)(function*(){try{yield(t=(0,Fe.Z)(function*(r){if(!Au.vt())return Promise.resolve();const o=r+"main";yield Au.delete(o)}),function(r){return t.apply(this,arguments)})(p0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class _x{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ku||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ah("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function aR(n,e,t,r={}){var o;const u=(n=Kn(n,A0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&ah("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,y;if("string"==typeof r.mockUserToken)d=r.mockUserToken,y=is.MOCK_USER;else{d=(0,nn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new et(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new is(E)}n._authCredentials=new Av(new Nc(d,y))}}(this._delegate,e,t,r)}enableNetwork(){return function mR(n){return function X1(n){return n.asyncQueue.enqueue((0,Fe.Z)(function*(){const e=yield kS(n),t=yield OS(n);return e.setNetworkEnabled(!0),function(r){const o=yt(r);return o.fu.delete(0),ay(o)}(t)}))}(Gi(n=Kn(n,ti)))}(this._delegate)}disableNetwork(){return function yR(n){return function eR(n){return n.asyncQueue.enqueue((0,Fe.Z)(function*(){const e=yield kS(n),t=yield OS(n);return e.setNetworkEnabled(!1),(r=(0,Fe.Z)(function*(o){const u=yt(o);u.fu.add(0),yield Op(u),u.wu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Gi(n=Kn(n,ti)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,VS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gR(n){return function(e){const t=new Hi;return e.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return function F1(n,e){return iT.apply(this,arguments)}(yield AT(e),t)})),t.promise}(Gi(n=Kn(n,ti)))}(this._delegate)}onSnapshotsInSync(e){return function ZR(n,e){return function rR(n,e){const t=new YE(e);return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return r=yield py(n),o=t,yt(r).Eu.add(o),void o.next();var r,o})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return r=yield py(n),o=t,void yt(r).Eu.delete(o);var r,o}))}}(Gi(n=Kn(n,ti)),MT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new my(this,$S(this._delegate,e))}catch(t){throw Vo(t,"collection()","Firestore.collection()")}}doc(e){try{return new xu(this,XE(this._delegate,e))}catch(t){throw Vo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Uo(this,function uR(n,e){if(n=Kn(n,A0),xT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new et(Ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _o(n,null,(t=e,new Iu($n.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function YR(n,e){return function iR(n,e){const t=new Hi;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){const r=yield(o=n,QE(o).then(u=>u.datastore));var o;new Q1(n.asyncQueue,r,e,t).run()})),t.promise}(Gi(n=Kn(n,ti)),t=>e(new KR(n,t)))}(this._delegate,t=>e(new vx(this,t)))}batch(){return Gi(this._delegate),new wx(new dx(this._delegate,e=>gy(this._delegate,e)))}loadBundle(e){return function _R(n,e){const t=Gi(n=Kn(n,ti)),r=new cR;return function sR(n,e,t,r){const o=function(u,d){let y;return y="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,x){if(E instanceof Uint8Array)return MS(E,x);if(E instanceof ArrayBuffer)return MS(new Uint8Array(E),x);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new K1(E,d);var E}(t,kp(e));n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){!function W1(n,e,t){const r=yt(n);var o;(o=(0,Fe.Z)(function*(u,d,y){try{const E=yield d.getMetadata();if(yield function(Y,ae){const ye=yt(Y),nt=$i(ae.createTime);return ye.persistence.runTransaction("hasNewerBundle","readonly",ht=>ye._s.getBundleMetadata(ht,ae.id)).then(ht=>!!ht&&ht.createTime.compareTo(nt)>=0)}(u.localStore,E))return yield d.close(),y._completeWith({taskState:"Success",documentsLoaded:(Y=E).totalDocuments,bytesLoaded:Y.totalBytes,totalDocuments:Y.totalDocuments,totalBytes:Y.totalBytes}),Promise.resolve(new Set);y._updateProgress(vS(E));const x=new T1(E,u.localStore,d.M);let F=yield d.da();for(;F;){const Y=yield x.ku(F);Y&&y._updateProgress(Y),F=yield d.da()}const U=yield x.complete();return yield Jc(u,U.Fu,void 0),yield function(Y,ae){const ye=yt(Y);return ye.persistence.runTransaction("Save bundle","readwrite",nt=>ye._s.saveBundleMetadata(nt,ae))}(u.localStore,E),y._completeWith(U.progress),Promise.resolve(U.Ou)}catch(E){return ah("SyncEngine",`Loading bundle failed with ${E}`),y._failWith(E),Promise.resolve(new Set)}var Y}),function(u,d,y){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield AT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function vR(n,e){return function oR(n,e){return n.asyncQueue.enqueue((0,Fe.Z)(function*(){return function(t,r){const o=yt(t);return o.persistence.runTransaction("Get named query","readonly",u=>o._s.getNamedQuery(u,r))}(yield TT(n),e)}))}(Gi(n=Kn(n,ti)),e).then(t=>t?new _o(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Uo(this,t):null)}}class aI extends FT{constructor(e){super(),this.firestore=e}convertBytes(e){return new N0(new Wl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xu.forKey(t,this.firestore,null)}}class vx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}get(e){const t=zp(e);return this._delegate.get(t).then(r=>new k0(this._firestore,new ed(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=zp(e);return r?(VT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=zp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}}class wx{constructor(e){this._delegate=e}set(e,t,r){const o=zp(e);return r?(VT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=zp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new M0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new O0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Gp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Gp(e,new aI(e),t),o.set(t,u)),u}}Gp.INSTANCES=new WeakMap;class xu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xu(t,new Gr(t._delegate,r,new gt(e)))}static forKey(e,t,r){return new xu(t,new Gr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new my(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new my(this.firestore,$S(this._delegate,e))}catch(t){throw Vo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nn.m9)(e))instanceof Gr&&qS(this._delegate,e)}set(e,t){t=VT("DocumentReference.set",t);try{return t?hx(this._delegate,e,t):hx(this._delegate,e)}catch(r){throw Vo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?fx(this._delegate,e):fx(this._delegate,e,t,...r)}catch(o){throw Vo(o,"updateDoc()","DocumentReference.update()")}}delete(){return function zR(n){return gy(Kn(n.firestore,ti),[new vh(n._key,ui.none())])}(this._delegate)}onSnapshot(...e){const t=bx(e),r=Ex(e,o=>new k0(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return px(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function jR(n){n=Kn(n,Gr);const e=Kn(n.firestore,ti),t=Gi(e),r=new qp(e);return function tR(n,e){const t=new Hi;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return(r=(0,Fe.Z)(function*(o,u,d){try{const y=yield function(E,x){const F=yt(E);return F.persistence.runTransaction("read document","readonly",U=>F.ci.Ls(U,x))}(o,u);y.isFoundDocument()?d.resolve(y):y.isNoDocument()?d.resolve(null):d.reject(new et(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const E=cy(y,`Failed to get document '${u} from cache`);d.reject(E)}}),function(o,u,d){return r.apply(this,arguments)})(yield TT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ed(e,r,n._key,o,new $p(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function HR(n){n=Kn(n,Gr);const e=Kn(n.firestore,ti);return PS(Gi(e),n._key,{source:"server"}).then(t=>LT(e,n,t))}(this._delegate):function BR(n){n=Kn(n,Gr);const e=Kn(n.firestore,ti);return PS(Gi(e),n._key).then(t=>LT(e,n,t))}(this._delegate),t.then(r=>new k0(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new xu(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function Vo(n,e,t){return n.message=n.message.replace(e,t),n}function bx(n){for(const e of n)if("object"==typeof e&&!UT(e))return e;return{}}function Ex(n,e){var t,r;let o;return o=UT(n[0])?n[0]:UT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class k0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nx(this._delegate,e._delegate)}}class O0 extends k0{data(e){const t=this._delegate.data(e);return function bb(n,e){n||St()}(void 0!==t),t}}class Uo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aI(e)}where(e,t,r){try{return new Uo(this.firestore,kh(this._delegate,function MR(n,e,t){const r=e,o=sI("where",n);return new xR(o,r,t)}(e,t,r)))}catch(o){throw Vo(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Uo(this.firestore,kh(this._delegate,function NR(n,e="asc"){const t=e,r=sI("orderBy",n);return new RR(r,t)}(e,t)))}catch(r){throw Vo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Uo(this.firestore,kh(this._delegate,function kR(n){return jS("limit",n),new ix("limit",n,"F")}(e)))}catch(t){throw Vo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Uo(this.firestore,kh(this._delegate,function OR(n){return jS("limitToLast",n),new ix("limitToLast",n,"L")}(e)))}catch(t){throw Vo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Uo(this.firestore,kh(this._delegate,function PR(...n){return new sx("startAt",n,!0)}(...e)))}catch(t){throw Vo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Uo(this.firestore,kh(this._delegate,function FR(...n){return new sx("startAfter",n,!1)}(...e)))}catch(t){throw Vo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Uo(this.firestore,kh(this._delegate,function LR(...n){return new ox("endBefore",n,!1)}(...e)))}catch(t){throw Vo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Uo(this.firestore,kh(this._delegate,function VR(...n){return new ox("endAt",n,!0)}(...e)))}catch(t){throw Vo(t,"endAt()","Query.endAt()")}}isEqual(e){return GS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function qR(n){n=Kn(n,_o);const e=Kn(n.firestore,ti),t=Gi(e),r=new qp(e);return function nR(n,e){const t=new Hi;return n.asyncQueue.enqueueAndForget((0,Fe.Z)(function*(){return(r=(0,Fe.Z)(function*(o,u,d){try{const y=yield ry(o,u,!0),E=new ES(u,y.li),x=E.Gu(y.documents),F=E.applyChanges(x,!1);d.resolve(F.snapshot)}catch(y){const E=cy(y,`Failed to execute query '${u} against cache`);d.reject(E)}}),function(o,u,d){return r.apply(this,arguments)})(yield TT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Nh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function GR(n){n=Kn(n,_o);const e=Kn(n.firestore,ti),t=Gi(e),r=new qp(e);return FS(t,n._query,{source:"server"}).then(o=>new Nh(e,r,n,o))}(this._delegate):function $R(n){n=Kn(n,_o);const e=Kn(n.firestore,ti),t=Gi(e),r=new qp(e);return rx(n._query),FS(t,n._query).then(o=>new Nh(e,r,n,o))}(this._delegate),t.then(r=>new BT(this.firestore,new Nh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=bx(e),r=Ex(e,o=>new BT(this.firestore,new Nh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return px(this._delegate,t,r)}withConverter(e){return new Uo(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}class aN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new O0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class BT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Uo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new O0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new O0(this._firestore,r))})}isEqual(e){return nx(this._delegate,e._delegate)}}class my extends Uo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xu(this.firestore,e):null}doc(e){try{return new xu(this.firestore,void 0===e?XE(this._delegate):XE(this._delegate,e))}catch(t){throw Vo(t,"doc()","CollectionReference.doc()")}}add(e){return function WR(n,e){const t=Kn(n.firestore,ti),r=XE(n),o=oI(n.converter,e);return gy(t,[nI(jp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,ui.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new xu(this.firestore,t))}isEqual(e){return qS(this._delegate,e._delegate)}withConverter(e){return new my(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function zp(n){return Kn(n,Gr)}class jT{constructor(...e){this._delegate=new Xc(...e)}static documentId(){return new jT(xi.keyField().canonicalString())}isEqual(e){return(e=(0,nn.m9)(e))instanceof Xc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function JR(){return new RT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Wp(e)}static delete(){const e=function QR(){return new S0("deleteField")}();return e._methodName="FieldValue.delete",new Wp(e)}static arrayUnion(...e){const t=function XR(...n){return new IR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Wp(t)}static arrayRemove(...e){const t=function eN(...n){return new CR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Wp(t)}static increment(e){const t=function tN(n){return new DR("increment",n)}(e);return t._methodName="FieldValue.increment",new Wp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uN={Firestore:_x,GeoPoint:eI,Timestamp:Cn,Blob:N0,Transaction:vx,WriteBatch:wx,DocumentReference:xu,DocumentSnapshot:k0,Query:Uo,QueryDocumentSnapshot:O0,QuerySnapshot:BT,CollectionReference:my,FieldPath:jT,FieldValue:Wp,setLogLevel:function oN(n){!function wb(n){Wu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Ix(n,e){return function dN(n,e=_u.z){return new Xn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function HT(n,e){return Ix(n,e).pipe((0,En.U)(t=>({payload:t,type:"query"})))}function uI(n,e){return HT(n,e).pipe(Ps(void 0),Vd(),(0,En.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,y)=>{const E=o.find(F=>F.doc.ref.isEqual(d.ref)),x=null==t?void 0:t.payload.docs.find(F=>F.ref.isEqual(d.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(d.metadata)||!E&&x&&JSON.stringify(x.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:d}})}),u}))}function Cx(n,e,t){return uI(n,t).pipe(Ti((r,o)=>function fN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function pN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return $T(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return $T(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $T(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function sC(n,e=ys.y){return n=null!=n?n:oC,(0,Di.e)((t,r)=>{let o,u=!0;t.subscribe((0,Or.x)(r,d=>{const y=e(d);(u||!n(o,y))&&(u=!1,o=y,r.next(d))}))})}(),(0,En.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function $T(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function Dx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function cN(n){(function lN(n,e){n.INTERNAL.registerComponent(new Nd.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},uN)))})(n,(e,t)=>new _x(e,t,new sN)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(Bg.Z);class Tx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=uI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,En.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ps(void 0),Vd(),Mo(([r,o])=>o.length>0||!r),(0,En.U)(([r,o])=>o),Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ti((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Dx(e);return Cx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return HT(this.query,this.afs.schedulers.outsideAngular).pipe((0,En.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Sr.iC)}get(e){return(0,At.D)(this.query.get(e)).pipe(Sr.iC)}add(e){return this.ref.add(e)}doc(e){return new Ax(this.ref.doc(e),this.afs)}}class Ax{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=Mx(r,t);return new Tx(o,u,this.afs)}snapshotChanges(){return function hN(n,e){return Ix(n,e).pipe(Ps(void 0),Vd(),(0,En.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,En.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,At.D)(this.ref.get(e)).pipe(Sr.iC)}}class gN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?uI(this.query,this.afs.schedulers.outsideAngular).pipe((0,En.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Mo(t=>t.length>0),Sr.iC):uI(this.query,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ti((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Dx(e);return Cx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return HT(this.query,this.afs.schedulers.outsideAngular).pipe((0,En.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Sr.iC)}get(e){return(0,At.D)(this.query.get(e)).pipe(Sr.iC)}}const Sx=new h.OlP("angularfire2.enableFirestorePersistence"),xx=new h.OlP("angularfire2.firestore.persistenceSettings"),mN=new h.OlP("angularfire2.firestore.settings"),yN=new h.OlP("angularfire2.firestore.use-emulator");function Mx(n,e=(t=>t)){return{query:e(n),ref:n}}let yy=(()=>{class n{constructor(t,r,o,u,d,y,E,x,F,U,Y,ae,ye,nt,ht,fn,pn){this.schedulers=E;const Qt=(0,Bs.on)(t,y,r),Ut=F;U&&F_(Qt,y,Y,ye,nt,ht,ae,fn),[this.firestore,this.persistenceEnabled$]=(0,Bs.cc)(`${Qt.name}.firestore`,"AngularFirestore",Qt.name,()=>{const vn=y.runOutsideAngular(()=>Qt.firestore());if(u&&vn.settings(u),Ut&&vn.useEmulator(...Ut),o&&!Zr(d)){const Vn=()=>{try{return(0,At.D)(vn.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(zi){return"undefined"!=typeof console&&console.warn(zi),Qe(!1)}};return[vn,y.runOutsideAngular(Vn)]}return[vn,Qe(!1)]},[u,Ut,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=Mx(o,r),y=this.schedulers.ngZone.run(()=>u);return new Tx(y,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new gN(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new Ax(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Bs.Dh),h.LFG(Bs.xv,8),h.LFG(Sx,8),h.LFG(mN,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Sr.HU),h.LFG(xx,8),h.LFG(yN,8),h.LFG(Ld,8),h.LFG(Tw,8),h.LFG(Ug,8),h.LFG(iC,8),h.LFG(Aw,8),h.LFG(O_,8),h.LFG(P_,8),h.LFG(Fd,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_N=(()=>{class n{constructor(){Vg.Z.registerVersion("angularfire",Sr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Sx,useValue:!0},{provide:xx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[yy]}),n})(),Zp=(()=>{class n{constructor(t,r){this.fa=t,this.db=r,this.user=this.fa.user}signUp(t,r){return this.fa.createUserWithEmailAndPassword(t,r)}signIn(t,r){return this.fa.signInWithEmailAndPassword(t,r)}getAllProducts(){return new Promise(t=>{this.db.collection("products").valueChanges({idField:"id"}).subscribe(r=>t(r))})}getCurrentUser(t){return new Promise(r=>{this.db.collection("users",o=>o.where("uid","==",t)).valueChanges().subscribe(o=>r(o))})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ld),h.LFG(yy))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rx=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Kp=(()=>{class n extends Rx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Zl=new h.OlP("NgValueAccessor"),bN={provide:Zl,useExisting:(0,h.Gpc)(()=>Ph),multi:!0},IN=new h.OlP("CompositionEventMode");let Ph=(()=>{class n extends Rx{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function EN(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(IN,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([bN]),h.qOj]}),n})();function Fh(n){return null==n||0===n.length}const vo=new h.OlP("NgValidators"),Lh=new h.OlP("NgAsyncValidators"),CN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Fx(n){return Fh(n.value)?{required:!0}:null}function Vx(n){return Fh(n.value)||CN.test(n.value)?null:{email:!0}}function lI(n){return null}function Hx(n){return null!=n}function $x(n){const e=(0,h.QGY)(n)?(0,At.D)(n):n;return(0,h.CqO)(e),e}function qx(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Gx(n,e){return e.map(t=>t(n))}function zx(n){return n.map(e=>function DN(n){return!n.validate}(e)?e:t=>e.validate(t))}function qT(n){return null!=n?function Wx(n){if(!n)return null;const e=n.filter(Hx);return 0==e.length?null:function(t){return qx(Gx(t,e))}}(zx(n)):null}function GT(n){return null!=n?function Zx(n){if(!n)return null;const e=n.filter(Hx);return 0==e.length?null:function(t){return function vN(...n){const e=(0,Kt.jO)(n),{args:t,keys:r}=Ns(n),o=new Xn.y(u=>{const{length:d}=t;if(!d)return void u.complete();const y=new Array(d);let E=d,x=d;for(let F=0;F<d;F++){let U=!1;(0,su.Xf)(t[F]).subscribe((0,Or.x)(u,Y=>{U||(U=!0,x--),y[F]=Y},()=>E--,void 0,()=>{(!E||!U)&&(x||u.next(r?va(r,y):y),u.complete())}))}});return e?o.pipe(ld(e)):o}(Gx(t,e).map($x)).pipe((0,En.U)(qx))}}(zx(n)):null}function Kx(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function zT(n){return n?Array.isArray(n)?n:[n]:[]}function cI(n,e){return Array.isArray(n)?n.includes(e):n===e}function Jx(n,e){const t=zT(e);return zT(n).forEach(o=>{cI(t,o)||t.push(o)}),t}function Xx(n,e){return zT(e).filter(t=>!cI(n,t))}class eM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Vh extends eM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bo extends eM{get formDirective(){return null}get path(){return null}}class tM{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let _y=(()=>{class n extends tM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Vh,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})(),vy=(()=>{class n extends tM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Bo,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[h.qOj]}),n})();function P0(n,e){KT(n,e),e.valueAccessor.writeValue(n.value),function kN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rM(n,e)})}(n,e),function PN(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ON(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function NN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function pI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function KT(n,e){const t=function Yx(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Kx(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Qx(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Kx(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();pI(e._rawValidators,o),pI(e._rawAsyncValidators,o)}function rM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function JT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const F0="VALID",mI="INVALID",wy="PENDING",L0="DISABLED";function eA(n){return(yI(n)?n.validators:n)||null}function aM(n){return Array.isArray(n)?qT(n):n||null}function tA(n,e){return(yI(e)?e.asyncValidators:n)||null}function uM(n){return Array.isArray(n)?GT(n):n||null}function yI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const nA=n=>n instanceof iA;function cM(n){return(n=>n instanceof fM)(n)?n.value:n.getRawValue()}function dM(n,e){const t=nA(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function hM(n,e){nA(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new h.vHH(1002,"")})}class rA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=aM(this._rawValidators),this._composedAsyncValidatorFn=uM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===F0}get invalid(){return this.status===mI}get pending(){return this.status==wy}get disabled(){return this.status===L0}get enabled(){return this.status!==L0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=aM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=uM(e)}addValidators(e){this.setValidators(Jx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xx(e,this._rawAsyncValidators))}hasValidator(e){return cI(this._rawValidators,e)}hasAsyncValidator(e){return cI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=L0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=F0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===F0||this.status===wy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?L0:F0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wy,this._hasOwnPendingAsyncValidator=!0;const t=$x(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function UN(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=nA(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof jN)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?L0:this.errors?mI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wy)?wy:this._anyControlsHaveStatus(mI)?mI:F0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fM extends rA{constructor(e=null,t,r){super(eA(t),tA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yI(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){JT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){JT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class iA extends rA{constructor(e,t,r){super(eA(t),tA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hM(this,e),Object.keys(e).forEach(r=>{dM(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=cM(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class jN extends rA{constructor(e,t,r){super(eA(t),tA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){hM(this,e),e.forEach((r,o)=>{dM(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>cM(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const HN={provide:Bo,useExisting:(0,h.Gpc)(()=>Uh)},V0=(()=>Promise.resolve(null))();let Uh=(()=>{class n extends Bo{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new iA({},qT(t),GT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){V0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),P0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){V0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){V0.then(()=>{const r=this._findContainer(t.path),o=new iA({});(function iM(n,e){KT(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){V0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){V0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function oM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(vo,10),h.Y36(Lh,10))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([HN]),h.qOj]}),n})();const qN={provide:Vh,useExisting:(0,h.Gpc)(()=>Yp)},mM=(()=>Promise.resolve(null))();let Yp=(()=>{class n extends Vh{constructor(t,r,o,u,d){super(),this._changeDetectorRef=d,this.control=new fM,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function QT(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Ph?t=u:function VN(n){return Object.getPrototypeOf(n.constructor)===Kp}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function YT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){P0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){mM.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;mM.then(()=>{var u;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?function hI(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Bo,9),h.Y36(vo,10),h.Y36(Lh,10),h.Y36(Zl,10),h.Y36(h.sBO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([qN]),h.qOj,h.TTD]}),n})(),by=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),_M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();let Qp=(()=>{class n{constructor(){this._validator=lI}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):lI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const lk={provide:vo,useExisting:(0,h.Gpc)(()=>U0),multi:!0};let U0=(()=>{class n extends Qp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function ok(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Fx}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([lk]),h.qOj]}),n})();const dk={provide:vo,useExisting:(0,h.Gpc)(()=>cA),multi:!0};let cA=(()=>{class n extends Qp{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=t=>""===t||!0===t||"true"===t,this.createValidator=t=>Vx}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[h._Bn([dk]),h.qOj]}),n})();const hk={provide:vo,useExisting:(0,h.Gpc)(()=>_I),multi:!0};let _I=(()=>{class n extends Qp{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function AM(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function Ux(n){return e=>Fh(e.value)||!function kx(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[h._Bn([hk]),h.qOj]}),n})(),gk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[_M]]}),n})(),mk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[gk]}),n})();function yk(n,e){1&n&&(h.TgZ(0,"p",15),h._uU(1,"Full name name is required"),h.qZA())}function _k(n,e){1&n&&(h.TgZ(0,"p",15),h._uU(1,"Password is required"),h.qZA())}function vk(n,e){1&n&&(h.TgZ(0,"p",15),h._uU(1,"Password should compose > 8 caracters"),h.qZA())}let wk=(()=>{class n{constructor(t,r,o){this.sa=t,this.route=r,this.as=o}ngOnInit(){}login(t){var r=this;let o=t.value;this.sa.signIn(o.flName,o.password).then(function(){var u=(0,Fe.Z)(function*(d){console.log("login ok"),r.as.user.subscribe(y=>{r.Uid=y.uid}),yield new Promise(y=>setTimeout(y,400)),localStorage.setItem("userId",r.Uid),console.log(r.Uid),r.route.navigate(["/"])});return function(d){return u.apply(this,arguments)}}()).catch(()=>{console.log("login error"),this.messageError="Incorrect email or Password !"})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zp),h.Y36(Bi),h.Y36(Zp))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"uk-position-center","uk-overlay","uk-overlay-default"],[3,"ngSubmit"],["f","ngForm"],[1,"uk-margin"],[1,"uk-inline"],["uk-icon","icon: happy",1,"uk-form-icon"],["type","text","name","flName","placeholder","Full name","ngModel","","required","",1,"uk-input"],["flName","ngModel"],["class","text-danger",4,"ngIf"],["uk-icon","icon: lock",1,"uk-form-icon","uk-form-icon-flip"],["type","password","name","password","ngModel","","placeholder","Password","required","","minlength","8",1,"uk-input"],["password","ngModel"],["type","submit",1,"btn","btn-outline-success",2,"width","100%","margin-bottom","5px"],["type","submit",1,"btn","btn-outline-primary",2,"width","100%"],[1,"text-center",2,"color","red"],[1,"text-danger"]],template:function(t,r){if(1&t){const o=h.EpF();h.TgZ(0,"div",0)(1,"form",1,2),h.NdJ("ngSubmit",function(){h.CHM(o);const d=h.MAs(2);return r.login(d)}),h.TgZ(3,"div",3)(4,"div",4),h._UZ(5,"span",5)(6,"input",6,7),h.qZA(),h.YNc(8,yk,2,0,"p",8),h.qZA(),h.TgZ(9,"div",3)(10,"div",4),h._UZ(11,"span",9)(12,"input",10,11),h.YNc(14,_k,2,0,"p",8),h.YNc(15,vk,2,0,"p",8),h.qZA()(),h.TgZ(16,"button",12),h._uU(17,"Login"),h.qZA(),h.TgZ(18,"button",13),h._uU(19,"forgot password"),h.qZA()(),h.TgZ(20,"p",14),h._uU(21),h.qZA()()}if(2&t){const o=h.MAs(7),u=h.MAs(13);h.xp6(8),h.Q6J("ngIf",(null==o.errors?null:o.errors.required)&&o.touched),h.xp6(6),h.Q6J("ngIf",(null==u.errors?null:u.errors.required)&&u.touched),h.xp6(1),h.Q6J("ngIf",(null==u.errors?null:u.errors.minlength)&&u.touched),h.xp6(6),h.Oqu(r.messageError)}},directives:[by,vy,Uh,Ph,_y,Yp,U0,gr,_I],styles:[""]}),n})();function bk(n,e){if(1&n&&(h.TgZ(0,"div",24)(1,"div",25),h._UZ(2,"img",26),h.TgZ(3,"div",27)(4,"h5",28)(5,"b"),h._uU(6),h.qZA()(),h.TgZ(7,"p",29),h._uU(8),h.qZA()(),h.TgZ(9,"div",30)(10,"button",31),h._uU(11,"Delete"),h.qZA(),h.TgZ(12,"button",32),h._uU(13,"Update"),h.qZA()()()()),2&n){const t=e.$implicit;h.xp6(2),h.Q6J("src",t.image,h.LSH),h.xp6(4),h.Oqu(t.title),h.xp6(2),h.hij(" ",t.description," ")}}function Ek(n,e){if(1&n&&(h.TgZ(0,"div",33)(1,"strong"),h._uU(2),h.qZA()()),2&n){const t=h.oxw();h.xp6(2),h.Oqu(t.successMessage)}}let Ik=(()=>{class n{constructor(t,r){this.fs=t,this.as=r,this.as.user.subscribe(o=>{this.Uid=o.uid})}ngOnInit(){var t=this;return(0,Fe.Z)(function*(){t.dataArray=(yield t.as.getAllProducts()).filter(r=>r.uid===t.Uid)})()}addProduct(t){let r=t.value;this.fs.collection("products").doc().set({title:r.title,description:r.description,image:r.image,uid:this.Uid}).then(()=>{this.successMessage="Added !",console.log(this.successMessage)}).catch(()=>{console.log("error !")})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(yy),h.Y36(Zp))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-my-products"]],decls:38,vars:2,consts:[[1,"text-center"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary",2,"margin-bottom","10px"],[1,"row"],["class","col","style","margin-bottom: 10px",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"ngSubmit"],["f","ngForm"],[1,"mb-3"],["for","",1,"form-label"],["type","text","name","title","ngModel","","placeholder","Title","aria-describedby","helpId",1,"form-control"],["title","ngModel"],["id","helpId",1,"text-muted"],["type","Description","name","description","ngModel","","placeholder","Description","aria-describedby","helpId",1,"form-control"],["description","ngModel"],["type","text","name","image","ngModel","","placeholder","Image (link)","aria-describedby","helpId",1,"form-control"],["image","ngModel"],["type","submit",1,"btn","btn-success"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"col",2,"margin-bottom","10px"],[1,"card"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-center",2,"display","block"],[1,"uk-button","uk-button-danger","uk-button-small"],[1,"uk-button","uk-button-default","uk-button-small"],["role","alert",1,"alert","alert-success"]],template:function(t,r){if(1&t){const o=h.EpF();h._UZ(0,"br"),h.TgZ(1,"h3",0),h._uU(2,"My products"),h.qZA(),h.TgZ(3,"button",1),h._uU(4," Add product\n"),h.qZA(),h.TgZ(5,"div",2),h.YNc(6,bk,14,3,"div",3),h.qZA(),h.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h5",8),h._uU(12,"Modal title"),h.qZA(),h._UZ(13,"button",9),h.qZA(),h.TgZ(14,"div",10)(15,"form",11,12),h.NdJ("ngSubmit",function(){h.CHM(o);const d=h.MAs(16);return r.addProduct(d)}),h.TgZ(17,"div",13),h._UZ(18,"label",14)(19,"input",15,16),h.TgZ(21,"small",17),h._uU(22,"Help text"),h.qZA()(),h.TgZ(23,"div",13),h._UZ(24,"label",14)(25,"textarea",18,19),h.TgZ(27,"small",17),h._uU(28,"Help text"),h.qZA()(),h.TgZ(29,"div",13),h._UZ(30,"label",14)(31,"input",20,21),h.TgZ(33,"small",17),h._uU(34,"Help text"),h.qZA()(),h.TgZ(35,"button",22),h._uU(36,"Add product"),h.qZA(),h.YNc(37,Ek,3,1,"div",23),h.qZA()()()()()}2&t&&(h.xp6(6),h.Q6J("ngForOf",r.dataArray),h.xp6(31),h.Q6J("ngIf",r.successMessage))},directives:[Vr,by,vy,Uh,Ph,_y,Yp,gr],styles:[""]}),n})();function Ck(n,e){if(1&n&&(h.TgZ(0,"div",23)(1,"div",24),h._UZ(2,"img",25),h.TgZ(3,"div",26)(4,"h5",27)(5,"b"),h._uU(6),h.qZA()(),h.TgZ(7,"p",28),h._uU(8),h.qZA()()()()),2&n){const t=e.$implicit;h.xp6(2),h.Q6J("src",t.image,h.LSH),h.xp6(4),h.Oqu(t.title),h.xp6(2),h.hij(" ",t.description," ")}}function Dk(n,e){if(1&n&&(h.TgZ(0,"div",29)(1,"strong"),h._uU(2),h.qZA()()),2&n){const t=h.oxw();h.xp6(2),h.Oqu(t.successMessage)}}let Tk=(()=>{class n{constructor(t,r){this.fs=t,this.as=r}ngOnInit(){var t=this;return(0,Fe.Z)(function*(){t.dataArray=yield t.as.getAllProducts()})()}addProduct(t){let r=t.value;this.fs.collection("products").doc().set({title:r.title,description:r.description,image:r.image,uid:this.Uid}).then(()=>{this.successMessage="Added !",console.log(this.successMessage)}).catch(()=>{console.log("error !")})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(yy),h.Y36(Zp))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-products"]],decls:36,vars:2,consts:[[1,"text-center"],[1,"row"],["class","col","style","margin-bottom: 10px",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"ngSubmit"],["f","ngForm"],[1,"mb-3"],["for","",1,"form-label"],["type","text","name","title","ngModel","","placeholder","Title","aria-describedby","helpId",1,"form-control"],["title","ngModel"],["id","helpId",1,"text-muted"],["type","Description","name","description","ngModel","","placeholder","Description","aria-describedby","helpId",1,"form-control"],["description","ngModel"],["type","text","name","image","ngModel","","placeholder","Image (link)","aria-describedby","helpId",1,"form-control"],["image","ngModel"],["type","submit",1,"btn","btn-success"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"col",2,"margin-bottom","10px"],[1,"card"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["role","alert",1,"alert","alert-success"]],template:function(t,r){if(1&t){const o=h.EpF();h._UZ(0,"br"),h.TgZ(1,"h3",0),h._uU(2,"All products"),h.qZA(),h.TgZ(3,"div",1),h.YNc(4,Ck,9,3,"div",2),h.qZA(),h.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"h5",7),h._uU(10,"Modal title"),h.qZA(),h._UZ(11,"button",8),h.qZA(),h.TgZ(12,"div",9)(13,"form",10,11),h.NdJ("ngSubmit",function(){h.CHM(o);const d=h.MAs(14);return r.addProduct(d)}),h.TgZ(15,"div",12),h._UZ(16,"label",13)(17,"input",14,15),h.TgZ(19,"small",16),h._uU(20,"Help text"),h.qZA()(),h.TgZ(21,"div",12),h._UZ(22,"label",13)(23,"textarea",17,18),h.TgZ(25,"small",16),h._uU(26,"Help text"),h.qZA()(),h.TgZ(27,"div",12),h._UZ(28,"label",13)(29,"input",19,20),h.TgZ(31,"small",16),h._uU(32,"Help text"),h.qZA()(),h.TgZ(33,"button",21),h._uU(34,"Add product"),h.qZA(),h.YNc(35,Dk,3,1,"div",22),h.qZA()()()()()}2&t&&(h.xp6(4),h.Q6J("ngForOf",r.dataArray),h.xp6(31),h.Q6J("ngIf",r.successMessage))},directives:[Vr,by,vy,Uh,Ph,_y,Yp,gr],styles:[""]}),n})();var vI,Ak=new Uint8Array(16);function Sk(){if(!vI&&!(vI="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vI(Ak)}const xk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Rk=function Mk(n){return"string"==typeof n&&xk.test(n)};for(var $s=[],dA=0;dA<256;++dA)$s.push((dA+256).toString(16).substr(1));const Pk=function Ok(n,e,t){var r=(n=n||{}).random||(n.rng||Sk)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=r[o];return e}return function Nk(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=($s[n[e+0]]+$s[n[e+1]]+$s[n[e+2]]+$s[n[e+3]]+"-"+$s[n[e+4]]+$s[n[e+5]]+"-"+$s[n[e+6]]+$s[n[e+7]]+"-"+$s[n[e+8]]+$s[n[e+9]]+"-"+$s[n[e+10]]+$s[n[e+11]]+$s[n[e+12]]+$s[n[e+13]]+$s[n[e+14]]+$s[n[e+15]]).toLowerCase();if(!Rk(t))throw TypeError("Stringified UUID is invalid");return t}(r)};var Fk=$(8259);const OM="firebasestorage.googleapis.com",PM="storageBucket";class mi extends nn.ZR{constructor(e,t){super(hA(e),`Firebase Storage: ${t} (${hA(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mi.prototype)}_codeEquals(e){return hA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function hA(n){return"storage/"+n}function fA(){return new mi("unknown","An unknown error occurred, please check the error payload for server response.")}function FM(){return new mi("canceled","User canceled the upload/download.")}function LM(){return new mi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ey(n){return new mi("invalid-argument",n)}function VM(){return new mi("app-deleted","The Firebase app was deleted.")}function UM(n){return new mi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function B0(n,e){return new mi("invalid-format","String does not match format '"+n+"': "+e)}function j0(n){throw new mi("internal-error","Internal error: "+n)}class wo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=wo.makeFromUrl(e,t)}catch(o){return new wo(e,"")}if(""===r.path)return r;throw function Wk(n){return new mi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",y=new RegExp("^gs://"+o+"(/(.*))?$","i");function x(Ut){Ut.path_=decodeURIComponent(Ut.path)}const U=t.replace(/[.]/g,"\\."),Qt=[{regex:y,indices:{bucket:1,path:3},postModify:function u(Ut){"/"===Ut.path.charAt(Ut.path.length-1)&&(Ut.path_=Ut.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${U}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${t===OM?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let Ut=0;Ut<Qt.length;Ut++){const vn=Qt[Ut],Vn=vn.regex.exec(e);if(Vn){let Va=Vn[vn.indices.path];Va||(Va=""),r=new wo(Vn[vn.indices.bucket],Va),vn.postModify(r);break}}if(null==r)throw function zk(n){return new mi("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class Qk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function wI(n){return"string"==typeof n||n instanceof String}function BM(n){return pA()&&n instanceof Blob}function pA(){return"undefined"!=typeof Blob}function gA(n,e,t,r){if(r<e)throw Ey(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ey(`Invalid value for '${n}'. Expected ${t} or less.`)}function td(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function jM(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Bh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Bh||(Bh={})),Bh))();class rO{constructor(e,t,r,o,u,d,y,E,x,F,U){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=y,this.errorCallback_=E,this.timeout_=x,this.progressCallback_=F,this.connectionFactory_=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Y,ae)=>{this.resolve_=Y,this.reject_=ae,this.start_()})}start_(){const t=(r,o)=>{const u=this.resolve_,d=this.reject_,y=o.connection;if(o.wasSuccessCode)try{const E=this.callback_(y,y.getResponse());!function eO(n){return void 0!==n}(E)?u():u(E)}catch(E){d(E)}else if(null!==y){const E=fA();E.serverResponse=y.getErrorText(),d(this.errorCallback_?this.errorCallback_(y,E):E)}else d(o.canceled?this.appDelete_?VM():FM():function Gk(){return new mi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new bI(!1,null,!0)):this.backoffId_=function Jk(n,e,t){let r=1,o=null,u=null,d=!1,y=0;function E(){return 2===y}let x=!1;function F(...ht){x||(x=!0,e.apply(null,ht))}function U(ht){o=setTimeout(()=>{o=null,n(ae,E())},ht)}function Y(){u&&clearTimeout(u)}function ae(ht,...fn){if(x)return void Y();if(ht)return Y(),void F.call(null,ht,...fn);if(E()||d)return Y(),void F.call(null,ht,...fn);let Qt;r<64&&(r*=2),1===y?(y=2,Qt=0):Qt=1e3*(r+Math.random()),U(Qt)}let ye=!1;function nt(ht){ye||(ye=!0,Y(),!x&&(null!==o?(ht||(y=2),clearTimeout(o),U(0)):ht||(y=1)))}return U(0),u=setTimeout(()=>{d=!0,nt(!0)},t),nt}((r,o)=>{if(o)return void r(!1,new bI(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const d=y=>{null!==this.progressCallback_&&this.progressCallback_(y.loaded,y.lengthComputable?y.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const y=u.getErrorCode()===Bh.NO_ERROR,E=u.getStatus();if(!y||this.isRetryStatusCode_(E)){const F=u.getErrorCode()===Bh.ABORT;return void r(!1,new bI(!1,null,F))}const x=-1!==this.successCodes_.indexOf(E);r(!0,new bI(x,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Xk(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||u}}class bI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function cO(...n){const e=function lO(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(pA())return new Blob(n);throw new mi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const La={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mA{constructor(e,t){this.data=e,this.contentType=t||null}}function yA(n,e){switch(n){case La.RAW:return new mA(HM(e));case La.BASE64:case La.BASE64URL:return new mA($M(n,e));case La.DATA_URL:return new mA(function pO(n){const e=new qM(n);return e.base64?$M(La.BASE64,e.rest):function fO(n){let e;try{e=decodeURIComponent(n)}catch(t){throw B0(La.DATA_URL,"Malformed data URL.")}return HM(e)}(e.rest)}(e),function gO(n){return new qM(n).contentType}(e))}throw fA()}function HM(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function $M(n,e){switch(n){case La.BASE64:{const o=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(o||u)throw B0(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case La.BASE64URL:{const o=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(o||u)throw B0(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function hO(n){return atob(n)}(e)}catch(o){throw B0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class qM{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw B0(La.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function mO(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Kl{constructor(e,t){let r=0,o="";BM(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(BM(this.data_)){const o=function dO(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new Kl(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Kl(r,!0)}}static getBlob(...e){if(pA()){const t=e.map(r=>r instanceof Kl?r.data_:r);return new Kl(cO.apply(null,t))}{const t=e.map(d=>wI(d)?yA(La.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let u=0;return t.forEach(d=>{for(let y=0;y<d.length;y++)o[u++]=d[y]}),new Kl(o,!0)}}uploadData(){return this.data_}}function _A(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function nO(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function GM(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function vO(n,e){return e}class jo{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||vO}}let EI=null;function H0(){if(EI)return EI;const n=[];n.push(new jo("bucket")),n.push(new jo("generation")),n.push(new jo("metageneration")),n.push(new jo("name","fullPath",!0));const t=new jo("name");t.xform=function e(u,d){return function wO(n){return!wI(n)||n.length<2?n:GM(n)}(d)},n.push(t);const o=new jo("size");return o.xform=function r(u,d){return void 0!==d?Number(d):d},n.push(o),n.push(new jo("timeCreated")),n.push(new jo("updated")),n.push(new jo("md5Hash",null,!0)),n.push(new jo("cacheControl",null,!0)),n.push(new jo("contentDisposition",null,!0)),n.push(new jo("contentEncoding",null,!0)),n.push(new jo("contentLanguage",null,!0)),n.push(new jo("contentType",null,!0)),n.push(new jo("metadata","customMetadata",!0)),EI=n,EI}function zM(n,e,t){const r=_A(e);return null===r?null:function EO(n,e,t){const r={type:"file"},o=t.length;for(let u=0;u<o;u++){const d=t[u];r[d.local]=d.xform(r,e[d.server])}return function bO(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new wo(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function vA(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const WM="prefixes";class Yl{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ql(n){if(!n)throw fA()}function II(n,e){return function t(r,o){const u=zM(n,o,e);return Ql(null!==u),u}}function Iy(n){return function e(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function $k(){return new mi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Hk(){return new mi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function jk(n){return new mi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function qk(n){return new mi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function $0(n){const e=Iy(n);return function t(r,o){let u=e(r,o);return 404===r.getStatus()&&(u=function Bk(n){return new mi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=o.serverResponse,u}}function KM(n,e,t){const o=td(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,y=new Yl(o,"GET",II(n,t),d);return y.errorHandler=$0(e),y}function SO(n,e,t,r,o){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),o&&(u.maxResults=o);const y=td(e.bucketOnlyServerUrl(),n.host,n._protocol),x=n.maxOperationRetryTime,F=new Yl(y,"GET",function TO(n,e){return function t(r,o){const u=function DO(n,e,t){const r=_A(t);return null===r?null:function CO(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[WM])for(const o of t[WM]){const u=o.replace(/\/$/,""),d=n._makeStorageReference(new wo(e,u));r.prefixes.push(d)}if(t.items)for(const o of t.items){const u=n._makeStorageReference(new wo(e,o.name));r.items.push(u)}return r}(n,e,r)}(n,e,o);return Ql(null!==u),u}}(n,e.bucket),x);return F.urlParams=u,F.errorHandler=Iy(e),F}function QM(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function NO(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class CI{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function wA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){Ql(!1)}return Ql(!!t&&-1!==(e||["active"]).indexOf(t)),t}const FO={STATE_CHANGED:"state_changed"},Ho={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bA(n){switch(n){case"running":case"pausing":case"canceling":return Ho.RUNNING;case"paused":return Ho.PAUSED;case"success":return Ho.SUCCESS;case"canceled":return Ho.CANCELED;default:return Ho.ERROR}}class LO{constructor(e,t,r){if(function tO(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Cy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class UO extends class VO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw j0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw j0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw j0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw j0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw j0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ul(){return new UO}class t1{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=H0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function kO(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),d=QM(e,r,o),y={name:d.fullPath},E=td(u,n.host,n._protocol),F={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},U=vA(d,t),ye=new Yl(E,"POST",function ae(nt){let ht;wA(nt);try{ht=nt.getResponseHeader("X-Goog-Upload-URL")}catch(fn){Ql(!1)}return Ql(wI(ht)),ht},n.maxUploadRetryTime);return ye.urlParams=y,ye.headers=F,ye.body=U,ye.errorHandler=Iy(e),ye}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,ul,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function OO(n,e,t,r){const E=new Yl(t,"POST",function u(x){const F=wA(x,["active","final"]);let U=null;try{U=x.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ae){Ql(!1)}U||Ql(!1);const Y=Number(U);return Ql(!isNaN(Y)),new CI(Y,r.size(),"final"===F)},n.maxUploadRetryTime);return E.headers={"X-Goog-Upload-Command":"query"},E.errorHandler=Iy(e),E}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,ul,t,r);this._request=u,u.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new CI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,u)=>{let d;try{d=function PO(n,e,t,r,o,u,d,y){const E=new CI(0,0);if(d?(E.current=d.current,E.total=d.total):(E.current=0,E.total=r.size()),r.size()!==E.total)throw function Kk(){return new mi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const x=E.total-E.current;let F=x;o>0&&(F=Math.min(F,o));const U=E.current,ye={"X-Goog-Upload-Command":F===x?"upload, finalize":"upload","X-Goog-Upload-Offset":`${E.current}`},nt=r.slice(U,U+F);if(null===nt)throw LM();const Qt=new Yl(t,"POST",function ht(Ut,vn){const Vn=wA(Ut,["active","final"]),zi=E.current+F,Va=r.size();let CA;return CA="final"===Vn?II(e,u)(Ut,vn):null,new CI(zi,Va,"final"===Vn,CA)},e.maxUploadRetryTime);return Qt.headers=ye,Qt.body=nt.uploadData(),Qt.progressCallback=y||null,Qt.errorHandler=Iy(n),Qt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(E){return this._error=E,void this._transition("error")}const y=this._ref.storage._makeRequest(d,ul,o,u);this._request=y,y.getPromise().then(E=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(E.current),E.finalized?(this._metadata=E.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=KM(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,ul,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function JM(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},E=function y(){let Qt="";for(let Ut=0;Ut<2;Ut++)Qt+=Math.random().toString().slice(2);return Qt}();d["Content-Type"]="multipart/related; boundary="+E;const x=QM(e,r,o),F=vA(x,t),ae=Kl.getBlob("--"+E+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+F+"\r\n--"+E+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",r,"\r\n--"+E+"--");if(null===ae)throw LM();const ye={name:x.fullPath},nt=td(u,n.host,n._protocol),fn=n.maxUploadRetryTime,pn=new Yl(nt,"POST",II(n,t),fn);return pn.urlParams=ye,pn.headers=d,pn.body=ae.uploadData(),pn.errorHandler=Iy(e),pn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,ul,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=FM(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=bA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const u=new LO(t||void 0,r||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(bA(this._state)){case Ho.SUCCESS:Cy(this._resolve.bind(null,this.snapshot))();break;case Ho.CANCELED:case Ho.ERROR:Cy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(bA(this._state)){case Ho.RUNNING:case Ho.PAUSED:e.next&&Cy(e.next.bind(e,this.snapshot))();break;case Ho.SUCCESS:e.complete&&Cy(e.complete.bind(e))();break;default:e.error&&Cy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Jp{constructor(e,t){this._service=e,this._location=t instanceof wo?t:wo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jp(e,t)}get root(){const e=new wo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GM(this._location.path)}get storage(){return this._service}get parent(){const e=function yO(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new wo(this._location.bucket,e);return new Jp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw UM(e)}}function r1(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,Fe.Z)(function*(n,e,t){const o=yield i1(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield r1(n,e,o.nextPageToken))}),EA.apply(this,arguments)}function i1(n,e){null!=e&&"number"==typeof e.maxResults&&gA("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=SO(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,ul)}function QO(n){n._throwIfRoot("getDownloadURL");const e=function xO(n,e,t){const o=td(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,y=new Yl(o,"GET",function AO(n,e){return function t(r,o){const u=zM(n,o,e);return Ql(null!==u),function IO(n,e,t,r){const o=_A(e);if(null===o||!wI(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const d=encodeURIComponent;return u.split(",").map(x=>{const U=n.fullPath;return td("/b/"+d(n.bucket)+"/o/"+d(U),t,r)+jM({alt:"media",token:x})})[0]}(u,o,n.host,n._protocol)}}(n,t),d);return y.errorHandler=$0(e),y}(n.storage,n._location,H0());return n.storage.makeRequestWithTokens(e,ul).then(t=>{if(null===t)throw function Yk(){return new mi("no-download-url","The given file does not have any download URLs.")}();return t})}function s1(n,e){const t=function _O(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new wo(n._location.bucket,t);return new Jp(n.storage,r)}function o1(n,e){if(n instanceof IA){const t=n;if(null==t._bucket)throw function Zk(){return new mi("no-default-bucket","No default bucket found. Did you set the '"+PM+"' property when initializing the app?")}();const r=new Jp(t,t._bucket);return null!=e?o1(r,e):r}return void 0!==e?s1(n,e):n}function tP(n,e){if(e&&function XO(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof IA)return function eP(n,e){return new Jp(n,e)}(n,e);throw Ey("To use ref(service, url), the first argument must be a Storage instance.")}return o1(n,e)}function a1(n,e){const t=null==e?void 0:e[PM];return null==t?null:wo.makeFromBucketSpec(t,n)}class IA{constructor(e,t,r,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=OM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?wo.makeFromBucketSpec(o,this._host):a1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?wo.makeFromBucketSpec(this._url,e):a1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Fe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Fe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jp(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new Qk(VM());{const u=function uO(n,e,t,r,o,u){const d=jM(n.urlParams),y=n.url+d,E=Object.assign({},n.headers);return function oO(n,e){e&&(n["X-Firebase-GMPID"]=e)}(E,e),function iO(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(E,t),function sO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(E,u),function aO(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(E,r),new rO(y,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,Fe.Z)(function*(){const[o,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,u).getPromise()})()}}const u1="@firebase/storage";function d1(n,e){return tP(n=(0,nn.m9)(n),e)}function hP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new IA(t,r,o,e,aa.SDK_VERSION)}!function fP(){(0,aa._registerComponent)(new Nd.wA("storage",hP,"PUBLIC").setMultipleInstances(!0)),(0,aa.registerVersion)(u1,"0.9.5",""),(0,aa.registerVersion)(u1,"0.9.5","esm2017")}();class DI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class h1{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new DI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new DI(r,this,this._ref))},t)}on(e,t,r,o){let u;return t&&(u="function"==typeof t?d=>t(new DI(d,this,this._ref)):{next:t.next?d=>t.next(new DI(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,o||void 0)}}class f1{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new nd(e,this._service))}get items(){return this._delegate.items.map(e=>new nd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class nd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function cP(n,e){return s1(n,e)}(this._delegate,e);return new nd(t,this.storage)}get root(){return new nd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new nd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new h1(function rP(n,e,t){return function zO(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new t1(n,new Kl(e),t)}(n=(0,nn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=La.RAW,r){this._throwIfRoot("putString");const o=yA(t,e),u=Object.assign({},r);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),new h1(new t1(this._delegate,new Kl(o.data,!0),u),this)}listAll(){return function aP(n){return function ZO(n){const e={prefixes:[],items:[]};return r1(n,e).then(()=>e)}(n=(0,nn.m9)(n))}(this._delegate).then(e=>new f1(e,this.storage))}list(e){return function oP(n,e){return i1(n=(0,nn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new f1(t,this.storage))}getMetadata(){return function iP(n){return function KO(n){n._throwIfRoot("getMetadata");const e=KM(n.storage,n._location,H0());return n.storage.makeRequestWithTokens(e,ul)}(n=(0,nn.m9)(n))}(this._delegate)}updateMetadata(e){return function sP(n,e){return function YO(n,e){n._throwIfRoot("updateMetadata");const t=function MO(n,e,t,r){const u=td(e.fullServerUrl(),n.host,n._protocol),y=vA(t,r),x=n.maxOperationRetryTime,F=new Yl(u,"PATCH",II(n,r),x);return F.headers={"Content-Type":"application/json; charset=utf-8"},F.body=y,F.errorHandler=$0(e),F}(n.storage,n._location,e,H0());return n.storage.makeRequestWithTokens(t,ul)}(n=(0,nn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function uP(n){return QO(n=(0,nn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function lP(n){return function JO(n){n._throwIfRoot("deleteObject");const e=function RO(n,e){const r=td(e.fullServerUrl(),n.host,n._protocol),y=new Yl(r,"DELETE",function d(E,x){},n.maxOperationRetryTime);return y.successCodes=[200,204],y.errorHandler=$0(e),y}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ul)}(n=(0,nn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw UM(e)}}class p1{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(g1(e))throw Ey("ref() expected a child path but got a URL, use refFromURL instead.");return new nd(d1(this._delegate,e),this)}refFromURL(e){if(!g1(e))throw Ey("refFromURL() expected a full URL but got a child path, use ref() instead.");try{wo.makeFromUrl(e,this._delegate.host)}catch(t){throw Ey("refFromUrl() expected a valid full URL but got an invalid one.")}return new nd(d1(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function dP(n,e,t,r={}){!function nP(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,nn.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function g1(n){return/^[A-Za-z]+:\/\//.test(n)}function yP(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new p1(t,r)}function m1(n){const e=function vP(n){return new Xn.y(e=>{const t=d=>e.next(d);t(n.snapshot);const u=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){u()}}).pipe(function Lk(n,e=_u.z){return(0,Di.e)((t,r)=>{let o=null,u=null,d=null;const y=()=>{if(o){o.unsubscribe(),o=null;const x=u;u=null,r.next(x)}};function E(){const x=d+n,F=e.now();if(F<x)return o=this.schedule(void 0,x-F),void r.add(o);y()}t.subscribe((0,Or.x)(r,x=>{u=x,d=e.now(),o||(o=e.schedule(E,n),r.add(o))},()=>{y(),r.complete()},void 0,()=>{u=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,En.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function TI(n){return{getDownloadURL:()=>Qe(void 0).pipe(Sr.fc,yr(()=>n.getDownloadURL()),Sr.iC),getMetadata:()=>Qe(void 0).pipe(Sr.fc,yr(()=>n.getMetadata()),Sr.iC),delete:()=>(0,At.D)(n.delete()),child:e=>TI(n.child(e)),updateMetadata:e=>(0,At.D)(n.updateMetadata(e)),put:(e,t)=>m1(n.put(e,t)),putString:(e,t,r)=>m1(n.putString(e,t,r)),list:e=>(0,At.D)(n.list(e)),listAll:()=>(0,At.D)(n.listAll())}}!function _P(n){const e={TaskState:Ho,TaskEvent:FO,StringFormat:La,Storage:p1,Reference:nd};n.INTERNAL.registerComponent(new Nd.wA("storage-compat",yP,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.13")}(Bg.Z);const wP=new h.OlP("angularfire2.storageBucket"),bP=new h.OlP("angularfire2.storage.maxUploadRetryTime"),EP=new h.OlP("angularfire2.storage.maxOperationRetryTime"),IP=new h.OlP("angularfire2.storage.use-emulator");let y1=(()=>{class n{constructor(t,r,o,u,d,y,E,x,F,U){const Y=(0,Bs.on)(t,d,r);this.storage=(0,Bs.cc)(`${Y.name}.storage.${o}`,"AngularFireStorage",Y.name,()=>{const ae=d.runOutsideAngular(()=>Y.storage(o||void 0)),ye=F;return ye&&ae.useEmulator(...ye),E&&ae.setMaxUploadRetryTime(E),x&&ae.setMaxOperationRetryTime(x),ae},[E,x])}ref(t){return TI(this.storage.ref(t))}refFromURL(t){return TI(this.storage.refFromURL(t))}upload(t,r,o){return TI(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Bs.Dh),h.LFG(Bs.xv,8),h.LFG(wP,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Sr.HU),h.LFG(bP,8),h.LFG(EP,8),h.LFG(IP,8),h.LFG(Fd,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),CP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),DP=(()=>{class n{constructor(){Vg.Z.registerVersion("angularfire",Sr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[y1],imports:[CP]}),n})();function TP(n,e){if(1&n&&(h.TgZ(0,"div",6)(1,"div",7),h._UZ(2,"img",8)(3,"br"),h.TgZ(4,"h3")(5,"b"),h._uU(6),h.qZA()(),h.TgZ(7,"p"),h._uU(8),h.qZA()()()),2&n){const t=h.oxw();h.xp6(2),h.Q6J("src",t.dataProfile.image,h.LSH),h.xp6(4),h.Oqu(t.dataProfile.flName),h.xp6(2),h.Oqu(t.dataProfile.bio)}}function AP(n,e){1&n&&(h.TgZ(0,"div",9)(1,"button",10),h._uU(2," Update "),h.qZA(),h.TgZ(3,"button",11),h._uU(4," Update image "),h.qZA()())}function SP(n,e){1&n&&(h.TgZ(0,"div",27)(1,"strong"),h._uU(2,"User updated"),h.qZA()())}function xP(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h5",16)(5,"b"),h._uU(6,"Edit user information"),h.qZA()(),h._UZ(7,"button",17),h.qZA(),h.TgZ(8,"div",18)(9,"form",null,19)(11,"div",20),h._UZ(12,"label",21),h.TgZ(13,"input",22),h.NdJ("ngModelChange",function(o){return h.CHM(t),h.oxw().dataProfile.flName=o}),h.qZA()(),h.TgZ(14,"div",20),h._UZ(15,"label",21),h.TgZ(16,"textarea",23),h.NdJ("ngModelChange",function(o){return h.CHM(t),h.oxw().dataProfile.bio=o}),h.qZA()(),h.TgZ(17,"div",24)(18,"button",25),h.NdJ("click",function(){return h.CHM(t),h.oxw().update()}),h._uU(19," Update profile "),h.qZA(),h.YNc(20,SP,3,0,"div",26),h.qZA()()()()()()}if(2&n){const t=h.oxw();h.xp6(13),h.Q6J("ngModel",t.dataProfile.flName),h.xp6(3),h.Q6J("ngModel",t.dataProfile.bio),h.xp6(4),h.Q6J("ngIf",t.updated)}}function MP(n,e){if(1&n&&(h.TgZ(0,"div")(1,"progress",32),h._uU(2),h.qZA()()),2&n){const t=e.ngIf;h.xp6(2),h.Oqu(t)}}function RP(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",28)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h5",16)(5,"b"),h._uU(6,"Edit user information"),h.qZA()(),h._UZ(7,"button",17),h.qZA(),h.TgZ(8,"div",18)(9,"form",null,19)(11,"div",29)(12,"input",30),h.NdJ("change",function(o){return h.CHM(t),h.oxw().updateImage(o)}),h.qZA(),h._UZ(13,"br"),h.qZA(),h.TgZ(14,"div",24),h.YNc(15,MP,3,1,"div",31),h.ALo(16,"async"),h.qZA()()()()()()}if(2&n){const t=h.oxw();h.xp6(15),h.Q6J("ngIf",h.lcZ(16,1,t.percentage))}}let NP=(()=>{class n{constructor(t,r,o){this.as=t,this.fs=r,this.fst=o,this.updated=!1,this.imageUpdated=!1,this.Uid=localStorage.getItem("userId")}ngOnInit(){var t=this;return(0,Fe.Z)(function*(){t.dataProfile=(yield t.as.getCurrentUser(t.Uid))[0]})()}update(){this.fs.collection("users").doc(this.dataProfile.uid).update({flName:this.dataProfile.flName,bio:this.dataProfile.bio,image:this.dataProfile.image}).then(()=>{this.updated=!0,window.location.reload()})}updateImage(t){var r=this;const o=Pk();let u=this.dataProfile.image;this.ref=this.fst.ref(o),this.task=this.ref.put(t.target.files[0]),this.percentage=this.task.percentageChanges(),this.task.then(d=>{d.ref.getDownloadURL().then(y=>{this.fs.collection("users").doc(this.dataProfile.uid).update({image:y}).then((0,Fe.Z)(function*(){r.fst.storage.refFromURL(u).delete().then(()=>{}).catch(()=>{}).finally(()=>{r.imageUpdated=!0,r.dataProfile.image=y,Fk(".btn-close").click()})}))})}).catch(()=>{console.log("une erreur dans updateImage ")})}deleteImage(){this.fst.storage.refFromURL(this.dataProfile.image).delete().then(()=>{console.log("deleted "+this.dataProfile.image)}).catch(()=>{console.log("erreur !")})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zp),h.Y36(yy),h.Y36(y1))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-profil"]],decls:7,vars:4,consts:[[1,"uk-comment","uk-comment-primary"],[1,"uk-comment-header"],["class","uk-grid-medium uk-flex-middle","uk-grid","",4,"ngIf"],["class","uk-comment-body",4,"ngIf"],["class","modal fade","id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade","id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["uk-grid","",1,"uk-grid-medium","uk-flex-middle"],[1,"uk-width-expand"],["width","200","height","200","alt","",1,"uk-comment-avatar",3,"src"],[1,"uk-comment-body"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"uk-button","uk-button-default"],["data-bs-toggle","modal","data-bs-target","#exampleModal2",1,"uk-button","uk-button-default"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["f","ngForm"],[1,"mb-3"],["for","",1,"form-label"],["type","text","name","flName","placeholder","Title","aria-describedby","helpId",1,"form-control",3,"ngModel","ngModelChange"],["type","Description","name","bio","placeholder","Description","aria-describedby","helpId",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit",1,"btn","btn-success",3,"click"],["class","alert alert-success","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-success"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"input-group"],["type","file","name","name","id","name","accept",".png,.jpg","placeholder","Choose an image",1,"form-control",3,"change"],[4,"ngIf"],["id","file","max","100","value","70"]],template:function(t,r){1&t&&(h._UZ(0,"br"),h.TgZ(1,"article",0)(2,"header",1),h.YNc(3,TP,9,3,"div",2),h.qZA(),h.YNc(4,AP,5,0,"div",3),h.qZA(),h.YNc(5,xP,21,3,"div",4),h.YNc(6,RP,17,3,"div",5)),2&t&&(h.xp6(3),h.Q6J("ngIf",null!=r.dataProfile),h.xp6(1),h.Q6J("ngIf",null!=r.dataProfile),h.xp6(1),h.Q6J("ngIf",null!=r.dataProfile),h.xp6(1),h.Q6J("ngIf",null!=r.dataProfile))},directives:[gr,by,vy,Uh,Ph,_y,Yp],pipes:[Ru],styles:[""]}),n})();function kP(n,e){1&n&&(h.TgZ(0,"p",21),h._uU(1,"Full name name is required"),h.qZA())}function OP(n,e){1&n&&(h.TgZ(0,"p",21),h._uU(1,"Bio name is required"),h.qZA())}function PP(n,e){1&n&&(h.TgZ(0,"p",21),h._uU(1,"Email is required"),h.qZA())}function FP(n,e){1&n&&(h.TgZ(0,"p",21),h._uU(1,"E-mail format is incorrect"),h.qZA())}function LP(n,e){1&n&&(h.TgZ(0,"p",21),h._uU(1,"Password is required"),h.qZA())}function VP(n,e){1&n&&(h.TgZ(0,"p",21),h._uU(1,"Password should compose > 8 caracters"),h.qZA())}function UP(n,e){1&n&&(h.TgZ(0,"p",21),h._uU(1,"ConfirmPassword is required"),h.qZA())}function BP(n,e){1&n&&(h.TgZ(0,"p",21),h._uU(1,"not equal"),h.qZA())}const jP=[{path:"",component:MI},{path:"login",component:wk},{path:"register",component:(()=>{class n{constructor(t,r,o){this.sa=t,this.fs=r,this.route=o,this.Uid=""}ngOnInit(){}register(t){let r=t.value;this.sa.signUp(r.email,r.password).then(o=>{var u,d,y,E;this.Uid=null!=(null===(u=o.user)||void 0===u?void 0:u.uid)?null===(d=o.user)||void 0===d?void 0:d.uid:"",this.fs.collection("users").doc(null===(y=o.user)||void 0===y?void 0:y.uid).set({flName:r.flName,email:r.email,bio:r.bio,uid:null===(E=o.user)||void 0===E?void 0:E.uid}).then(()=>{localStorage.setItem("userId",this.Uid),this.route.navigate(["/"])})}).catch(()=>{console.log("error !")})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zp),h.Y36(yy),h.Y36(Bi))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-register"]],decls:39,vars:9,consts:[[1,"uk-position-center","uk-overlay","uk-overlay-default"],[3,"ngSubmit"],["f","ngForm"],[1,"uk-margin"],[1,"uk-inline"],["uk-icon","icon: happy",1,"uk-form-icon"],["type","text","name","flName","placeholder","Full name","ngModel","","required","",1,"uk-input"],["flName","ngModel"],["class","text-danger",4,"ngIf"],["cols","22","rows","20","placeholder","Bio","name","bio","ngModel","","required","",1,"uk-input"],["bio","ngModel"],["uk-icon","icon: mail",1,"uk-form-icon"],["type","email","name","email","ngModel","","placeholder","Email","required","","email","",1,"uk-input"],["email","ngModel"],["uk-icon","icon: lock",1,"uk-form-icon","uk-form-icon-flip"],["type","password","name","password","ngModel","","placeholder","Password","required","","minlength","8",1,"uk-input"],["password","ngModel"],["type","password","name","ConfirmPassword","ngModel","","placeholder","Confirm password","required","",1,"uk-input"],["ConfirmPassword","ngModel"],["type","submit",1,"btn","btn-outline-success",2,"width","100%","margin-bottom","5px",3,"disabled"],[1,"btn","btn-outline-primary",2,"width","100%"],[1,"text-danger"]],template:function(t,r){if(1&t){const o=h.EpF();h.TgZ(0,"div",0)(1,"form",1,2),h.NdJ("ngSubmit",function(){h.CHM(o);const d=h.MAs(2);return r.register(d)}),h.TgZ(3,"div",3)(4,"div",4),h._UZ(5,"span",5)(6,"input",6,7),h.qZA(),h.YNc(8,kP,2,0,"p",8),h.qZA(),h.TgZ(9,"div",3)(10,"div",4),h._UZ(11,"textarea",9,10),h.qZA(),h.YNc(13,OP,2,0,"p",8),h.qZA(),h.TgZ(14,"div",3)(15,"div",4),h._UZ(16,"span",11)(17,"input",12,13),h.qZA(),h.YNc(19,PP,2,0,"p",8),h.YNc(20,FP,2,0,"p",8),h.qZA(),h.TgZ(21,"div",3)(22,"div",4),h._UZ(23,"span",14)(24,"input",15,16),h.YNc(26,LP,2,0,"p",8),h.YNc(27,VP,2,0,"p",8),h.qZA()(),h.TgZ(28,"div",3)(29,"div",4),h._UZ(30,"span",14)(31,"input",17,18),h.YNc(33,UP,2,0,"p",8),h.YNc(34,BP,2,0,"p",8),h.qZA()(),h.TgZ(35,"button",19),h._uU(36,"Login"),h.qZA(),h.TgZ(37,"button",20),h._uU(38,"forgot password"),h.qZA()()()}if(2&t){const o=h.MAs(2),u=h.MAs(7),d=h.MAs(12),y=h.MAs(18),E=h.MAs(25),x=h.MAs(32);h.xp6(8),h.Q6J("ngIf",(null==u.errors?null:u.errors.required)&&u.touched),h.xp6(5),h.Q6J("ngIf",(null==d.errors?null:d.errors.required)&&d.touched),h.xp6(6),h.Q6J("ngIf",(null==y.errors?null:y.errors.required)&&y.touched),h.xp6(1),h.Q6J("ngIf",(null==y.errors?null:y.errors.email)&&y.touched),h.xp6(6),h.Q6J("ngIf",(null==E.errors?null:E.errors.required)&&E.touched),h.xp6(1),h.Q6J("ngIf",(null==E.errors?null:E.errors.minlength)&&E.touched),h.xp6(6),h.Q6J("ngIf",(null==x.errors?null:x.errors.required)&&x.touched),h.xp6(1),h.Q6J("ngIf",E.value!=x.value&&x.touched),h.xp6(1),h.Q6J("disabled",!o.valid)}},directives:[by,vy,Uh,Ph,_y,Yp,U0,gr,cA,_I],styles:[""]}),n})()},{path:"profil",component:NP},{path:"products",component:Tk},{path:"myproducts",component:Ik}];let HP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[vf.forRoot(jP)],vf]}),n})();function $P(n,e){1&n&&(h.TgZ(0,"li",7)(1,"a",12),h._uU(2,"Profil"),h.qZA()())}function qP(n,e){1&n&&(h.TgZ(0,"li",7)(1,"a",13),h._uU(2,"Products"),h.qZA()())}function GP(n,e){1&n&&(h.TgZ(0,"li",7)(1,"a",14),h._uU(2,"My products"),h.qZA()())}function zP(n,e){1&n&&(h.TgZ(0,"li",7)(1,"a",15),h._uU(2,"Register"),h.qZA()())}function WP(n,e){1&n&&(h.TgZ(0,"li",7)(1,"a",16),h._uU(2,"Login"),h.qZA()())}function ZP(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li",7)(1,"a",17),h.NdJ("click",function(){return h.CHM(t),h.oxw().logout()}),h._uU(2,"Logout"),h.qZA()()}}let KP=(()=>{class n{constructor(t,r,o){this.af=t,this.route=r,this.as=o,this.as.user.subscribe(u=>{this.isSigned=!!u})}ngOnInit(){}logout(){this.af.signOut().then(()=>{console.log("logout done !"),localStorage.removeItem("userId"),this.route.navigate(["/login"])}).catch(()=>{console.log("Can't logout !")})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ld),h.Y36(Bi),h.Y36(Zp))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:18,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand",2,"background-color","wheat","border-radius","30%"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active"],["class","nav-item",4,"ngIf"],[1,"navbar-nav"],["class","nav-item ",4,"ngIf"],["aria-current","page","routerLink","profil",1,"nav-link","active"],["aria-current","page","routerLink","products",1,"nav-link","active"],["aria-current","page","routerLink","myproducts",1,"nav-link","active"],["aria-current","page","routerLink","register",1,"nav-link","active"],["aria-current","page","routerLink","login",1,"nav-link","active"],["aria-current","page",1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),h._uU(3,"MyStore"),h.qZA(),h.TgZ(4,"button",3),h._UZ(5,"span",4),h.qZA(),h.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),h._uU(10,"Home"),h.qZA()(),h.YNc(11,$P,3,0,"li",9),h.YNc(12,qP,3,0,"li",9),h.YNc(13,GP,3,0,"li",9),h.qZA(),h.TgZ(14,"ul",10),h.YNc(15,zP,3,0,"li",9),h.YNc(16,WP,3,0,"li",9),h.YNc(17,ZP,3,0,"li",11),h.qZA()()()()),2&t&&(h.xp6(11),h.Q6J("ngIf",r.isSigned),h.xp6(1),h.Q6J("ngIf",r.isSigned),h.xp6(1),h.Q6J("ngIf",r.isSigned),h.xp6(2),h.Q6J("ngIf",!r.isSigned),h.xp6(1),h.Q6J("ngIf",!r.isSigned),h.xp6(1),h.Q6J("ngIf",r.isSigned))},directives:[_g,gr],styles:[""]}),n})(),YP=(()=>{class n{constructor(){this.title="myStore"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"app-navbar")(2,"router-outlet"),h.qZA())},directives:[KP,yc],styles:[""]}),n})();const _1_firebase={apiKey:"AIzaSyDM6g1X-jtmHcCJe1AcjfVJQEa_oJV386E",authDomain:"mystore-fa63b.firebaseapp.com",projectId:"mystore-fa63b",storageBucket:"mystore-fa63b.appspot.com",messagingSenderId:"301514080594",appId:"1:301514080594:web:b26904abd3fdb90afd3a8b",measurementId:"G-T593NQCZ01"};let QP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[YP]}),n.\u0275inj=h.cJS({providers:[],imports:[[Qo,HP,Bs.hO.initializeApp(_1_firebase),Sw,DP,_N,mk]]}),n})();(0,h.G48)(),Xi().bootstrapModule(QP).catch(n=>console.error(n))},5867:(Rt,We,$)=>{"use strict";$.d(We,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=$(9681);(0,h.registerVersion)("firebase","9.6.11","app")},127:(Rt,We,$)=>{"use strict";$.d(We,{Z:()=>h.Z});var h=$(3942);h.Z.registerVersion("firebase","9.6.11","app-compat")},820:(Rt,We,$)=>{"use strict";$.r(We);var h=$(5861),te=$(3942),H=$(2090),ve=$(9681),fe=$(655),Re=$(1877),Ie=$(4859);const He=function mt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Me=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),It=new Re.Yd("@firebase/auth");function _t(_,...f){It.logLevel<=Re.in.ERROR&&It.error(`Auth (${ve.SDK_VERSION}): ${_}`,...f)}function $e(_,...f){throw at(_,...f)}function Ue(_,...f){return at(_,...f)}function D(_,f,m){const b=Object.assign(Object.assign({},Ve()),{[f]:m});return new H.LL("auth","Firebase",b).create(f,{appName:_.name})}function ct(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&$e(_,"argument-error"),D(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function at(_,...f){if("string"!=typeof _){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(m,...b)}return Me.create(_,...f)}function pe(_,f,...m){if(!_)throw at(f,...m)}function ue(_){const f="INTERNAL ASSERTION FAILED: "+_;throw _t(f),new Error(f)}function be(_,f){_||ue(f)}const De=new Map;function Ee(_){be(_ instanceof Function,"Expected a class definition");let f=De.get(_);return f?(be(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,De.set(_,f),f)}function Jt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function kn(){return"http:"===hr()||"https:"===hr()}function hr(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class wn{constructor(f,m){this.shortDelay=f,this.longDelay=m,be(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Nt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kn()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gn(_,f){be(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class zr{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},as=new wn(3e4,6e4);function On(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function bn(_,f,m,b){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(_,f,m,b,R={}){return fr(_,R,(0,h.Z)(function*(){let j={},ie={};b&&("GET"===f?ie=b:j={body:JSON.stringify(b)});const Se=(0,H.xO)(Object.assign({key:_.config.apiKey},ie)).slice(1),dt=yield _._getAdditionalHeaders();return dt["Content-Type"]="application/json",_.languageCode&&(dt["X-Firebase-Locale"]=_.languageCode),zr.fetch()(rr(_,_.config.apiHost,m,Se),Object.assign({method:f,headers:dt,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function fr(_,f,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(_,f,m){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Mn),f);try{const R=new yi(_),j=yield Promise.race([m(),R.promise]);R.clearNetworkTimeout();const ie=yield j.json();if("needConfirmation"in ie)throw _i(_,"account-exists-with-different-credential",ie);if(j.ok&&!("errorMessage"in ie))return ie;{const Se=j.ok?ie.errorMessage:ie.error.message,[dt,Tt]=Se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dt)throw _i(_,"credential-already-in-use",ie);if("EMAIL_EXISTS"===dt)throw _i(_,"email-already-in-use",ie);const Zt=b[dt]||dt.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw D(_,Zt,Tt);$e(_,Zt)}}catch(R){if(R instanceof H.ZR)throw R;$e(_,"network-request-failed")}})).apply(this,arguments)}function di(_,f,m,b){return us.apply(this,arguments)}function us(){return(us=(0,h.Z)(function*(_,f,m,b,R={}){const j=yield bn(_,f,m,b,R);return"mfaPendingCredential"in j&&$e(_,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function rr(_,f,m,b){const R=`${f}${m}?${b}`;return _.config.emulator?Gn(_.config,R):`${_.config.apiScheme}://${R}`}class yi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ue(this.auth,"network-request-failed")),as.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _i(_,f,m){const b={appName:_.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const R=Ue(_,f,b);return R.customData._tokenResponse=m,R}function Yn(){return(Yn=(0,h.Z)(function*(_,f){return bn(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Pr(_,f){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(_,f){return bn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ri(_,f){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,h.Z)(function*(_,f){return bn(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function er(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Wi(){return(Wi=(0,h.Z)(function*(_,f=!1){const m=(0,H.m9)(_),b=yield m.getIdToken(f),R=xt(b);pe(R&&R.exp&&R.auth_time&&R.iat,m.auth,"internal-error");const j="object"==typeof R.firebase?R.firebase:void 0,ie=null==j?void 0:j.sign_in_provider;return{claims:R,token:b,authTime:er(gn(R.auth_time)),issuedAtTime:er(gn(R.iat)),expirationTime:er(gn(R.exp)),signInProvider:ie||null,signInSecondFactor:(null==j?void 0:j.sign_in_second_factor)||null}})).apply(this,arguments)}function gn(_){return 1e3*Number(_)}function xt(_){const[f,m,b]=_.split(".");if(void 0===f||void 0===m||void 0===b)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,H.tV)(m);return R?JSON.parse(R):(_t("Failed to decode base64 JWT payload"),null)}catch(R){return _t("Caught error parsing JWT payload as JSON",R),null}}function Fr(_,f){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,h.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof H.ZR&&Dn(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Dn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Ni{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const R=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class br{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=er(this.lastLoginAt),this.creationTime=er(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(_){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(_){var f;const m=_.auth,b=yield _.getIdToken(),R=yield Fr(_,Ri(m,{idToken:b}));pe(null==R?void 0:R.users.length,m,"internal-error");const j=R.users[0];_._notifyReloadListener(j);const ie=(null===(f=j.providerUserInfo)||void 0===f?void 0:f.length)?ze(j.providerUserInfo):[],Se=vt(_.providerData,ie),Zt=!!_.isAnonymous&&!(_.email&&j.passwordHash||(null==Se?void 0:Se.length)),Ot={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:Se,metadata:new br(j.createdAt,j.lastLoginAt),isAnonymous:Zt};Object.assign(_,Ot)})).apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(_){const f=(0,H.m9)(_);yield Lr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function vt(_,f){return[..._.filter(b=>!f.some(R=>R.providerId===b.providerId)),...f]}function ze(_){return _.map(f=>{var{providerId:m}=f,b=(0,fe._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Ft(){return(Ft=(0,h.Z)(function*(_,f){const m=yield fr(_,{},(0,h.Z)(function*(){const b=(0,H.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:R,apiKey:j}=_.config,ie=rr(_,R,"/v1/token",`key=${j}`),Se=yield _._getAdditionalHeaders();return Se["Content-Type"]="application/x-www-form-urlencoded",zr.fetch()(ie,{method:"POST",headers:Se,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ln{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){pe(f.idToken,"internal-error"),pe(void 0!==f.idToken,"internal-error"),pe(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function $t(_){const f=xt(_);return pe(f,"internal-error"),pe(void 0!==f.exp,"internal-error"),pe(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,h.Z)(function*(){return pe(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,h.Z)(function*(){const{accessToken:R,refreshToken:j,expiresIn:ie}=yield function wt(_,f){return Ft.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(R,j,Number(ie))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:R,expirationTime:j}=m,ie=new ln;return b&&(pe("string"==typeof b,"internal-error",{appName:f}),ie.refreshToken=b),R&&(pe("string"==typeof R,"internal-error",{appName:f}),ie.accessToken=R),j&&(pe("number"==typeof j,"internal-error",{appName:f}),ie.expirationTime=j),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ln,this.toJSON())}_performRefresh(){return ue("not implemented")}}function rn(_,f){pe("string"==typeof _||void 0===_,"internal-error",{appName:f})}class Q{constructor(f){var{uid:m,auth:b,stsTokenManager:R}=f,j=(0,fe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new br(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const b=yield Fr(m,m.stsTokenManager.getToken(m.auth,f));return pe(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function Wr(_){return Wi.apply(this,arguments)}(this,f)}reload(){return function Qn(_){return qt.apply(this,arguments)}(this)}_assign(f){this!==f&&(pe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Q(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,h.Z)(function*(){let R=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),R=!0),m&&(yield Lr(b)),yield b.auth._persistUserIfCurrent(b),R&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield Fr(f,function Ye(_,f){return Yn.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,R,j,ie,Se,dt,Tt,Zt;const Ot=null!==(b=m.displayName)&&void 0!==b?b:void 0,Ar=null!==(R=m.email)&&void 0!==R?R:void 0,uo=null!==(j=m.phoneNumber)&&void 0!==j?j:void 0,Ic=null!==(ie=m.photoURL)&&void 0!==ie?ie:void 0,Tl=null!==(Se=m.tenantId)&&void 0!==Se?Se:void 0,Al=null!==(dt=m._redirectEventId)&&void 0!==dt?dt:void 0,mf=null!==(Tt=m.createdAt)&&void 0!==Tt?Tt:void 0,Jy=null!==(Zt=m.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:mu,emailVerified:Ad,isAnonymous:Sd,providerData:yf,stsTokenManager:xd}=m;pe(mu&&xd,f,"internal-error");const Bi=ln.fromJSON(this.name,xd);pe("string"==typeof mu,f,"internal-error"),rn(Ot,f.name),rn(Ar,f.name),pe("boolean"==typeof Ad,f,"internal-error"),pe("boolean"==typeof Sd,f,"internal-error"),rn(uo,f.name),rn(Ic,f.name),rn(Tl,f.name),rn(Al,f.name),rn(mf,f.name),rn(Jy,f.name);const _f=new Q({uid:mu,auth:f,email:Ar,emailVerified:Ad,displayName:Ot,isAnonymous:Sd,photoURL:Ic,phoneNumber:uo,tenantId:Tl,stsTokenManager:Bi,createdAt:mf,lastLoginAt:Jy});return yf&&Array.isArray(yf)&&(_f.providerData=yf.map(yg=>Object.assign({},yg))),Al&&(_f._redirectEventId=Al),_f}static _fromIdTokenResponse(f,m,b=!1){return(0,h.Z)(function*(){const R=new ln;R.updateFromServerResponse(m);const j=new Q({uid:m.localId,auth:f,stsTokenManager:R,isAnonymous:b});return yield Lr(j),j})()}}const ne=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,b){var R=this;return(0,h.Z)(function*(){R.storage[m]=b})()}_get(m){var b=this;return(0,h.Z)(function*(){const R=b.storage[m];return void 0===R?null:R})()}_remove(m){var b=this;return(0,h.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return _.type="NONE",_})();function xe(_,f,m){return`firebase:${_}:${f}:${m}`}class he{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:R,name:j}=this.auth;this.fullUserKey=xe(this.userKey,R.apiKey,j),this.fullPersistenceKey=xe("persistence",R.apiKey,j),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Q._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,h.Z)(function*(){if(!m.length)return new he(Ee(ne),f,b);const R=(yield Promise.all(m.map(function(){var Tt=(0,h.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let j=R[0]||Ee(ne);const ie=xe(b,f.config.apiKey,f.name);let Se=null;for(const Tt of m)try{const Zt=yield Tt._get(ie);if(Zt){const Ot=Q._fromJSON(f,Zt);Tt!==j&&(Se=Ot),j=Tt;break}}catch(Zt){}const dt=R.filter(Tt=>Tt._shouldAllowMigration);return j._shouldAllowMigration&&dt.length?(j=dt[0],Se&&(yield j._set(ie,Se.toJSON())),yield Promise.all(m.map(function(){var Tt=(0,h.Z)(function*(Zt){if(Zt!==j)try{yield Zt._remove(ie)}catch(Ot){}});return function(Zt){return Tt.apply(this,arguments)}}())),new he(j,f,b)):new he(j,f,b)})()}}function lt(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(An(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Gt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(dn(f))return"Blackberry";if(Rn(f))return"Webos";if(xn(f))return"Safari";if((f.includes("chrome/")||ni(f))&&!f.includes("edge/"))return"Chrome";if(sr(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Gt(_=(0,H.z$)()){return/firefox\//i.test(_)}function xn(_=(0,H.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ni(_=(0,H.z$)()){return/crios\//i.test(_)}function An(_=(0,H.z$)()){return/iemobile/i.test(_)}function sr(_=(0,H.z$)()){return/android/i.test(_)}function dn(_=(0,H.z$)()){return/blackberry/i.test(_)}function Rn(_=(0,H.z$)()){return/webos/i.test(_)}function Nr(_=(0,H.z$)()){return/iphone|ipad|ipod/i.test(_)}function Ms(_=(0,H.z$)()){return Nr(_)||sr(_)||Rn(_)||dn(_)||/windows phone/i.test(_)||An(_)}function qo(_,f=[]){let m;switch(_){case"Browser":m=lt((0,H.z$)());break;case"Worker":m=`${lt((0,H.z$)())}-${_}`;break;default:m=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ve.SDK_VERSION}/${b}`}class vi{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hn(this),this.idTokenSubscription=new hn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=Ee(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var R,j;if(!b._deleted&&(b.persistenceManager=yield he.create(b,f),!b._deleted)){if(null===(R=b._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(ie){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(j=b.currentUser)||void 0===j?void 0:j.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var b;let R=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const j=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,ie=null==R?void 0:R._redirectEventId,Se=yield m.tryRedirectSignIn(f);(!j||j===ie)&&(null==Se?void 0:Se.user)&&(R=Se.user)}return R?R._redirectEventId?(pe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)):m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(R){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){try{yield Lr(f)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ht(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const b=f?(0,H.m9)(f):null;return b&&pe(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){if(!m._deleted)return f&&pe(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,h.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(Ee(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new H.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,h.Z)(function*(){const R=yield b.getOrInitRedirectPersistenceManager(m);return null===f?R.removeCurrentUser():R.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&Ee(f)||m._popupRedirectResolver;pe(b,m,"argument-error"),m.redirectPersistenceManager=yield he.create(m,[Ee(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var b,R;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(R=m.redirectUser)||void 0===R?void 0:R._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,R){if(this._deleted)return()=>{};const j="function"==typeof m?m:m.next.bind(m),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(ie,this,"internal-error"),ie.then(()=>j(this.currentUser)),"function"==typeof m?f.addObserver(m,b,R):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=qo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const R=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return R&&(b["X-Firebase-Client"]=R),b})()}}function rt(_){return(0,H.m9)(_)}class hn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,H.ne)(m=>this.observer=m)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function pr(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Un{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ue("not implemented")}_getIdTokenResponse(f){return ue("not implemented")}_linkToIdToken(f,m){return ue("not implemented")}_getReauthenticationResolver(f){return ue("not implemented")}}function lr(_,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,h.Z)(function*(_,f){return bn(_,"POST","/v1/accounts:resetPassword",On(_,f))})).apply(this,arguments)}function on(_,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(_,f){return bn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ki(_,f){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(_,f){return bn(_,"POST","/v1/accounts:update",On(_,f))})).apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(_,f){return di(_,"POST","/v1/accounts:signInWithPassword",On(_,f))})).apply(this,arguments)}function Ki(_,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,h.Z)(function*(_,f){return bn(_,"POST","/v1/accounts:sendOobCode",On(_,f))})).apply(this,arguments)}function gr(_,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(_,f){return Ki(_,f)})).apply(this,arguments)}function Ua(_,f){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,h.Z)(function*(_,f){return Ki(_,f)})).apply(this,arguments)}function cr(_,f){return wi.apply(this,arguments)}function wi(){return(wi=(0,h.Z)(function*(_,f){return Ki(_,f)})).apply(this,arguments)}function Go(_,f){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(_,f){return Ki(_,f)})).apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(_,f){return di(_,"POST","/v1/accounts:signInWithEmailLink",On(_,f))})).apply(this,arguments)}function Ha(){return(Ha=(0,h.Z)(function*(_,f){return di(_,"POST","/v1/accounts:signInWithEmailLink",On(_,f))})).apply(this,arguments)}class $a extends Un{constructor(f,m,b,R=null){super("password",b),this._email=f,this._password=m,this._tenantId=R}static _fromEmailAndPassword(f,m){return new $a(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new $a(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function Zs(_,f){return Vr.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ja(_,f){return Ir.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:$e(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,h.Z)(function*(){switch(b.signInMethod){case"password":return on(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Eo(_,f){return Ha.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:$e(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function mr(_,f){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,h.Z)(function*(_,f){return di(_,"POST","/v1/accounts:signInWithIdp",On(_,f))})).apply(this,arguments)}class hs extends Un{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new hs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):$e("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:R}=m,j=(0,fe._T)(m,["providerId","signInMethod"]);if(!b||!R)return null;const ie=new hs(b,R);return ie.idToken=j.idToken||void 0,ie.accessToken=j.accessToken||void 0,ie.secret=j.secret,ie.nonce=j.nonce,ie.pendingToken=j.pendingToken||null,ie}_getIdTokenResponse(f){return mr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,mr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,mr(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,H.xO)(m)}return f}}function ll(_,f){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,h.Z)(function*(_,f){return bn(_,"POST","/v1/accounts:sendVerificationCode",On(_,f))})).apply(this,arguments)}function Ys(){return(Ys=(0,h.Z)(function*(_,f){return di(_,"POST","/v1/accounts:signInWithPhoneNumber",On(_,f))})).apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(_,f){const m=yield di(_,"POST","/v1/accounts:signInWithPhoneNumber",On(_,f));if(m.temporaryProof)throw _i(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const id={USER_NOT_FOUND:"user-not-found"};function cl(){return(cl=(0,h.Z)(function*(_,f){return di(_,"POST","/v1/accounts:signInWithPhoneNumber",On(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),id)})).apply(this,arguments)}class zo extends Un{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new zo({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new zo({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Ga(_,f){return Ys.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function rd(_,f){return za.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function sd(_,f){return cl.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:R}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:R}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:R,temporaryProof:j}=f;return b||m||R||j?new zo({verificationId:m,verificationCode:b,phoneNumber:R,temporaryProof:j}):null}}class Io{constructor(f){var m,b,R,j,ie,Se;const dt=(0,H.zd)((0,H.pd)(f)),Tt=null!==(m=dt.apiKey)&&void 0!==m?m:null,Zt=null!==(b=dt.oobCode)&&void 0!==b?b:null,Ot=function jh(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=dt.mode)&&void 0!==R?R:null);pe(Tt&&Zt&&Ot,"argument-error"),this.apiKey=Tt,this.operation=Ot,this.code=Zt,this.continueUrl=null!==(j=dt.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(ie=dt.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(Se=dt.tenantId)&&void 0!==Se?Se:null}static parseLink(f){const m=function Wa(_){const f=(0,H.zd)((0,H.pd)(_)).link,m=f?(0,H.zd)((0,H.pd)(f)).deep_link_id:null,b=(0,H.zd)((0,H.pd)(_)).deep_link_id;return(b?(0,H.zd)((0,H.pd)(b)).link:null)||b||m||f||_}(f);try{return new Io(m)}catch(b){return null}}}let ga=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,b){return $a._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const R=Io.parseLink(b);return pe(R,"argument-error"),$a._fromEmailAndCode(m,R.code,R.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Rs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ri extends Rs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Co extends ri{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return pe("providerId"in m&&"signInMethod"in m,"argument-error"),hs._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return pe(f.idToken||f.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Co.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Co.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:R,pendingToken:j,nonce:ie,providerId:Se}=f;if(!b&&!R&&!m&&!j||!Se)return null;try{return new Co(Se)._credential({idToken:m,accessToken:b,nonce:ie,pendingToken:j})}catch(dt){return null}}}let Qs=(()=>{class _ extends ri{constructor(){super("facebook.com")}static credential(m){return hs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Do=(()=>{class _ extends ri{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return hs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:R}=m;if(!b&&!R)return null;try{return _.credential(b,R)}catch(j){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),hl=(()=>{class _ extends ri{constructor(){super("github.com")}static credential(m){return hs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Wo extends Un{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return mr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,mr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,mr(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:R,pendingToken:j}=m;return b&&R&&j&&b===R?new Wo(b,j):null}static _create(f,m){return new Wo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bi extends Rs{constructor(f){pe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return bi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return bi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Wo.fromJSON(f);return pe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Wo._create(b,m)}catch(R){return null}}}let Zo=(()=>{class _ extends ri{constructor(){super("twitter.com")}static credential(m,b){return hs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:R}=m;if(!b||!R)return null;try{return _.credential(b,R)}catch(j){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Za(_,f){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,h.Z)(function*(_,f){return di(_,"POST","/v1/accounts:signUp",On(_,f))})).apply(this,arguments)}class Zr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,R=!1){return(0,h.Z)(function*(){const j=yield Q._fromIdTokenResponse(f,b,R),ie=p(b);return new Zr({user:j,providerId:ie,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const R=p(b);return new Zr({user:f,providerId:R,_tokenResponse:b,operationType:m})})()}}function p(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function C(){return(C=(0,h.Z)(function*(_){var f;const m=rt(_);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new Zr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Za(m,{returnSecureToken:!0}),R=yield Zr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(R.user),R})).apply(this,arguments)}class A extends H.ZR{constructor(f,m,b,R){var j;super(m.code,m.message),this.operationType=b,this.user=R,Object.setPrototypeOf(this,A.prototype),this.customData={appName:f.name,tenantId:null!==(j=f.tenantId)&&void 0!==j?j:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,R){return new A(f,m,b,R)}}function k(_,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?A._fromErrorAndOperation(_,j,f,b):j})}function O(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function K(){return(K=(0,h.Z)(function*(_,f){const m=(0,H.m9)(_);yield we(!0,m,f);const{providerUserInfo:b}=yield Pr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),R=O(b||[]);return m.providerData=m.providerData.filter(j=>R.has(j.providerId)),R.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function G(_,f){return oe.apply(this,arguments)}function oe(){return(oe=(0,h.Z)(function*(_,f,m=!1){const b=yield Fr(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return Zr._forOperation(_,"link",b)})).apply(this,arguments)}function we(_,f,m){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,h.Z)(function*(_,f,m){yield Lr(f);const R=!1===_?"provider-already-linked":"no-such-provider";pe(O(f.providerData).has(m)===_,f.auth,R)})).apply(this,arguments)}function ge(_,f){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(_,f,m=!1){const{auth:b}=_,R="reauthenticate";try{const j=yield Fr(_,k(b,R,f,_),m);pe(j.idToken,b,"internal-error");const ie=xt(j.idToken);pe(ie,b,"internal-error");const{sub:Se}=ie;return pe(_.uid===Se,b,"user-mismatch"),Zr._forOperation(_,R,j)}catch(j){throw"auth/user-not-found"===(null==j?void 0:j.code)&&$e(b,"user-mismatch"),j}})).apply(this,arguments)}function Ct(_,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,h.Z)(function*(_,f,m=!1){const b="signIn",R=yield k(_,b,f),j=yield Zr._fromIdTokenResponse(_,b,R);return m||(yield _._updateCurrentUser(j.user)),j})).apply(this,arguments)}function ft(_,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,h.Z)(function*(_,f){return Ct(rt(_),f)})).apply(this,arguments)}function Pn(_,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,h.Z)(function*(_,f){const m=(0,H.m9)(_);return yield we(!1,m,f.providerId),G(m,f)})).apply(this,arguments)}function Tn(_,f){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,h.Z)(function*(_,f){return ge((0,H.m9)(_),f)})).apply(this,arguments)}function Ur(_,f){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,h.Z)(function*(_,f){return di(_,"POST","/v1/accounts:signInWithCustomToken",On(_,f))})).apply(this,arguments)}function Pi(){return(Pi=(0,h.Z)(function*(_,f){const m=rt(_),b=yield Ur(m,{token:f,returnSecureToken:!0}),R=yield Zr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(R.user),R})).apply(this,arguments)}class kt{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Kr._fromServerResponse(f,m):$e(f,"internal-error")}}class Kr extends kt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Kr(m)}}function Yi(_,f,m){var b;pe((null===(b=m.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),pe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(pe(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(pe(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Br(){return(Br=(0,h.Z)(function*(_,f,m){const b=(0,H.m9)(_),R={requestType:"PASSWORD_RESET",email:f};m&&Yi(b,R,m),yield Ua(b,R)})).apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(_,f,m){yield lr((0,H.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(_,f){yield ki((0,H.m9)(_),{oobCode:f})})).apply(this,arguments)}function en(_,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(_,f){const m=(0,H.m9)(_),b=yield lr(m,{oobCode:f}),R=b.requestType;switch(pe(R,m,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(b.mfaInfo,m,"internal-error");default:pe(b.email,m,"internal-error")}let j=null;return b.mfaInfo&&(j=kt._fromServerResponse(rt(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:j},operation:R}})).apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(_,f){const{data:m}=yield en((0,H.m9)(_),f);return m.email})).apply(this,arguments)}function ii(){return(ii=(0,h.Z)(function*(_,f,m){const b=rt(_),R=yield Za(b,{returnSecureToken:!0,email:f,password:m}),j=yield Zr._fromIdTokenResponse(b,"signIn",R);return yield b._updateCurrentUser(j.user),j})).apply(this,arguments)}function fl(){return(fl=(0,h.Z)(function*(_,f,m){const b=(0,H.m9)(_),R={requestType:"EMAIL_SIGNIN",email:f};pe(m.handleCodeInApp,b,"argument-error"),m&&Yi(b,R,m),yield cr(b,R)})).apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(_,f,m){const b=(0,H.m9)(_),R=ga.credentialWithLink(f,m||Jt());return pe(R._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),ft(b,R)})).apply(this,arguments)}function Yr(_,f){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(_,f){return bn(_,"POST","/v1/accounts:createAuthUri",On(_,f))})).apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(_,f){const b={identifier:f,continueUri:kn()?Jt():"http://localhost"},{signinMethods:R}=yield Yr((0,H.m9)(_),b);return R||[]})).apply(this,arguments)}function Ao(){return(Ao=(0,h.Z)(function*(_,f){const m=(0,H.m9)(_),R={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Yi(m.auth,R,f);const{email:j}=yield gr(m.auth,R);j!==_.email&&(yield _.reload())})).apply(this,arguments)}function Yo(){return(Yo=(0,h.Z)(function*(_,f,m){const b=(0,H.m9)(_),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&Yi(b.auth,j,m);const{email:ie}=yield Go(b.auth,j);ie!==_.email&&(yield _.reload())})).apply(this,arguments)}function Xi(_,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,h.Z)(function*(_,f){return bn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Xa(){return(Xa=(0,h.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,H.m9)(_),j={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},ie=yield Fr(b,Xi(b.auth,j));b.displayName=ie.displayName||null,b.photoURL=ie.photoUrl||null;const Se=b.providerData.find(({providerId:dt})=>"password"===dt);Se&&(Se.displayName=b.displayName,Se.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ie)})).apply(this,arguments)}function jn(_,f,m){return gs.apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(_,f,m){const{auth:b}=_,j={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(j.email=f),m&&(j.password=m);const ie=yield Fr(_,on(b,j));yield _._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class jr{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class tu extends jr{constructor(f,m,b,R){super(f,m,b),this.username=R}}class ku extends jr{constructor(f,m){super(f,"facebook.com",m)}}class So extends tu{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class eo extends jr{constructor(f,m){super(f,"google.com",m)}}class nu extends tu{constructor(f,m,b){super(f,"twitter.com",m,b)}}function dr(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Li(_){var f,m;if(!_)return null;const{providerId:b}=_,R=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},j=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const ie=null===(m=null===(f=xt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(ie)return new jr(j,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!b)return null;switch(b){case"facebook.com":return new ku(j,R);case"github.com":return new So(j,R);case"google.com":return new eo(j,R);case"twitter.com":return new nu(j,R,_.screenName||null);case"custom":case"anonymous":return new jr(j,null);default:return new jr(j,b,R)}}(m)}class es{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new es("enroll",f)}static _fromMfaPendingCredential(f){return new es("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return es._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return es._fromIdtoken(f.multiFactorSession.idToken)}return null}}class _a{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=rt(f),R=m.customData._serverResponse,j=(R.mfaInfo||[]).map(Se=>kt._fromServerResponse(b,Se));pe(R.mfaPendingCredential,b,"internal-error");const ie=es._fromMfaPendingCredential(R.mfaPendingCredential);return new _a(ie,j,function(){var Se=(0,h.Z)(function*(dt){const Tt=yield dt._process(b,ie);delete R.mfaInfo,delete R.mfaPendingCredential;const Zt=Object.assign(Object.assign({},R),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(m.operationType){case"signIn":const Ot=yield Zr._fromIdTokenResponse(b,m.operationType,Zt);return yield b._updateCurrentUser(Ot.user),Ot;case"reauthenticate":return pe(m.user,b,"internal-error"),Zr._forOperation(m.user,m.operationType,Zt);default:$e(b,"internal-error")}});return function(dt){return Se.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}function W(_,f){return bn(_,"POST","/v2/accounts/mfaEnrollment:start",On(_,f))}class se{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>kt._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new se(f)}getSession(){var f=this;return(0,h.Z)(function*(){return es._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var b=this;return(0,h.Z)(function*(){const R=f,j=yield b.getSession(),ie=yield Fr(b.user,R._process(b.user.auth,j,m));return yield b.user._updateTokensIfNecessary(ie),b.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){const b="string"==typeof f?f:f.uid,R=yield m.user.getIdToken(),j=yield Fr(m.user,function Be(_,f){return bn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",On(_,f))}(m.user.auth,{idToken:R,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ie})=>ie!==b),yield m.user._updateTokensIfNecessary(j);try{yield m.user.reload()}catch(ie){if("auth/user-token-expired"!==ie.code)throw ie}})()}}const je=new WeakMap,ot="__sak";class ut{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ot,"1"),this.storage.removeItem(ot),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kt=(()=>{class _ extends ut{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jt(){const _=(0,H.z$)();return xn(_)||Nr(_)}()&&function or(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Ms(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const R=this.storage.getItem(b),j=this.localCache[b];R!==j&&m(b,j,R)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Se,dt,Tt)=>{this.notifyListeners(Se,Tt)});const R=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Se=this.storage.getItem(R);if(m.newValue!==Se)null!==m.newValue?this.storage.setItem(R,m.newValue):this.storage.removeItem(R);else if(this.localCache[R]===m.newValue&&!b)return}const j=()=>{const Se=this.storage.getItem(R);!b&&this.localCache[R]===Se||this.notifyListeners(R,Se)},ie=this.storage.getItem(R);!function $o(){return(0,H.w1)()&&10===document.documentMode}()||ie===m.newValue||m.newValue===m.oldValue?j():setTimeout(j,10)}notifyListeners(m,b){this.localCache[m]=b;const R=this.listeners[m];if(R)for(const j of Array.from(R))j(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var R=()=>super._set,j=this;return(0,h.Z)(function*(){yield R().call(j,m,b),j.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,R=this;return(0,h.Z)(function*(){const j=yield b().call(R,m);return R.localCache[m]=JSON.stringify(j),j})()}_remove(m){var b=()=>super._remove,R=this;return(0,h.Z)(function*(){yield b().call(R,m),delete R.localCache[m]})()}}return _.type="LOCAL",_})(),Sn=(()=>{class _ extends ut{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return _.type="SESSION",_})();let Xn=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(j=>j.isListeningto(m));if(b)return b;const R=new _(m);return this.receivers.push(R),R}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,h.Z)(function*(){const R=m,{eventId:j,eventType:ie,data:Se}=R.data,dt=b.handlersMap[ie];if(!(null==dt?void 0:dt.size))return;R.ports[0].postMessage({status:"ack",eventId:j,eventType:ie});const Tt=Array.from(dt).map(function(){var Ot=(0,h.Z)(function*(Ar){return Ar(R.origin,Se)});return function(Ar){return Ot.apply(this,arguments)}}()),Zt=yield function qn(_){return Promise.all(_.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(Tt);R.ports[0].postMessage({status:"done",eventId:j,eventType:ie,response:Zt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Hn(_="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return _+m}class Jo{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var R=this;return(0,h.Z)(function*(){const j="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let ie,Se;return new Promise((dt,Tt)=>{const Zt=Hn("",20);j.port1.start();const Ot=setTimeout(()=>{Tt(new Error("unsupported_event"))},b);Se={messageChannel:j,onMessage(Ar){const uo=Ar;if(uo.data.eventId===Zt)switch(uo.data.status){case"ack":clearTimeout(Ot),ie=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),dt(uo.data.response);break;default:clearTimeout(Ot),clearTimeout(ie),Tt(new Error("invalid_response"))}}},R.handlers.add(Se),j.port1.addEventListener("message",Se.onMessage),R.target.postMessage({eventType:f,eventId:Zt,data:m},[j.port2])}).finally(()=>{Se&&R.removeMessageHandler(Se)})})()}}function Ln(){return window}function Ns(){return void 0!==Ln().WorkerGlobalScope&&"function"==typeof Ln().importScripts}function ys(){return(ys=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Xl="firebaseLocalStorageDb",va="firebaseLocalStorage",Or="fbase_key";class xo{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function iu(_,f){return _.transaction([va],f?"readwrite":"readonly").objectStore(va)}function Xo(){const _=indexedDB.open(Xl,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(va,{keyPath:Or})}catch(R){m(R)}}),_.addEventListener("success",(0,h.Z)(function*(){const b=_.result;b.objectStoreNames.contains(va)?f(b):(b.close(),yield function _s(){const _=indexedDB.deleteDatabase(Xl);return new xo(_).toPromise()}(),f(yield Xo()))}))})}function Pu(_,f,m){return to.apply(this,arguments)}function to(){return(to=(0,h.Z)(function*(_,f,m){const b=iu(_,!0).put({[Or]:f,value:m});return new xo(b).toPromise()})).apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(_,f){const m=iu(_,!1).get(f),b=yield new xo(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function no(_,f){const m=iu(_,!0).delete(f);return new xo(m).toPromise()}const ks=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Xo()),m.db})()}_withRetries(m){var b=this;return(0,h.Z)(function*(){let R=0;for(;;)try{const j=yield b._openDb();return yield m(j)}catch(j){if(R++>3)throw j;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Ns()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=Xn._getInstance(function ud(){return Ns()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,h.Z)(function*(R,j){return{keyProcessed:(yield m._poll()).includes(j.key)}});return function(R,j){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,h.Z)(function*(R,j){return["keyChanged"]});return function(R,j){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var b,R;if(m.activeServiceWorker=yield function ml(){return ys.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Jo(m.activeServiceWorker);const j=yield m.sender._send("ping",{},800);!j||(null===(b=j[0])||void 0===b?void 0:b.fulfilled)&&(null===(R=j[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,h.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function En(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Xo();return yield Pu(m,ot,"1"),yield no(m,ot),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,h.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var R=this;return(0,h.Z)(function*(){return R._withPendingWrite((0,h.Z)(function*(){return yield R._withRetries(j=>Pu(j,m,b)),R.localCache[m]=b,R.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,h.Z)(function*(){const R=yield b._withRetries(j=>function ec(_,f){return ea.apply(this,arguments)}(j,m));return b.localCache[m]=R,R})()}_remove(m){var b=this;return(0,h.Z)(function*(){return b._withPendingWrite((0,h.Z)(function*(){return yield b._withRetries(R=>no(R,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const b=yield m._withRetries(ie=>{const Se=iu(ie,!1).getAll();return new xo(Se).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const R=[],j=new Set;for(const{fbase_key:ie,value:Se}of b)j.add(ie),JSON.stringify(m.localCache[ie])!==JSON.stringify(Se)&&(m.notifyListeners(ie,Se),R.push(ie));for(const ie of Object.keys(m.localCache))m.localCache[ie]&&!j.has(ie)&&(m.notifyListeners(ie,null),R.push(ie));return R})()}notifyListeners(m,b){this.localCache[m]=b;const R=this.listeners[m];if(R)for(const j of Array.from(R))j(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function ou(_,f){return bn(_,"POST","/v2/accounts/mfaSignIn:start",On(_,f))}function Os(){return(Os=(0,h.Z)(function*(_){return(yield bn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yr(_){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=R=>{const j=Ue("internal-error");j.customData=R,m(j)},b.type="text/javascript",b.charset="UTF-8",function dd(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function au(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Ti=1e12;class Mo{constructor(f){this.auth=f,this.counter=Ti,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new ro(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||Ti;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Ti))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var b;return null===(b=m._widgets.get(f||Ti))||void 0===b||b.execute(),""})()}}class ro{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof f?document.getElementById(f):f;pe(R,"argument-error",{appName:m}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cr(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ta=au("rcb"),hd=new wn(3e4,6e4);class Xp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ln().grecaptcha}load(f,m=""){return pe(function eg(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Ln().grecaptcha):new Promise((b,R)=>{const j=Ln().setTimeout(()=>{R(Ue(f,"network-request-failed"))},hd.get());Ln()[ta]=()=>{Ln().clearTimeout(j),delete Ln()[ta];const Se=Ln().grecaptcha;if(!Se)return void R(Ue(f,"internal-error"));const dt=Se.render;Se.render=(Tt,Zt)=>{const Ot=dt(Tt,Zt);return this.counter++,Ot},this.hostLanguage=m,b(Se)},yr(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:ta,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(j),R(Ue(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Ln().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class tg{load(f){return(0,h.Z)(function*(){return new Mo(f)})()}clearedOneInstance(){}}const na="recaptcha",ts={theme:"light",type:"image"};class ng{constructor(f,m=Object.assign({},ts),b){this.parameters=m,this.type=na,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rt(b),this.isInvisible="invisible"===this.parameters.size,pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof f?document.getElementById(f):f;pe(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new tg:new Xp,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(j=>{const ie=Se=>{!Se||(f.tokenChangeListeners.delete(ie),j(Se))};f.tokenChangeListeners.add(ie),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Ln()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){pe(kn()&&!Ns(),f.auth,"internal-error"),yield function ra(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Di(_){return Os.apply(this,arguments)}(f.auth);pe(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ro{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=zo._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function _r(){return(_r=(0,h.Z)(function*(_,f,m){const b=rt(_),R=yield fi(b,f,(0,H.m9)(m));return new Ro(R,j=>ft(b,j))})).apply(this,arguments)}function lu(){return(lu=(0,h.Z)(function*(_,f,m){const b=(0,H.m9)(_);yield we(!1,b,"phone");const R=yield fi(b.auth,f,(0,H.m9)(m));return new Ro(R,j=>Pn(b,j))})).apply(this,arguments)}function rc(){return(rc=(0,h.Z)(function*(_,f,m){const b=(0,H.m9)(_),R=yield fi(b.auth,f,(0,H.m9)(m));return new Ro(R,j=>Tn(b,j))})).apply(this,arguments)}function fi(_,f,m){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(_,f,m){var b;const R=yield m.verify();try{let j;if(pe("string"==typeof R,_,"argument-error"),pe(m.type===na,_,"argument-error"),j="string"==typeof f?{phoneNumber:f}:f,"session"in j){const ie=j.session;if("phoneNumber"in j)return pe("enroll"===ie.type,_,"internal-error"),(yield W(_,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{pe("signin"===ie.type,_,"internal-error");const Se=(null===(b=j.multiFactorHint)||void 0===b?void 0:b.uid)||j.multiFactorUid;return pe(Se,_,"missing-multi-factor-info"),(yield ou(_,{mfaPendingCredential:ie.credential,mfaEnrollmentId:Se,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield ll(_,{phoneNumber:j.phoneNumber,recaptchaToken:R});return ie}}finally{m._reset()}})).apply(this,arguments)}function No(){return(No=(0,h.Z)(function*(_,f){yield G((0,H.m9)(_),f)})).apply(this,arguments)}let Fs=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=rt(m)}verifyPhoneNumber(m,b){return fi(this.auth,m,(0,H.m9)(b))}static credential(m,b){return zo._fromVerification(m,b)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:R}=m;return b&&R?zo._fromTokenResponse(b,R):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function io(_,f){return f?Ee(f):(pe(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Lu extends Un{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return mr(f,this._buildIdpRequest())}_linkToIdToken(f,m){return mr(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return mr(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function sc(_){return Ct(_.auth,new Lu(_),_.bypassAuthState)}function oc(_){const{auth:f,user:m}=_;return pe(m,f,"internal-error"),ge(m,new Lu(_),_.bypassAuthState)}function yn(_){return ac.apply(this,arguments)}function ac(){return(ac=(0,h.Z)(function*(_){const{auth:f,user:m}=_;return pe(m,f,"internal-error"),G(m,new Lu(_),_.bypassAuthState)})).apply(this,arguments)}class Qr{constructor(f,m,b,R,j=!1){this.auth=f,this.resolver=b,this.user=R,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(b,R){f.pendingPromise={resolve:b,reject:R};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(j){f.reject(j)}});return function(b,R){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:b,sessionId:R,postBody:j,tenantId:ie,error:Se,type:dt}=f;if(Se)return void m.reject(Se);const Tt={auth:m.auth,requestUri:b,sessionId:R,tenantId:ie||void 0,postBody:j||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(dt)(Tt))}catch(Zt){m.reject(Zt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return sc;case"linkViaPopup":case"linkViaRedirect":return yn;case"reauthViaPopup":case"reauthViaRedirect":return oc;default:$e(this.auth,"internal-error")}}resolve(f){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uc=new wn(2e3,1e4);function fd(){return(fd=(0,h.Z)(function*(_,f,m){const b=rt(_);ct(_,f,Rs);const R=io(b,m);return new oo(b,"signInViaPopup",f,R).executeNotNull()})).apply(this,arguments)}function _l(){return(_l=(0,h.Z)(function*(_,f,m){const b=(0,H.m9)(_);ct(b.auth,f,Rs);const R=io(b.auth,m);return new oo(b.auth,"reauthViaPopup",f,R,b).executeNotNull()})).apply(this,arguments)}function vl(){return(vl=(0,h.Z)(function*(_,f,m){const b=(0,H.m9)(_);ct(b.auth,f,Rs);const R=io(b.auth,m);return new oo(b.auth,"linkViaPopup",f,R,b).executeNotNull()})).apply(this,arguments)}let oo=(()=>{class _ extends Qr{constructor(m,b,R,j,ie){super(m,b,j,ie),this.provider=R,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const b=yield m.execute();return pe(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,h.Z)(function*(){be(1===m.filter.length,"Popup operations only handle one event");const b=Hn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(R=>{m.reject(R)}),m.resolver._isIframeWebStorageSupported(m.auth,R=>{R||m.reject(Ue(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,R;this.pollId=(null===(R=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,uc.get())};m()}}return _.currentPopupAction=null,_})();const ao=new Map;class Hr extends Qr{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let b=ao.get(m.auth._key());if(!b){try{const j=(yield function ws(_,f){return lc.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(j)}catch(R){b=()=>Promise.reject(R)}ao.set(m.auth._key(),b)}return m.bypassAuthState||ao.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const R=yield b.auth._redirectUserForId(f.eventId);if(R)return b.user=R,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function lc(){return(lc=(0,h.Z)(function*(_,f){const m=M(f),b=S(_);if(!(yield b._isAvailable()))return!1;const R="true"===(yield b._get(m));return yield b._remove(m),R})).apply(this,arguments)}function ba(_,f){return cu.apply(this,arguments)}function cu(){return(cu=(0,h.Z)(function*(_,f){return S(_)._set(M(f),"true")})).apply(this,arguments)}function S(_){return Ee(_._redirectPersistence)}function M(_){return xe("pendingRedirect",_.config.apiKey,_.name)}function le(){return(le=(0,h.Z)(function*(_,f,m){const b=rt(_);ct(_,f,Rs);const R=io(b,m);return yield ba(R,b),R._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Xe(){return(Xe=(0,h.Z)(function*(_,f,m){const b=(0,H.m9)(_);ct(b.auth,f,Rs);const R=io(b.auth,m);yield ba(R,b.auth);const j=yield Ea(b);return R._openRedirect(b.auth,f,"reauthViaRedirect",j)})).apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(_,f,m){const b=(0,H.m9)(_);ct(b.auth,f,Rs);const R=io(b.auth,m);yield we(!1,b,f.providerId),yield ba(R,b.auth);const j=yield Ea(b);return R._openRedirect(b.auth,f,"linkViaRedirect",j)})).apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(_,f){return yield rt(_)._initializationPromise,Tr(_,f,!1)})).apply(this,arguments)}function Tr(_,f){return du.apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(_,f,m=!1){const b=rt(_),R=io(b,f),ie=yield new Hr(b,R,m).execute();return ie&&!m&&(delete ie.user._redirectEventId,yield b._persistUserIfCurrent(ie.user),yield b._setRedirectUser(null,f)),ie})).apply(this,arguments)}function Ea(_){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,h.Z)(function*(_){const f=Hn(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Ls{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function cc(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gd(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!gd(f)){const R=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ue(this.auth,R))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ia(f))}saveEventToCache(f){this.cachedEventUids.add(Ia(f)),this.lastProcessedEventTime=Date.now()}}function Ia(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function gd({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function dc(_){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,h.Z)(function*(_,f={}){return bn(_,"GET","/v1/projects",f)})).apply(this,arguments)}const ig=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dy=/^https?/;function ko(){return(ko=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield dc(_);for(const m of f)try{if(hc(m))return}catch(b){}$e(_,"unauthorized-domain")})).apply(this,arguments)}function hc(_){const f=Jt(),{protocol:m,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const ie=new URL(_);return""===ie.hostname&&""===b?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ie.hostname===b}if(!Dy.test(m))return!1;if(ig.test(_))return b===_;const R=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(b)}const Ay=new wn(3e4,6e4);function Sy(){const _=Ln().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let md=null;function xy(_){return md=md||function sg(_){return new Promise((f,m)=>{var b,R,j;function ie(){Sy(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Sy(),m(Ue(_,"network-request-failed"))},timeout:Ay.get()})}if(null===(R=null===(b=Ln().gapi)||void 0===b?void 0:b.iframes)||void 0===R?void 0:R.Iframe)f(gapi.iframes.getContext());else{if(!(null===(j=Ln().gapi)||void 0===j?void 0:j.load)){const Se=au("iframefcb");return Ln()[Se]=()=>{gapi.load?ie():m(Ue(_,"network-request-failed"))},yr(`https://apis.google.com/js/api.js?onload=${Se}`).catch(dt=>m(dt))}ie()}}).catch(f=>{throw md=null,f})}(_),md}const Hh=new wn(5e3,15e3),Da={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uu(_){const f=_.config;pe(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?Gn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:ve.SDK_VERSION},R=yd.get(_.config.apiHost);R&&(b.eid=R);const j=_._getFrameworks();return j.length&&(b.fw=j.join(",")),`${m}?${(0,H.xO)(b).slice(1)}`}function hu(){return hu=(0,h.Z)(function*(_){const f=yield xy(_),m=Ln().gapi;return pe(m,_,"internal-error"),f.open({where:document.body,url:Uu(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Da,dontclear:!0},b=>new Promise(function(){var R=(0,h.Z)(function*(j,ie){yield b.restyle({setHideOnLeave:!1});const Se=Ue(_,"network-request-failed"),dt=Ln().setTimeout(()=>{ie(Se)},Hh.get());function Tt(){Ln().clearTimeout(dt),j(b)}b.ping(Tt).then(Tt,()=>{ie(Se)})});return function(j,ie){return R.apply(this,arguments)}}()))}),hu.apply(this,arguments)}const Ry={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function zh(_,f,m,b,R,j){pe(_.config.authDomain,_,"auth-domain-config-required"),pe(_.config.apiKey,_,"invalid-api-key");const ie={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:b,v:ve.SDK_VERSION,eventId:R};if(f instanceof Rs){f.setDefaultLanguage(_.languageCode),ie.providerId=f.providerId||"",(0,H.xb)(f.getCustomParameters())||(ie.customParameters=JSON.stringify(f.getCustomParameters()));for(const[dt,Tt]of Object.entries(j||{}))ie[dt]=Tt}if(f instanceof ri){const dt=f.getScopes().filter(Tt=>""!==Tt);dt.length>0&&(ie.scopes=dt.join(","))}_.tenantId&&(ie.tid=_.tenantId);const Se=ie;for(const dt of Object.keys(Se))void 0===Se[dt]&&delete Se[dt];return`${function ky({config:_}){return _.emulator?Gn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,H.xO)(Se).slice(1)}`}const sa="webStorageSupport";class Wh extends class og{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Wh(f)}_finalizeEnroll(f,m,b){return function re(_,f){return bn(_,"POST","/v2/accounts/mfaEnrollment:finalize",On(_,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Fu(_,f){return bn(_,"POST","/v2/accounts/mfaSignIn:finalize",On(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Oy=(()=>{class _{constructor(){}static assertion(m){return Wh._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Py="@firebase/auth",Zh="0.19.12";class ag{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var R;f((null===(R=b)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oa(){return window}function Il(){return(Il=(0,h.Z)(function*(_,f,m){var b;const{BuildInfo:R}=oa();be(f.sessionId,"AuthEvent did not contain a session ID");const j=yield Bu(f.sessionId),ie={};return Nr()?ie.ibi=R.packageName:sr()?ie.apn=R.packageName:$e(_,"operation-not-supported-in-this-environment"),R.displayName&&(ie.appDisplayName=R.displayName),ie.sessionId=j,zh(_,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,ie)})).apply(this,arguments)}function Vs(){return(Vs=(0,h.Z)(function*(_){const{BuildInfo:f}=oa(),m={};Nr()?m.iosBundleId=f.packageName:sr()?m.androidPackageName=f.packageName:$e(_,"operation-not-supported-in-this-environment"),yield dc(_,m)})).apply(this,arguments)}function Ed(){return(Ed=(0,h.Z)(function*(_,f,m){const{cordova:b}=oa();let R=()=>{};try{yield new Promise((j,ie)=>{let Se=null;function dt(){var Ot;j();const Ar=null===(Ot=b.plugins.browsertab)||void 0===Ot?void 0:Ot.close;"function"==typeof Ar&&Ar(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Tt(){Se||(Se=window.setTimeout(()=>{ie(Ue(_,"redirect-cancelled-by-user"))},2e3))}function Zt(){"visible"===(null==document?void 0:document.visibilityState)&&Tt()}f.addPassiveListener(dt),document.addEventListener("resume",Tt,!1),sr()&&document.addEventListener("visibilitychange",Zt,!1),R=()=>{f.removePassiveListener(dt),document.removeEventListener("resume",Tt,!1),document.removeEventListener("visibilitychange",Zt,!1),Se&&window.clearTimeout(Se)}})}finally{R()}})).apply(this,arguments)}function Bu(_){return lg.apply(this,arguments)}function lg(){return(lg=(0,h.Z)(function*(_){const f=Cl(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Cl(_){if(be(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let b=0;b<_.length;b++)m[b]=_.charCodeAt(b);return m}!function Ly(_){(0,ve._registerComponent)(new Ie.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),R=f.getProvider("heartbeat"),{apiKey:j,authDomain:ie}=b.options;return((Se,dt)=>{pe(j&&!j.includes(":"),"invalid-api-key",{appName:Se.name}),pe(!(null==ie?void 0:ie.includes(":")),"argument-error",{appName:Se.name});const Tt={apiKey:j,authDomain:ie,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qo(_)},Zt=new vi(Se,dt,Tt);return function Te(_,f){const m=(null==f?void 0:f.persistence)||[],b=(Array.isArray(m)?m:[m]).map(Ee);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(Zt,m),Zt})(b,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,ve._registerComponent)(new Ie.wA("auth-internal",f=>{const m=rt(f.getProvider("auth").getImmediate());return new ag(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)(Py,Zh,function Fy(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ve.registerVersion)(Py,Zh,"esm2017")}("Browser");class Jh extends Ls{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function gc(_){return pu.apply(this,arguments)}function pu(){return(pu=(0,h.Z)(function*(_){const f=yield yc()._get(ef(_));return f&&(yield yc()._remove(ef(_))),f})).apply(this,arguments)}function mc(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function yc(){return Ee(Kt)}function ef(_){return xe("authEvent",_.config.apiKey,_.name)}function Cd(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...m]=_.split("?");return(0,H.zd)(m.join("?"))}function sf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ue("no-auth-event")}}function Dd(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function dg(_=(0,H.z$)()){return!("file:"!==Dd()&&"ionic:"!==Dd()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ai(){try{const _=self.localStorage,f=Hn();if(_)return _.setItem(f,"1"),_.removeItem(f),!function gu(_=(0,H.z$)()){return function Hy(){return(0,H.w1)()&&11===(null==document?void 0:document.documentMode)}()||function $y(_=(0,H.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,H.hl)()}catch(_){return Ta()&&(0,H.hl)()}return!1}function Ta(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function wc(){return(function jy(){return"http:"===Dd()||"https:"===Dd()}()||(0,H.ru)()||dg())&&!function Td(){return(0,H.b$)()||(0,H.UG)()}()&&Ai()&&!Ta()}function af(){return dg()&&"undefined"!=typeof document}function ju(){return(ju=(0,h.Z)(function*(){return!!af()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Us={LOCAL:"local",NONE:"none",SESSION:"session"},Hu=pe,lf="persistence";function $u(_){return cf.apply(this,arguments)}function cf(){return(cf=(0,h.Z)(function*(_){yield _._initializationPromise;const f=bc(),m=xe(lf,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function bc(){var _;try{return(null===(_=function uf(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const qy=pe;class Es{constructor(){this.browserResolver=Ee(class fu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sn,this._completeRedirectFn=Tr}_openPopup(f,m,b,R){var j=this;return(0,h.Z)(function*(){var ie;be(null===(ie=j.eventManagers[f._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const Se=zh(f,m,b,Jt(),R);return function bd(_,f,m,b=500,R=600){const j=Math.max((window.screen.availHeight-R)/2,0).toString(),ie=Math.max((window.screen.availWidth-b)/2,0).toString();let Se="";const dt=Object.assign(Object.assign({},Ry),{width:b.toString(),height:R.toString(),top:j,left:ie}),Tt=(0,H.z$)().toLowerCase();m&&(Se=ni(Tt)?"_blank":m),Gt(Tt)&&(f=f||"http://localhost",dt.scrollbars="yes");const Zt=Object.entries(dt).reduce((Ar,[uo,Ic])=>`${Ar}${uo}=${Ic},`,"");if(function bo(_=(0,H.z$)()){var f;return Nr(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Tt)&&"_self"!==Se)return function Gh(_,f){const m=document.createElement("a");m.href=_,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",Se),new wd(null);const Ot=window.open(f||"",Se,Zt);pe(Ot,_,"popup-blocked");try{Ot.focus()}catch(Ar){}return new wd(Ot)}(f,Se,Hn())})()}_openRedirect(f,m,b,R){var j=this;return(0,h.Z)(function*(){return yield j._originValidation(f),function Ci(_){Ln().location.href=_}(zh(f,m,b,Jt(),R)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:R,promise:j}=this.eventManagers[m];return R?Promise.resolve(R):(be(j,"If manager is not set, promise should be"),j)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const b=yield function My(_){return hu.apply(this,arguments)}(f),R=new Ls(f);return b.register("authEvent",j=>(pe(null==j?void 0:j.authEvent,f,"invalid-auth-event"),{status:R.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:R},m.iframes[f._key()]=b,R})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(sa,{type:sa},R=>{var j;const ie=null===(j=null==R?void 0:R[0])||void 0===j?void 0:j[sa];void 0!==ie&&m(!!ie),$e(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ty(_){return ko.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ms()||xn()||Nr()}}),this.cordovaResolver=Ee(class rf{constructor(){this._redirectPersistence=Sn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tr}_initialize(f){var m=this;return(0,h.Z)(function*(){const b=f._key();let R=m.eventManagers.get(b);return R||(R=new Jh(f),m.eventManagers.set(b,R),m.attachCallbackListeners(f,R)),R})()}_openPopup(f){$e(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,R){var j=this;return(0,h.Z)(function*(){!function Id(_){var f,m,b,R,j,ie,Se,dt,Tt,Zt;const Ot=oa();pe("function"==typeof(null===(f=null==Ot?void 0:Ot.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pe(void 0!==(null===(m=null==Ot?void 0:Ot.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pe("function"==typeof(null===(j=null===(R=null===(b=null==Ot?void 0:Ot.cordova)||void 0===b?void 0:b.plugins)||void 0===R?void 0:R.browsertab)||void 0===j?void 0:j.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(dt=null===(Se=null===(ie=null==Ot?void 0:Ot.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Se?void 0:Se.browsertab)||void 0===dt?void 0:dt.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(Zt=null===(Tt=null==Ot?void 0:Ot.cordova)||void 0===Tt?void 0:Tt.InAppBrowser)||void 0===Zt?void 0:Zt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const ie=yield j._initialize(f);yield ie.initialized(),ie.resetRedirect(),function wl(){ao.clear()}(),yield j._originValidation(f);const Se=function Xh(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:mc(),postBody:null,tenantId:_.tenantId,error:Ue(_,"no-auth-event")}}(f,b,R);yield function G0(_,f){return yc()._set(ef(_),f)}(f,Se);const dt=yield function Kh(_,f,m){return Il.apply(this,arguments)}(f,Se,m),Tt=yield function pc(_){const{cordova:f}=oa();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let R=null;b?f.plugins.browsertab.openUrl(_):R=f.InAppBrowser.open(_,function xs(_=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(R)})})}(dt);return function ug(_,f,m){return Ed.apply(this,arguments)}(f,ie,Tt)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Yh(_){return Vs.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:R,BuildInfo:j}=oa(),ie=setTimeout((0,h.Z)(function*(){yield gc(f),m.onEvent(sf())}),500),Se=function(){var Zt=(0,h.Z)(function*(Ot){clearTimeout(ie);const Ar=yield gc(f);let uo=null;Ar&&(null==Ot?void 0:Ot.url)&&(uo=function Uy(_,f){var m,b;const R=function _c(_){const f=Cd(_),m=f.link?decodeURIComponent(f.link):void 0,b=Cd(m).link,R=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Cd(R).link||R||b||m||_}(f);if(R.includes("/__/auth/callback")){const j=Cd(R),ie=j.firebaseError?function tf(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(j.firebaseError)):null,Se=null===(b=null===(m=null==ie?void 0:ie.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],dt=Se?Ue(Se):null;return dt?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:dt,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:R,postBody:null}}return null}(Ar,Ot.url)),m.onEvent(uo||sf())});return function(Ar){return Zt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,Se);const dt=R,Tt=`${j.packageName.toLowerCase()}://`;oa().handleOpenURL=function(){var Zt=(0,h.Z)(function*(Ot){if(Ot.toLowerCase().startsWith(Tt)&&Se({url:Ot}),"function"==typeof dt)try{dt(Ot)}catch(Ar){console.error(Ar)}});return function(Ot){return Zt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Sn,this._completeRedirectFn=Tr}_initialize(f){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,R){var j=this;return(0,h.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openPopup(f,m,b,R)})()}_openRedirect(f,m,b,R){var j=this;return(0,h.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openRedirect(f,m,b,R)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return af()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Ui(){return ju.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function pg(_){return _.unwrap()}function qu(_){return gg(_)}function gg(_){const{_tokenResponse:f}=_ instanceof H.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof H.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Fs.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Do;break;case"facebook.com":b=Qs;break;case"github.com":b=hl;break;case"twitter.com":b=Zo;break;default:const{oauthIdToken:R,oauthAccessToken:j,oauthTokenSecret:ie,pendingToken:Se,nonce:dt}=f;return j||ie||R||Se?Se?m.startsWith("saml.")?Wo._create(m,Se):hs._fromParams({providerId:m,signInMethod:m,pendingToken:Se,idToken:R,accessToken:j}):new Co(m).credential({idToken:R,accessToken:j,rawNonce:dt}):null}return _ instanceof H.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Si(_,f){return f.catch(m=>{throw m instanceof H.ZR&&function zy(_,f){var m;const b=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Wy(_,function B(_,f){var m;const b=(0,H.m9)(_),R=f;return pe(f.customData.operationType,b,"argument-error"),pe(null===(m=R.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),_a._fromError(b,R)}(_,f));else if(b){const R=gg(f),j=f;R&&(j.credential=R,j.tenantId=b.tenantId||void 0,j.email=b.email||void 0,j.phoneNumber=b.phoneNumber||void 0)}}(_,m),m}).then(m=>{const R=m.user;return{operationType:m.operationType,credential:qu(m),additionalUserInfo:dr(m),user:Aa.getOrCreate(R)}})}function df(_,f){return hf.apply(this,arguments)}function hf(){return(hf=(0,h.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>Si(_,m.confirm(b))}})).apply(this,arguments)}class Wy{constructor(f,m){this.resolver=m,this.auth=function Gy(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Si(pg(this.auth),this.resolver.resolveSignIn(f))}}class Aa{constructor(f){this._delegate=f,this.multiFactor=function Ze(_){const f=(0,H.m9)(_);return je.has(f)||je.set(f,se._fromUser(f)),je.get(f)}(f)}static getOrCreate(f){return Aa.USER_MAP.has(f)||Aa.USER_MAP.set(f,new Aa(f)),Aa.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,h.Z)(function*(){return Si(m.auth,Pn(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,h.Z)(function*(){return df(b.auth,function nc(_,f,m){return lu.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,h.Z)(function*(){return Si(m.auth,function so(_,f,m){return vl.apply(this,arguments)}(m._delegate,f,Es))})()}linkWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield $u(rt(m.auth)),function Dt(_,f,m){return function tn(_,f,m){return mn.apply(this,arguments)}(_,f,m)}(m._delegate,f,Es)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,h.Z)(function*(){return Si(m.auth,Tn(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return df(this.auth,function rg(_,f,m){return rc.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Si(this.auth,function wa(_,f,m){return _l.apply(this,arguments)}(this._delegate,f,Es))}reauthenticateWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield $u(rt(m.auth)),function me(_,f,m){return function Je(_,f,m){return Xe.apply(this,arguments)}(_,f,m)}(m._delegate,f,Es)})()}sendEmailVerification(f){return function Ji(_,f){return Ao.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,h.Z)(function*(){return yield function V(_,f){return K.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function eu(_,f){return jn((0,H.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function pl(_,f){return jn((0,H.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function ic(_,f){return No.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Qo(_,f){return Xa.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Ja(_,f,m){return Yo.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Aa.USER_MAP=new WeakMap;const Ec=pe;let ff=(()=>{class _{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=m.options;Ec(R,"invalid-api-key",{appName:m.name}),Ec(R,"invalid-api-key",{appName:m.name});const j="undefined"!=typeof window?Es:void 0;this._delegate=b.initialize({options:{persistence:Zy(R,m.name),popupRedirectResolver:j}}),this._delegate._updateErrorMap(He),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Aa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Jn(_,f,m){const b=rt(_);pe(b._canInitEmulator,b,"emulator-config-failed"),pe(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const R=!!(null==m?void 0:m.disableWarnings),j=kr(f),{host:ie,port:Se}=function zs(_){const f=kr(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(b);if(R){const j=R[1];return{host:j,port:pr(b.substr(j.length+1))}}{const[j,ie]=b.split(":");return{host:j,port:pr(ie)}}}(f);b.config.emulator={url:`${j}//${ie}${null===Se?"":`:${Se}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ie,port:Se,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function ls(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,b)}applyActionCode(m){return function ps(_,f){return qe.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return en(this._delegate,m)}confirmPasswordReset(m,b){return function Qi(_,f,m){return hi.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var R=this;return(0,h.Z)(function*(){return Si(R._delegate,function To(_,f,m){return ii.apply(this,arguments)}(R._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Qa(_,f){return Xs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Ka(_,f){const m=Io.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){Ec(wc(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function an(_,f){return $r.apply(this,arguments)}(m._delegate,Es);return b?Si(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function cg(_,f){rt(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,R){const{next:j,error:ie,complete:Se}=pf(m,b,R);return this._delegate.onAuthStateChanged(j,ie,Se)}onIdTokenChanged(m,b,R){const{next:j,error:ie,complete:Se}=pf(m,b,R);return this._delegate.onIdTokenChanged(j,ie,Se)}sendSignInLinkToEmail(m,b){return function Ko(_,f,m){return fl.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function fs(_,f,m){return Br.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,h.Z)(function*(){let R;switch(function hg(_,f){Hu(Object.values(Us).includes(f),_,"invalid-persistence-type"),(0,H.b$)()?Hu(f!==Us.SESSION,_,"unsupported-persistence-type"):(0,H.UG)()?Hu(f===Us.NONE,_,"unsupported-persistence-type"):Ta()?Hu(f===Us.NONE||f===Us.LOCAL&&(0,H.hl)(),_,"unsupported-persistence-type"):Hu(f===Us.NONE||Ai(),_,"unsupported-persistence-type")}(b._delegate,m),m){case Us.SESSION:R=Sn;break;case Us.LOCAL:R=(yield Ee(ks)._isAvailable())?ks:Kt;break;case Us.NONE:R=ne;break;default:return $e("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Si(this._delegate,function w(_){return C.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Si(this._delegate,ft(this._delegate,m))}signInWithCustomToken(m){return Si(this._delegate,function Fn(_,f){return Pi.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Si(this._delegate,function Nu(_,f,m){return ft((0,H.m9)(_),ga.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Si(this._delegate,function Ya(_,f,m){return Js.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return df(this._delegate,function yl(_,f,m){return _r.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,h.Z)(function*(){return Ec(wc(),b._delegate,"operation-not-supported-in-this-environment"),Si(b._delegate,function ia(_,f,m){return fd.apply(this,arguments)}(b._delegate,m,Es))})()}signInWithRedirect(m){var b=this;return(0,h.Z)(function*(){return Ec(wc(),b._delegate,"operation-not-supported-in-this-environment"),yield $u(b._delegate),function L(_,f,m){return function z(_,f,m){return le.apply(this,arguments)}(_,f,m)}(b._delegate,m,Es)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Bt(_,f){return Fi.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Us,_})();function pf(_,f,m){let b=_;"function"!=typeof _&&({next:b,error:f,complete:m}=_);const R=b;return{next:ie=>R(ie&&Aa.getOrCreate(ie)),error:f,complete:m}}function Zy(_,f){const m=function fg(_,f){const m=bc();if(!m)return[];const b=xe(lf,_,f);switch(m.getItem(b)){case Us.NONE:return[ne];case Us.LOCAL:return[ks,Sn];case Us.SESSION:return[Sn];default:return[]}}(_,f);if("undefined"!=typeof self&&!m.includes(ks)&&m.push(ks),"undefined"!=typeof window)for(const b of[Kt,Sn])m.includes(b)||m.push(b);return m.includes(ne)||m.push(ne),m}class gf{constructor(){this.providerId="phone",this._delegate=new Fs(pg(te.Z.auth()))}static credential(f,m){return Fs.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}gf.PHONE_SIGN_IN_METHOD=Fs.PHONE_SIGN_IN_METHOD,gf.PROVIDER_ID=Fs.PROVIDER_ID;const Ky=pe;class Yy{constructor(f,m,b=te.Z.app()){var R;Ky(null===(R=b.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new ng(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function mg(_){_.INTERNAL.registerComponent(new Ie.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new ff(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ga,FacebookAuthProvider:Qs,GithubAuthProvider:hl,GoogleAuthProvider:Do,OAuthProvider:Co,SAMLAuthProvider:bi,PhoneAuthProvider:gf,PhoneMultiFactorGenerator:Oy,RecaptchaVerifier:Yy,TwitterAuthProvider:Zo,Auth:ff,AuthCredential:Un,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.12")}(te.Z)},8259:function(Rt,We){var h;!function(te,H){"use strict";"object"==typeof Rt.exports?Rt.exports=te.document?H(te,!0):function(ve){if(!ve.document)throw new Error("jQuery requires a window with a document");return H(ve)}:H(te)}("undefined"!=typeof window?window:this,function(te,H){"use strict";var ve=[],fe=Object.getPrototypeOf,Re=ve.slice,Ie=ve.flat?function(p){return ve.flat.call(p)}:function(p){return ve.concat.apply([],p)},Ne=ve.push,Ae=ve.indexOf,X={},ee=X.toString,de=X.hasOwnProperty,mt=de.toString,Ke=mt.call(Object),He={},Ve=function(w){return"function"==typeof w&&"number"!=typeof w.nodeType&&"function"!=typeof w.item},Me=function(w){return null!=w&&w===w.window},_e=te.document,It={type:!0,src:!0,nonce:!0,noModule:!0};function _t(p,w,C){var A,k,O=(C=C||_e).createElement("script");if(O.text=p,w)for(A in It)(k=w[A]||w.getAttribute&&w.getAttribute(A))&&O.setAttribute(A,k);C.head.appendChild(O).parentNode.removeChild(O)}function $e(p){return null==p?p+"":"object"==typeof p||"function"==typeof p?X[ee.call(p)]||"object":typeof p}var D=function(p,w){return new D.fn.init(p,w)};function ct(p){var w=!!p&&"length"in p&&p.length,C=$e(p);return!Ve(p)&&!Me(p)&&("array"===C||0===w||"number"==typeof w&&w>0&&w-1 in p)}D.fn=D.prototype={jquery:"3.6.0",constructor:D,length:0,toArray:function(){return Re.call(this)},get:function(p){return null==p?Re.call(this):p<0?this[p+this.length]:this[p]},pushStack:function(p){var w=D.merge(this.constructor(),p);return w.prevObject=this,w},each:function(p){return D.each(this,p)},map:function(p){return this.pushStack(D.map(this,function(w,C){return p.call(w,C,w)}))},slice:function(){return this.pushStack(Re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(D.grep(this,function(p,w){return(w+1)%2}))},odd:function(){return this.pushStack(D.grep(this,function(p,w){return w%2}))},eq:function(p){var w=this.length,C=+p+(p<0?w:0);return this.pushStack(C>=0&&C<w?[this[C]]:[])},end:function(){return this.prevObject||this.constructor()},push:Ne,sort:ve.sort,splice:ve.splice},D.extend=D.fn.extend=function(){var p,w,C,A,k,O,V=arguments[0]||{},K=1,G=arguments.length,oe=!1;for("boolean"==typeof V&&(oe=V,V=arguments[K]||{},K++),"object"!=typeof V&&!Ve(V)&&(V={}),K===G&&(V=this,K--);K<G;K++)if(null!=(p=arguments[K]))for(w in p)A=p[w],"__proto__"!==w&&V!==A&&(oe&&A&&(D.isPlainObject(A)||(k=Array.isArray(A)))?(C=V[w],O=k&&!Array.isArray(C)?[]:k||D.isPlainObject(C)?C:{},k=!1,V[w]=D.extend(oe,O,A)):void 0!==A&&(V[w]=A));return V},D.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw new Error(p)},noop:function(){},isPlainObject:function(p){var w,C;return!(!p||"[object Object]"!==ee.call(p)||(w=fe(p))&&("function"!=typeof(C=de.call(w,"constructor")&&w.constructor)||mt.call(C)!==Ke))},isEmptyObject:function(p){var w;for(w in p)return!1;return!0},globalEval:function(p,w,C){_t(p,{nonce:w&&w.nonce},C)},each:function(p,w){var C,A=0;if(ct(p))for(C=p.length;A<C&&!1!==w.call(p[A],A,p[A]);A++);else for(A in p)if(!1===w.call(p[A],A,p[A]))break;return p},makeArray:function(p,w){var C=w||[];return null!=p&&(ct(Object(p))?D.merge(C,"string"==typeof p?[p]:p):Ne.call(C,p)),C},inArray:function(p,w,C){return null==w?-1:Ae.call(w,p,C)},merge:function(p,w){for(var C=+w.length,A=0,k=p.length;A<C;A++)p[k++]=w[A];return p.length=k,p},grep:function(p,w,C){for(var k=[],O=0,V=p.length,K=!C;O<V;O++)!w(p[O],O)!==K&&k.push(p[O]);return k},map:function(p,w,C){var A,k,O=0,V=[];if(ct(p))for(A=p.length;O<A;O++)null!=(k=w(p[O],O,C))&&V.push(k);else for(O in p)null!=(k=w(p[O],O,C))&&V.push(k);return Ie(V)},guid:1,support:He}),"function"==typeof Symbol&&(D.fn[Symbol.iterator]=ve[Symbol.iterator]),D.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(p,w){X["[object "+w+"]"]=w.toLowerCase()});var at=function(p){var w,C,A,k,O,V,K,G,oe,we,Oe,ge,ke,Ct,Mt,ft,ir,Pn,zn,Tn="sizzle"+1*new Date,Lt=p.document,Ur=0,Xt=0,Fn=gs(),Pi=gs(),kt=gs(),Kr=gs(),Yi=function(B,W){return B===W&&(Oe=!0),0},fs={}.hasOwnProperty,Br=[],Qi=Br.pop,hi=Br.push,ps=Br.push,qe=Br.slice,en=function(B,W){for(var re=0,Be=B.length;re<Be;re++)if(B[re]===W)return re;return-1},ma="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Bt="[\\x20\\t\\r\\n\\f]",Fi="(?:\\\\[\\da-fA-F]{1,6}"+Bt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",To="\\["+Bt+"*("+Fi+")(?:"+Bt+"*([*^$|!~]?=)"+Bt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Fi+"))|)"+Bt+"*\\]",ii=":("+Fi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+To+")*)|.*)\\)|)",Nu=new RegExp(Bt+"+","g"),Ko=new RegExp("^"+Bt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Bt+"+$","g"),fl=new RegExp("^"+Bt+"*,"+Bt+"*"),Ka=new RegExp("^"+Bt+"*([>+~]|"+Bt+")"+Bt+"*"),Ya=new RegExp(Bt+"|>"),Js=new RegExp(ii),Yr=new RegExp("^"+Fi+"$"),si={ID:new RegExp("^#("+Fi+")"),CLASS:new RegExp("^\\.("+Fi+")"),TAG:new RegExp("^("+Fi+"|[*])"),ATTR:new RegExp("^"+To),PSEUDO:new RegExp("^"+ii),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Bt+"*(even|odd|(([+-]|)(\\d*)n|)"+Bt+"*(?:([+-]|)"+Bt+"*(\\d+)|))"+Bt+"*\\)|)","i"),bool:new RegExp("^(?:"+ma+")$","i"),needsContext:new RegExp("^"+Bt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Bt+"*((?:-\\d)?\\d*)"+Bt+"*\\)|)(?=[^-]|$)","i")},Qa=/HTML$/i,Xs=/^(?:input|select|textarea|button)$/i,Ji=/^h\d$/i,Ao=/^[^{]+\{\s*\[native \w/,Ja=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Yo=/[+~]/,Xi=new RegExp("\\\\[\\da-fA-F]{1,6}"+Bt+"?|\\\\([^\\r\\n\\f])","g"),Ii=function(B,W){var re="0x"+B.slice(1)-65536;return W||(re<0?String.fromCharCode(re+65536):String.fromCharCode(re>>10|55296,1023&re|56320))},Qo=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Xa=function(B,W){return W?"\0"===B?"\ufffd":B.slice(0,-1)+"\\"+B.charCodeAt(B.length-1).toString(16)+" ":"\\"+B},eu=function(){ge()},pl=Jl(function(B){return!0===B.disabled&&"fieldset"===B.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{ps.apply(Br=qe.call(Lt.childNodes),Lt.childNodes)}catch(B){ps={apply:Br.length?function(W,re){hi.apply(W,qe.call(re))}:function(W,re){for(var Be=W.length,se=0;W[Be++]=re[se++];);W.length=Be-1}}}function jn(B,W,re,Be){var se,je,Ze,ot,ut,jt,Vt,zt=W&&W.ownerDocument,At=W?W.nodeType:9;if(re=re||[],"string"!=typeof B||!B||1!==At&&9!==At&&11!==At)return re;if(!Be&&(ge(W),W=W||ke,Mt)){if(11!==At&&(ut=Ja.exec(B)))if(se=ut[1]){if(9===At){if(!(Ze=W.getElementById(se)))return re;if(Ze.id===se)return re.push(Ze),re}else if(zt&&(Ze=zt.getElementById(se))&&zn(W,Ze)&&Ze.id===se)return re.push(Ze),re}else{if(ut[2])return ps.apply(re,W.getElementsByTagName(B)),re;if((se=ut[3])&&C.getElementsByClassName&&W.getElementsByClassName)return ps.apply(re,W.getElementsByClassName(se)),re}if(C.qsa&&!Kr[B+" "]&&(!ft||!ft.test(B))&&(1!==At||"object"!==W.nodeName.toLowerCase())){if(Vt=B,zt=W,1===At&&(Ya.test(B)||Ka.test(B))){for(((zt=Yo.test(B)&&ms(W.parentNode)||W)!==W||!C.scope)&&((ot=W.getAttribute("id"))?ot=ot.replace(Qo,Xa):W.setAttribute("id",ot=Tn)),je=(jt=V(B)).length;je--;)jt[je]=(ot?"#"+ot:":scope")+" "+ru(jt[je]);Vt=jt.join(",")}try{return ps.apply(re,zt.querySelectorAll(Vt)),re}catch(Kt){Kr(B,!0)}finally{ot===Tn&&W.removeAttribute("id")}}}return G(B.replace(Ko,"$1"),W,re,Be)}function gs(){var B=[];return function W(re,Be){return B.push(re+" ")>A.cacheLength&&delete W[B.shift()],W[re+" "]=Be}}function Li(B){return B[Tn]=!0,B}function jr(B){var W=ke.createElement("fieldset");try{return!!B(W)}catch(re){return!1}finally{W.parentNode&&W.parentNode.removeChild(W),W=null}}function tu(B,W){for(var re=B.split("|"),Be=re.length;Be--;)A.attrHandle[re[Be]]=W}function ku(B,W){var re=W&&B,Be=re&&1===B.nodeType&&1===W.nodeType&&B.sourceIndex-W.sourceIndex;if(Be)return Be;if(re)for(;re=re.nextSibling;)if(re===W)return-1;return B?1:-1}function So(B){return function(W){return"input"===W.nodeName.toLowerCase()&&W.type===B}}function eo(B){return function(W){var re=W.nodeName.toLowerCase();return("input"===re||"button"===re)&&W.type===B}}function nu(B){return function(W){return"form"in W?W.parentNode&&!1===W.disabled?"label"in W?"label"in W.parentNode?W.parentNode.disabled===B:W.disabled===B:W.isDisabled===B||W.isDisabled!==!B&&pl(W)===B:W.disabled===B:"label"in W&&W.disabled===B}}function dr(B){return Li(function(W){return W=+W,Li(function(re,Be){for(var se,je=B([],re.length,W),Ze=je.length;Ze--;)re[se=je[Ze]]&&(re[se]=!(Be[se]=re[se]))})})}function ms(B){return B&&void 0!==B.getElementsByTagName&&B}for(w in C=jn.support={},O=jn.isXML=function(B){var re=B&&(B.ownerDocument||B).documentElement;return!Qa.test(B&&B.namespaceURI||re&&re.nodeName||"HTML")},ge=jn.setDocument=function(B){var W,re,Be=B?B.ownerDocument||B:Lt;return Be==ke||9!==Be.nodeType||!Be.documentElement||(Ct=(ke=Be).documentElement,Mt=!O(ke),Lt!=ke&&(re=ke.defaultView)&&re.top!==re&&(re.addEventListener?re.addEventListener("unload",eu,!1):re.attachEvent&&re.attachEvent("onunload",eu)),C.scope=jr(function(se){return Ct.appendChild(se).appendChild(ke.createElement("div")),void 0!==se.querySelectorAll&&!se.querySelectorAll(":scope fieldset div").length}),C.attributes=jr(function(se){return se.className="i",!se.getAttribute("className")}),C.getElementsByTagName=jr(function(se){return se.appendChild(ke.createComment("")),!se.getElementsByTagName("*").length}),C.getElementsByClassName=Ao.test(ke.getElementsByClassName),C.getById=jr(function(se){return Ct.appendChild(se).id=Tn,!ke.getElementsByName||!ke.getElementsByName(Tn).length}),C.getById?(A.filter.ID=function(se){var je=se.replace(Xi,Ii);return function(Ze){return Ze.getAttribute("id")===je}},A.find.ID=function(se,je){if(void 0!==je.getElementById&&Mt){var Ze=je.getElementById(se);return Ze?[Ze]:[]}}):(A.filter.ID=function(se){var je=se.replace(Xi,Ii);return function(Ze){var ot=void 0!==Ze.getAttributeNode&&Ze.getAttributeNode("id");return ot&&ot.value===je}},A.find.ID=function(se,je){if(void 0!==je.getElementById&&Mt){var Ze,ot,ut,jt=je.getElementById(se);if(jt){if((Ze=jt.getAttributeNode("id"))&&Ze.value===se)return[jt];for(ut=je.getElementsByName(se),ot=0;jt=ut[ot++];)if((Ze=jt.getAttributeNode("id"))&&Ze.value===se)return[jt]}return[]}}),A.find.TAG=C.getElementsByTagName?function(se,je){return void 0!==je.getElementsByTagName?je.getElementsByTagName(se):C.qsa?je.querySelectorAll(se):void 0}:function(se,je){var Ze,ot=[],ut=0,jt=je.getElementsByTagName(se);if("*"===se){for(;Ze=jt[ut++];)1===Ze.nodeType&&ot.push(Ze);return ot}return jt},A.find.CLASS=C.getElementsByClassName&&function(se,je){if(void 0!==je.getElementsByClassName&&Mt)return je.getElementsByClassName(se)},ir=[],ft=[],(C.qsa=Ao.test(ke.querySelectorAll))&&(jr(function(se){var je;Ct.appendChild(se).innerHTML="<a id='"+Tn+"'></a><select id='"+Tn+"-\r\\' msallowcapture=''><option selected=''></option></select>",se.querySelectorAll("[msallowcapture^='']").length&&ft.push("[*^$]="+Bt+"*(?:''|\"\")"),se.querySelectorAll("[selected]").length||ft.push("\\["+Bt+"*(?:value|"+ma+")"),se.querySelectorAll("[id~="+Tn+"-]").length||ft.push("~="),(je=ke.createElement("input")).setAttribute("name",""),se.appendChild(je),se.querySelectorAll("[name='']").length||ft.push("\\["+Bt+"*name"+Bt+"*="+Bt+"*(?:''|\"\")"),se.querySelectorAll(":checked").length||ft.push(":checked"),se.querySelectorAll("a#"+Tn+"+*").length||ft.push(".#.+[+~]"),se.querySelectorAll("\\\f"),ft.push("[\\r\\n\\f]")}),jr(function(se){se.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var je=ke.createElement("input");je.setAttribute("type","hidden"),se.appendChild(je).setAttribute("name","D"),se.querySelectorAll("[name=d]").length&&ft.push("name"+Bt+"*[*^$|!~]?="),2!==se.querySelectorAll(":enabled").length&&ft.push(":enabled",":disabled"),Ct.appendChild(se).disabled=!0,2!==se.querySelectorAll(":disabled").length&&ft.push(":enabled",":disabled"),se.querySelectorAll("*,:x"),ft.push(",.*:")})),(C.matchesSelector=Ao.test(Pn=Ct.matches||Ct.webkitMatchesSelector||Ct.mozMatchesSelector||Ct.oMatchesSelector||Ct.msMatchesSelector))&&jr(function(se){C.disconnectedMatch=Pn.call(se,"*"),Pn.call(se,"[s!='']:x"),ir.push("!=",ii)}),ft=ft.length&&new RegExp(ft.join("|")),ir=ir.length&&new RegExp(ir.join("|")),W=Ao.test(Ct.compareDocumentPosition),zn=W||Ao.test(Ct.contains)?function(se,je){var Ze=9===se.nodeType?se.documentElement:se,ot=je&&je.parentNode;return se===ot||!(!ot||1!==ot.nodeType||!(Ze.contains?Ze.contains(ot):se.compareDocumentPosition&&16&se.compareDocumentPosition(ot)))}:function(se,je){if(je)for(;je=je.parentNode;)if(je===se)return!0;return!1},Yi=W?function(se,je){if(se===je)return Oe=!0,0;var Ze=!se.compareDocumentPosition-!je.compareDocumentPosition;return Ze||(1&(Ze=(se.ownerDocument||se)==(je.ownerDocument||je)?se.compareDocumentPosition(je):1)||!C.sortDetached&&je.compareDocumentPosition(se)===Ze?se==ke||se.ownerDocument==Lt&&zn(Lt,se)?-1:je==ke||je.ownerDocument==Lt&&zn(Lt,je)?1:we?en(we,se)-en(we,je):0:4&Ze?-1:1)}:function(se,je){if(se===je)return Oe=!0,0;var Ze,ot=0,ut=se.parentNode,jt=je.parentNode,Vt=[se],zt=[je];if(!ut||!jt)return se==ke?-1:je==ke?1:ut?-1:jt?1:we?en(we,se)-en(we,je):0;if(ut===jt)return ku(se,je);for(Ze=se;Ze=Ze.parentNode;)Vt.unshift(Ze);for(Ze=je;Ze=Ze.parentNode;)zt.unshift(Ze);for(;Vt[ot]===zt[ot];)ot++;return ot?ku(Vt[ot],zt[ot]):Vt[ot]==Lt?-1:zt[ot]==Lt?1:0}),ke},jn.matches=function(B,W){return jn(B,null,null,W)},jn.matchesSelector=function(B,W){if(ge(B),C.matchesSelector&&Mt&&!Kr[W+" "]&&(!ir||!ir.test(W))&&(!ft||!ft.test(W)))try{var re=Pn.call(B,W);if(re||C.disconnectedMatch||B.document&&11!==B.document.nodeType)return re}catch(Be){Kr(W,!0)}return jn(W,ke,null,[B]).length>0},jn.contains=function(B,W){return(B.ownerDocument||B)!=ke&&ge(B),zn(B,W)},jn.attr=function(B,W){(B.ownerDocument||B)!=ke&&ge(B);var re=A.attrHandle[W.toLowerCase()],Be=re&&fs.call(A.attrHandle,W.toLowerCase())?re(B,W,!Mt):void 0;return void 0!==Be?Be:C.attributes||!Mt?B.getAttribute(W):(Be=B.getAttributeNode(W))&&Be.specified?Be.value:null},jn.escape=function(B){return(B+"").replace(Qo,Xa)},jn.error=function(B){throw new Error("Syntax error, unrecognized expression: "+B)},jn.uniqueSort=function(B){var W,re=[],Be=0,se=0;if(Oe=!C.detectDuplicates,we=!C.sortStable&&B.slice(0),B.sort(Yi),Oe){for(;W=B[se++];)W===B[se]&&(Be=re.push(se));for(;Be--;)B.splice(re[Be],1)}return we=null,B},k=jn.getText=function(B){var W,re="",Be=0,se=B.nodeType;if(se){if(1===se||9===se||11===se){if("string"==typeof B.textContent)return B.textContent;for(B=B.firstChild;B;B=B.nextSibling)re+=k(B)}else if(3===se||4===se)return B.nodeValue}else for(;W=B[Be++];)re+=k(W);return re},(A=jn.selectors={cacheLength:50,createPseudo:Li,match:si,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(B){return B[1]=B[1].replace(Xi,Ii),B[3]=(B[3]||B[4]||B[5]||"").replace(Xi,Ii),"~="===B[2]&&(B[3]=" "+B[3]+" "),B.slice(0,4)},CHILD:function(B){return B[1]=B[1].toLowerCase(),"nth"===B[1].slice(0,3)?(B[3]||jn.error(B[0]),B[4]=+(B[4]?B[5]+(B[6]||1):2*("even"===B[3]||"odd"===B[3])),B[5]=+(B[7]+B[8]||"odd"===B[3])):B[3]&&jn.error(B[0]),B},PSEUDO:function(B){var W,re=!B[6]&&B[2];return si.CHILD.test(B[0])?null:(B[3]?B[2]=B[4]||B[5]||"":re&&Js.test(re)&&(W=V(re,!0))&&(W=re.indexOf(")",re.length-W)-re.length)&&(B[0]=B[0].slice(0,W),B[2]=re.slice(0,W)),B.slice(0,3))}},filter:{TAG:function(B){var W=B.replace(Xi,Ii).toLowerCase();return"*"===B?function(){return!0}:function(re){return re.nodeName&&re.nodeName.toLowerCase()===W}},CLASS:function(B){var W=Fn[B+" "];return W||(W=new RegExp("(^|"+Bt+")"+B+"("+Bt+"|$)"))&&Fn(B,function(re){return W.test("string"==typeof re.className&&re.className||void 0!==re.getAttribute&&re.getAttribute("class")||"")})},ATTR:function(B,W,re){return function(Be){var se=jn.attr(Be,B);return null==se?"!="===W:!W||(se+="","="===W?se===re:"!="===W?se!==re:"^="===W?re&&0===se.indexOf(re):"*="===W?re&&se.indexOf(re)>-1:"$="===W?re&&se.slice(-re.length)===re:"~="===W?(" "+se.replace(Nu," ")+" ").indexOf(re)>-1:"|="===W&&(se===re||se.slice(0,re.length+1)===re+"-"))}},CHILD:function(B,W,re,Be,se){var je="nth"!==B.slice(0,3),Ze="last"!==B.slice(-4),ot="of-type"===W;return 1===Be&&0===se?function(ut){return!!ut.parentNode}:function(ut,jt,Vt){var zt,At,Kt,Qe,Sn,qn,Xn=je!==Ze?"nextSibling":"previousSibling",Hn=ut.parentNode,Jo=ot&&ut.nodeName.toLowerCase(),Ln=!Vt&&!ot,Ci=!1;if(Hn){if(je){for(;Xn;){for(Qe=ut;Qe=Qe[Xn];)if(ot?Qe.nodeName.toLowerCase()===Jo:1===Qe.nodeType)return!1;qn=Xn="only"===B&&!qn&&"nextSibling"}return!0}if(qn=[Ze?Hn.firstChild:Hn.lastChild],Ze&&Ln){for(Ci=(Sn=(zt=(At=(Kt=(Qe=Hn)[Tn]||(Qe[Tn]={}))[Qe.uniqueID]||(Kt[Qe.uniqueID]={}))[B]||[])[0]===Ur&&zt[1])&&zt[2],Qe=Sn&&Hn.childNodes[Sn];Qe=++Sn&&Qe&&Qe[Xn]||(Ci=Sn=0)||qn.pop();)if(1===Qe.nodeType&&++Ci&&Qe===ut){At[B]=[Ur,Sn,Ci];break}}else if(Ln&&(Ci=Sn=(zt=(At=(Kt=(Qe=ut)[Tn]||(Qe[Tn]={}))[Qe.uniqueID]||(Kt[Qe.uniqueID]={}))[B]||[])[0]===Ur&&zt[1]),!1===Ci)for(;(Qe=++Sn&&Qe&&Qe[Xn]||(Ci=Sn=0)||qn.pop())&&((ot?Qe.nodeName.toLowerCase()!==Jo:1!==Qe.nodeType)||!++Ci||(Ln&&((At=(Kt=Qe[Tn]||(Qe[Tn]={}))[Qe.uniqueID]||(Kt[Qe.uniqueID]={}))[B]=[Ur,Ci]),Qe!==ut)););return(Ci-=se)===Be||Ci%Be==0&&Ci/Be>=0}}},PSEUDO:function(B,W){var re,Be=A.pseudos[B]||A.setFilters[B.toLowerCase()]||jn.error("unsupported pseudo: "+B);return Be[Tn]?Be(W):Be.length>1?(re=[B,B,"",W],A.setFilters.hasOwnProperty(B.toLowerCase())?Li(function(se,je){for(var Ze,ot=Be(se,W),ut=ot.length;ut--;)se[Ze=en(se,ot[ut])]=!(je[Ze]=ot[ut])}):function(se){return Be(se,0,re)}):Be}},pseudos:{not:Li(function(B){var W=[],re=[],Be=K(B.replace(Ko,"$1"));return Be[Tn]?Li(function(se,je,Ze,ot){for(var ut,jt=Be(se,null,ot,[]),Vt=se.length;Vt--;)(ut=jt[Vt])&&(se[Vt]=!(je[Vt]=ut))}):function(se,je,Ze){return W[0]=se,Be(W,null,Ze,re),W[0]=null,!re.pop()}}),has:Li(function(B){return function(W){return jn(B,W).length>0}}),contains:Li(function(B){return B=B.replace(Xi,Ii),function(W){return(W.textContent||k(W)).indexOf(B)>-1}}),lang:Li(function(B){return Yr.test(B||"")||jn.error("unsupported lang: "+B),B=B.replace(Xi,Ii).toLowerCase(),function(W){var re;do{if(re=Mt?W.lang:W.getAttribute("xml:lang")||W.getAttribute("lang"))return(re=re.toLowerCase())===B||0===re.indexOf(B+"-")}while((W=W.parentNode)&&1===W.nodeType);return!1}}),target:function(B){var W=p.location&&p.location.hash;return W&&W.slice(1)===B.id},root:function(B){return B===Ct},focus:function(B){return B===ke.activeElement&&(!ke.hasFocus||ke.hasFocus())&&!!(B.type||B.href||~B.tabIndex)},enabled:nu(!1),disabled:nu(!0),checked:function(B){var W=B.nodeName.toLowerCase();return"input"===W&&!!B.checked||"option"===W&&!!B.selected},selected:function(B){return!0===B.selected},empty:function(B){for(B=B.firstChild;B;B=B.nextSibling)if(B.nodeType<6)return!1;return!0},parent:function(B){return!A.pseudos.empty(B)},header:function(B){return Ji.test(B.nodeName)},input:function(B){return Xs.test(B.nodeName)},button:function(B){var W=B.nodeName.toLowerCase();return"input"===W&&"button"===B.type||"button"===W},text:function(B){var W;return"input"===B.nodeName.toLowerCase()&&"text"===B.type&&(null==(W=B.getAttribute("type"))||"text"===W.toLowerCase())},first:dr(function(){return[0]}),last:dr(function(B,W){return[W-1]}),eq:dr(function(B,W,re){return[re<0?re+W:re]}),even:dr(function(B,W){for(var re=0;re<W;re+=2)B.push(re);return B}),odd:dr(function(B,W){for(var re=1;re<W;re+=2)B.push(re);return B}),lt:dr(function(B,W,re){for(var Be=re<0?re+W:re>W?W:re;--Be>=0;)B.push(Be);return B}),gt:dr(function(B,W,re){for(var Be=re<0?re+W:re;++Be<W;)B.push(Be);return B})}}).pseudos.nth=A.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[w]=So(w);for(w in{submit:!0,reset:!0})A.pseudos[w]=eo(w);function ar(){}function ru(B){for(var W=0,re=B.length,Be="";W<re;W++)Be+=B[W].value;return Be}function Jl(B,W,re){var Be=W.dir,se=W.next,je=se||Be,Ze=re&&"parentNode"===je,ot=Xt++;return W.first?function(ut,jt,Vt){for(;ut=ut[Be];)if(1===ut.nodeType||Ze)return B(ut,jt,Vt);return!1}:function(ut,jt,Vt){var zt,At,Kt,Qe=[Ur,ot];if(Vt){for(;ut=ut[Be];)if((1===ut.nodeType||Ze)&&B(ut,jt,Vt))return!0}else for(;ut=ut[Be];)if(1===ut.nodeType||Ze)if(At=(Kt=ut[Tn]||(ut[Tn]={}))[ut.uniqueID]||(Kt[ut.uniqueID]={}),se&&se===ut.nodeName.toLowerCase())ut=ut[Be]||ut;else{if((zt=At[je])&&zt[0]===Ur&&zt[1]===ot)return Qe[2]=zt[2];if(At[je]=Qe,Qe[2]=B(ut,jt,Vt))return!0}return!1}}function ad(B){return B.length>1?function(W,re,Be){for(var se=B.length;se--;)if(!B[se](W,re,Be))return!1;return!0}:B[0]}function gl(B,W,re,Be,se){for(var je,Ze=[],ot=0,ut=B.length,jt=null!=W;ot<ut;ot++)(je=B[ot])&&(!re||re(je,Be,se))&&(Ze.push(je),jt&&W.push(ot));return Ze}function ya(B,W,re,Be,se,je){return Be&&!Be[Tn]&&(Be=ya(Be)),se&&!se[Tn]&&(se=ya(se,je)),Li(function(Ze,ot,ut,jt){var Vt,zt,At,Kt=[],Qe=[],Sn=ot.length,qn=Ze||function Ou(B,W,re){for(var Be=0,se=W.length;Be<se;Be++)jn(B,W[Be],re);return re}(W||"*",ut.nodeType?[ut]:ut,[]),Xn=!B||!Ze&&W?qn:gl(qn,Kt,B,ut,jt),Hn=re?se||(Ze?B:Sn||Be)?[]:ot:Xn;if(re&&re(Xn,Hn,ut,jt),Be)for(Vt=gl(Hn,Qe),Be(Vt,[],ut,jt),zt=Vt.length;zt--;)(At=Vt[zt])&&(Hn[Qe[zt]]=!(Xn[Qe[zt]]=At));if(Ze){if(se||B){if(se){for(Vt=[],zt=Hn.length;zt--;)(At=Hn[zt])&&Vt.push(Xn[zt]=At);se(null,Hn=[],Vt,jt)}for(zt=Hn.length;zt--;)(At=Hn[zt])&&(Vt=se?en(Ze,At):Kt[zt])>-1&&(Ze[Vt]=!(ot[Vt]=At))}}else Hn=gl(Hn===ot?Hn.splice(Sn,Hn.length):Hn),se?se(null,ot,Hn,jt):ps.apply(ot,Hn)})}function es(B){for(var W,re,Be,se=B.length,je=A.relative[B[0].type],Ze=je||A.relative[" "],ot=je?1:0,ut=Jl(function(zt){return zt===W},Ze,!0),jt=Jl(function(zt){return en(W,zt)>-1},Ze,!0),Vt=[function(zt,At,Kt){var Qe=!je&&(Kt||At!==oe)||((W=At).nodeType?ut(zt,At,Kt):jt(zt,At,Kt));return W=null,Qe}];ot<se;ot++)if(re=A.relative[B[ot].type])Vt=[Jl(ad(Vt),re)];else{if((re=A.filter[B[ot].type].apply(null,B[ot].matches))[Tn]){for(Be=++ot;Be<se&&!A.relative[B[Be].type];Be++);return ya(ot>1&&ad(Vt),ot>1&&ru(B.slice(0,ot-1).concat({value:" "===B[ot-2].type?"*":""})).replace(Ko,"$1"),re,ot<Be&&es(B.slice(ot,Be)),Be<se&&es(B=B.slice(Be)),Be<se&&ru(B))}Vt.push(re)}return ad(Vt)}return ar.prototype=A.filters=A.pseudos,A.setFilters=new ar,V=jn.tokenize=function(B,W){var re,Be,se,je,Ze,ot,ut,jt=Pi[B+" "];if(jt)return W?0:jt.slice(0);for(Ze=B,ot=[],ut=A.preFilter;Ze;){for(je in(!re||(Be=fl.exec(Ze)))&&(Be&&(Ze=Ze.slice(Be[0].length)||Ze),ot.push(se=[])),re=!1,(Be=Ka.exec(Ze))&&(re=Be.shift(),se.push({value:re,type:Be[0].replace(Ko," ")}),Ze=Ze.slice(re.length)),A.filter)(Be=si[je].exec(Ze))&&(!ut[je]||(Be=ut[je](Be)))&&(re=Be.shift(),se.push({value:re,type:je,matches:Be}),Ze=Ze.slice(re.length));if(!re)break}return W?Ze.length:Ze?jn.error(B):Pi(B,ot).slice(0)},K=jn.compile=function(B,W){var re,Be=[],se=[],je=kt[B+" "];if(!je){for(W||(W=V(B)),re=W.length;re--;)(je=es(W[re]))[Tn]?Be.push(je):se.push(je);je=kt(B,function _a(B,W){var re=W.length>0,Be=B.length>0,se=function(je,Ze,ot,ut,jt){var Vt,zt,At,Kt=0,Qe="0",Sn=je&&[],qn=[],Xn=oe,Hn=je||Be&&A.find.TAG("*",jt),Jo=Ur+=null==Xn?1:Math.random()||.1,Ln=Hn.length;for(jt&&(oe=Ze==ke||Ze||jt);Qe!==Ln&&null!=(Vt=Hn[Qe]);Qe++){if(Be&&Vt){for(zt=0,!Ze&&Vt.ownerDocument!=ke&&(ge(Vt),ot=!Mt);At=B[zt++];)if(At(Vt,Ze||ke,ot)){ut.push(Vt);break}jt&&(Ur=Jo)}re&&((Vt=!At&&Vt)&&Kt--,je&&Sn.push(Vt))}if(Kt+=Qe,re&&Qe!==Kt){for(zt=0;At=W[zt++];)At(Sn,qn,Ze,ot);if(je){if(Kt>0)for(;Qe--;)Sn[Qe]||qn[Qe]||(qn[Qe]=Qi.call(ut));qn=gl(qn)}ps.apply(ut,qn),jt&&!je&&qn.length>0&&Kt+W.length>1&&jn.uniqueSort(ut)}return jt&&(Ur=Jo,oe=Xn),Sn};return re?Li(se):se}(se,Be)),je.selector=B}return je},G=jn.select=function(B,W,re,Be){var se,je,Ze,ot,ut,jt="function"==typeof B&&B,Vt=!Be&&V(B=jt.selector||B);if(re=re||[],1===Vt.length){if((je=Vt[0]=Vt[0].slice(0)).length>2&&"ID"===(Ze=je[0]).type&&9===W.nodeType&&Mt&&A.relative[je[1].type]){if(!(W=(A.find.ID(Ze.matches[0].replace(Xi,Ii),W)||[])[0]))return re;jt&&(W=W.parentNode),B=B.slice(je.shift().value.length)}for(se=si.needsContext.test(B)?0:je.length;se--&&!A.relative[ot=(Ze=je[se]).type];)if((ut=A.find[ot])&&(Be=ut(Ze.matches[0].replace(Xi,Ii),Yo.test(je[0].type)&&ms(W.parentNode)||W))){if(je.splice(se,1),!(B=Be.length&&ru(je)))return ps.apply(re,Be),re;break}}return(jt||K(B,Vt))(Be,W,!Mt,re,!W||Yo.test(B)&&ms(W.parentNode)||W),re},C.sortStable=Tn.split("").sort(Yi).join("")===Tn,C.detectDuplicates=!!Oe,ge(),C.sortDetached=jr(function(B){return 1&B.compareDocumentPosition(ke.createElement("fieldset"))}),jr(function(B){return B.innerHTML="<a href='#'></a>","#"===B.firstChild.getAttribute("href")})||tu("type|href|height|width",function(B,W,re){if(!re)return B.getAttribute(W,"type"===W.toLowerCase()?1:2)}),(!C.attributes||!jr(function(B){return B.innerHTML="<input/>",B.firstChild.setAttribute("value",""),""===B.firstChild.getAttribute("value")}))&&tu("value",function(B,W,re){if(!re&&"input"===B.nodeName.toLowerCase())return B.defaultValue}),jr(function(B){return null==B.getAttribute("disabled")})||tu(ma,function(B,W,re){var Be;if(!re)return!0===B[W]?W.toLowerCase():(Be=B.getAttributeNode(W))&&Be.specified?Be.value:null}),jn}(te);D.find=at,D.expr=at.selectors,D.expr[":"]=D.expr.pseudos,D.uniqueSort=D.unique=at.uniqueSort,D.text=at.getText,D.isXMLDoc=at.isXML,D.contains=at.contains,D.escapeSelector=at.escape;var pe=function(p,w,C){for(var A=[],k=void 0!==C;(p=p[w])&&9!==p.nodeType;)if(1===p.nodeType){if(k&&D(p).is(C))break;A.push(p)}return A},ue=function(p,w){for(var C=[];p;p=p.nextSibling)1===p.nodeType&&p!==w&&C.push(p);return C},be=D.expr.match.needsContext;function De(p,w){return p.nodeName&&p.nodeName.toLowerCase()===w.toLowerCase()}var Ee=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function tt(p,w,C){return Ve(w)?D.grep(p,function(A,k){return!!w.call(A,k,A)!==C}):w.nodeType?D.grep(p,function(A){return A===w!==C}):"string"!=typeof w?D.grep(p,function(A){return Ae.call(w,A)>-1!==C}):D.filter(w,p,C)}D.filter=function(p,w,C){var A=w[0];return C&&(p=":not("+p+")"),1===w.length&&1===A.nodeType?D.find.matchesSelector(A,p)?[A]:[]:D.find.matches(p,D.grep(w,function(k){return 1===k.nodeType}))},D.fn.extend({find:function(p){var w,C,A=this.length,k=this;if("string"!=typeof p)return this.pushStack(D(p).filter(function(){for(w=0;w<A;w++)if(D.contains(k[w],this))return!0}));for(C=this.pushStack([]),w=0;w<A;w++)D.find(p,k[w],C);return A>1?D.uniqueSort(C):C},filter:function(p){return this.pushStack(tt(this,p||[],!1))},not:function(p){return this.pushStack(tt(this,p||[],!0))},is:function(p){return!!tt(this,"string"==typeof p&&be.test(p)?D(p):p||[],!1).length}});var Te,Jt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,kn=D.fn.init=function(p,w,C){var A,k;if(!p)return this;if(C=C||Te,"string"==typeof p){if(!(A="<"===p[0]&&">"===p[p.length-1]&&p.length>=3?[null,p,null]:Jt.exec(p))||!A[1]&&w)return!w||w.jquery?(w||C).find(p):this.constructor(w).find(p);if(A[1]){if(D.merge(this,D.parseHTML(A[1],(w=w instanceof D?w[0]:w)&&w.nodeType?w.ownerDocument||w:_e,!0)),Ee.test(A[1])&&D.isPlainObject(w))for(A in w)Ve(this[A])?this[A](w[A]):this.attr(A,w[A]);return this}return(k=_e.getElementById(A[2]))&&(this[0]=k,this.length=1),this}return p.nodeType?(this[0]=p,this.length=1,this):Ve(p)?void 0!==C.ready?C.ready(p):p(D):D.makeArray(p,this)};kn.prototype=D.fn,Te=D(_e);var hr=/^(?:parents|prev(?:Until|All))/,Nt={children:!0,contents:!0,next:!0,prev:!0};function Ht(p,w){for(;(p=p[w])&&1!==p.nodeType;);return p}D.fn.extend({has:function(p){var w=D(p,this),C=w.length;return this.filter(function(){for(var A=0;A<C;A++)if(D.contains(this,w[A]))return!0})},closest:function(p,w){var C,A=0,k=this.length,O=[],V="string"!=typeof p&&D(p);if(!be.test(p))for(;A<k;A++)for(C=this[A];C&&C!==w;C=C.parentNode)if(C.nodeType<11&&(V?V.index(C)>-1:1===C.nodeType&&D.find.matchesSelector(C,p))){O.push(C);break}return this.pushStack(O.length>1?D.uniqueSort(O):O)},index:function(p){return p?"string"==typeof p?Ae.call(D(p),this[0]):Ae.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(p,w){return this.pushStack(D.uniqueSort(D.merge(this.get(),D(p,w))))},addBack:function(p){return this.add(null==p?this.prevObject:this.prevObject.filter(p))}}),D.each({parent:function(p){var w=p.parentNode;return w&&11!==w.nodeType?w:null},parents:function(p){return pe(p,"parentNode")},parentsUntil:function(p,w,C){return pe(p,"parentNode",C)},next:function(p){return Ht(p,"nextSibling")},prev:function(p){return Ht(p,"previousSibling")},nextAll:function(p){return pe(p,"nextSibling")},prevAll:function(p){return pe(p,"previousSibling")},nextUntil:function(p,w,C){return pe(p,"nextSibling",C)},prevUntil:function(p,w,C){return pe(p,"previousSibling",C)},siblings:function(p){return ue((p.parentNode||{}).firstChild,p)},children:function(p){return ue(p.firstChild)},contents:function(p){return null!=p.contentDocument&&fe(p.contentDocument)?p.contentDocument:(De(p,"template")&&(p=p.content||p),D.merge([],p.childNodes))}},function(p,w){D.fn[p]=function(C,A){var k=D.map(this,w,C);return"Until"!==p.slice(-5)&&(A=C),A&&"string"==typeof A&&(k=D.filter(A,k)),this.length>1&&(Nt[p]||D.uniqueSort(k),hr.test(p)&&k.reverse()),this.pushStack(k)}});var wn=/[^\x20\t\r\n\f]+/g;function zr(p){return p}function Mn(p){throw p}function as(p,w,C,A){var k;try{p&&Ve(k=p.promise)?k.call(p).done(w).fail(C):p&&Ve(k=p.then)?k.call(p,w,C):w.apply(void 0,[p].slice(A))}catch(O){C.apply(void 0,[O])}}D.Callbacks=function(p){p="string"==typeof p?function Gn(p){var w={};return D.each(p.match(wn)||[],function(C,A){w[A]=!0}),w}(p):D.extend({},p);var w,C,A,k,O=[],V=[],K=-1,G=function(){for(k=k||p.once,A=w=!0;V.length;K=-1)for(C=V.shift();++K<O.length;)!1===O[K].apply(C[0],C[1])&&p.stopOnFalse&&(K=O.length,C=!1);p.memory||(C=!1),w=!1,k&&(O=C?[]:"")},oe={add:function(){return O&&(C&&!w&&(K=O.length-1,V.push(C)),function we(Oe){D.each(Oe,function(ge,ke){Ve(ke)?(!p.unique||!oe.has(ke))&&O.push(ke):ke&&ke.length&&"string"!==$e(ke)&&we(ke)})}(arguments),C&&!w&&G()),this},remove:function(){return D.each(arguments,function(we,Oe){for(var ge;(ge=D.inArray(Oe,O,ge))>-1;)O.splice(ge,1),ge<=K&&K--}),this},has:function(we){return we?D.inArray(we,O)>-1:O.length>0},empty:function(){return O&&(O=[]),this},disable:function(){return k=V=[],O=C="",this},disabled:function(){return!O},lock:function(){return k=V=[],!C&&!w&&(O=C=""),this},locked:function(){return!!k},fireWith:function(we,Oe){return k||(Oe=[we,(Oe=Oe||[]).slice?Oe.slice():Oe],V.push(Oe),w||G()),this},fire:function(){return oe.fireWith(this,arguments),this},fired:function(){return!!A}};return oe},D.extend({Deferred:function(p){var w=[["notify","progress",D.Callbacks("memory"),D.Callbacks("memory"),2],["resolve","done",D.Callbacks("once memory"),D.Callbacks("once memory"),0,"resolved"],["reject","fail",D.Callbacks("once memory"),D.Callbacks("once memory"),1,"rejected"]],C="pending",A={state:function(){return C},always:function(){return k.done(arguments).fail(arguments),this},catch:function(O){return A.then(null,O)},pipe:function(){var O=arguments;return D.Deferred(function(V){D.each(w,function(K,G){var oe=Ve(O[G[4]])&&O[G[4]];k[G[1]](function(){var we=oe&&oe.apply(this,arguments);we&&Ve(we.promise)?we.promise().progress(V.notify).done(V.resolve).fail(V.reject):V[G[0]+"With"](this,oe?[we]:arguments)})}),O=null}).promise()},then:function(O,V,K){var G=0;function oe(we,Oe,ge,ke){return function(){var Ct=this,Mt=arguments,ft=function(){var Pn,zn;if(!(we<G)){if((Pn=ge.apply(Ct,Mt))===Oe.promise())throw new TypeError("Thenable self-resolution");Ve(zn=Pn&&("object"==typeof Pn||"function"==typeof Pn)&&Pn.then)?ke?zn.call(Pn,oe(G,Oe,zr,ke),oe(G,Oe,Mn,ke)):(G++,zn.call(Pn,oe(G,Oe,zr,ke),oe(G,Oe,Mn,ke),oe(G,Oe,zr,Oe.notifyWith))):(ge!==zr&&(Ct=void 0,Mt=[Pn]),(ke||Oe.resolveWith)(Ct,Mt))}},ir=ke?ft:function(){try{ft()}catch(Pn){D.Deferred.exceptionHook&&D.Deferred.exceptionHook(Pn,ir.stackTrace),we+1>=G&&(ge!==Mn&&(Ct=void 0,Mt=[Pn]),Oe.rejectWith(Ct,Mt))}};we?ir():(D.Deferred.getStackHook&&(ir.stackTrace=D.Deferred.getStackHook()),te.setTimeout(ir))}}return D.Deferred(function(we){w[0][3].add(oe(0,we,Ve(K)?K:zr,we.notifyWith)),w[1][3].add(oe(0,we,Ve(O)?O:zr)),w[2][3].add(oe(0,we,Ve(V)?V:Mn))}).promise()},promise:function(O){return null!=O?D.extend(O,A):A}},k={};return D.each(w,function(O,V){var K=V[2],G=V[5];A[V[1]]=K.add,G&&K.add(function(){C=G},w[3-O][2].disable,w[3-O][3].disable,w[0][2].lock,w[0][3].lock),K.add(V[3].fire),k[V[0]]=function(){return k[V[0]+"With"](this===k?void 0:this,arguments),this},k[V[0]+"With"]=K.fireWith}),A.promise(k),p&&p.call(k,k),k},when:function(p){var w=arguments.length,C=w,A=Array(C),k=Re.call(arguments),O=D.Deferred(),V=function(K){return function(G){A[K]=this,k[K]=arguments.length>1?Re.call(arguments):G,--w||O.resolveWith(A,k)}};if(w<=1&&(as(p,O.done(V(C)).resolve,O.reject,!w),"pending"===O.state()||Ve(k[C]&&k[C].then)))return O.then();for(;C--;)as(k[C],V(C),O.reject);return O.promise()}});var On=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;D.Deferred.exceptionHook=function(p,w){te.console&&te.console.warn&&p&&On.test(p.name)&&te.console.warn("jQuery.Deferred exception: "+p.message,p.stack,w)},D.readyException=function(p){te.setTimeout(function(){throw p})};var bn=D.Deferred();function wr(){_e.removeEventListener("DOMContentLoaded",wr),te.removeEventListener("load",wr),D.ready()}D.fn.ready=function(p){return bn.then(p).catch(function(w){D.readyException(w)}),this},D.extend({isReady:!1,readyWait:1,ready:function(p){(!0===p?--D.readyWait:D.isReady)||(D.isReady=!0,!(!0!==p&&--D.readyWait>0)&&bn.resolveWith(_e,[D]))}}),D.ready.then=bn.then,"complete"===_e.readyState||"loading"!==_e.readyState&&!_e.documentElement.doScroll?te.setTimeout(D.ready):(_e.addEventListener("DOMContentLoaded",wr),te.addEventListener("load",wr));var fr=function(p,w,C,A,k,O,V){var K=0,G=p.length,oe=null==C;if("object"===$e(C))for(K in k=!0,C)fr(p,w,K,C[K],!0,O,V);else if(void 0!==A&&(k=!0,Ve(A)||(V=!0),oe&&(V?(w.call(p,A),w=null):(oe=w,w=function(we,Oe,ge){return oe.call(D(we),ge)})),w))for(;K<G;K++)w(p[K],C,V?A:A.call(p[K],K,w(p[K],C)));return k?p:oe?w.call(p):G?w(p[0],C):O},qs=/^-ms-/,di=/-([a-z])/g;function us(p,w){return w.toUpperCase()}function rr(p){return p.replace(qs,"ms-").replace(di,us)}var yi=function(p){return 1===p.nodeType||9===p.nodeType||!+p.nodeType};function _i(){this.expando=D.expando+_i.uid++}_i.uid=1,_i.prototype={cache:function(p){var w=p[this.expando];return w||(w={},yi(p)&&(p.nodeType?p[this.expando]=w:Object.defineProperty(p,this.expando,{value:w,configurable:!0}))),w},set:function(p,w,C){var A,k=this.cache(p);if("string"==typeof w)k[rr(w)]=C;else for(A in w)k[rr(A)]=w[A];return k},get:function(p,w){return void 0===w?this.cache(p):p[this.expando]&&p[this.expando][rr(w)]},access:function(p,w,C){return void 0===w||w&&"string"==typeof w&&void 0===C?this.get(p,w):(this.set(p,w,C),void 0!==C?C:w)},remove:function(p,w){var C,A=p[this.expando];if(void 0!==A){if(void 0!==w)for((C=(w=Array.isArray(w)?w.map(rr):(w=rr(w))in A?[w]:w.match(wn)||[]).length);C--;)delete A[w[C]];(void 0===w||D.isEmptyObject(A))&&(p.nodeType?p[this.expando]=void 0:delete p[this.expando])}},hasData:function(p){var w=p[this.expando];return void 0!==w&&!D.isEmptyObject(w)}};var Ye=new _i,Yn=new _i,Pr=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rr=/[A-Z]/g;function Gs(p,w,C){var A;if(void 0===C&&1===p.nodeType)if(A="data-"+w.replace(Rr,"-$&").toLowerCase(),"string"==typeof(C=p.getAttribute(A))){try{C=function Ri(p){return"true"===p||"false"!==p&&("null"===p?null:p===+p+""?+p:Pr.test(p)?JSON.parse(p):p)}(C)}catch(k){}Yn.set(p,w,C)}else C=void 0;return C}D.extend({hasData:function(p){return Yn.hasData(p)||Ye.hasData(p)},data:function(p,w,C){return Yn.access(p,w,C)},removeData:function(p,w){Yn.remove(p,w)},_data:function(p,w,C){return Ye.access(p,w,C)},_removeData:function(p,w){Ye.remove(p,w)}}),D.fn.extend({data:function(p,w){var C,A,k,O=this[0],V=O&&O.attributes;if(void 0===p){if(this.length&&(k=Yn.get(O),1===O.nodeType&&!Ye.get(O,"hasDataAttrs"))){for(C=V.length;C--;)V[C]&&0===(A=V[C].name).indexOf("data-")&&(A=rr(A.slice(5)),Gs(O,A,k[A]));Ye.set(O,"hasDataAttrs",!0)}return k}return"object"==typeof p?this.each(function(){Yn.set(this,p)}):fr(this,function(K){var G;if(O&&void 0===K)return void 0!==(G=Yn.get(O,p))||void 0!==(G=Gs(O,p))?G:void 0;this.each(function(){Yn.set(this,p,K)})},null,w,arguments.length>1,null,!0)},removeData:function(p){return this.each(function(){Yn.remove(this,p)})}}),D.extend({queue:function(p,w,C){var A;if(p)return A=Ye.get(p,w=(w||"fx")+"queue"),C&&(!A||Array.isArray(C)?A=Ye.access(p,w,D.makeArray(C)):A.push(C)),A||[]},dequeue:function(p,w){var C=D.queue(p,w=w||"fx"),A=C.length,k=C.shift(),O=D._queueHooks(p,w);"inprogress"===k&&(k=C.shift(),A--),k&&("fx"===w&&C.unshift("inprogress"),delete O.stop,k.call(p,function(){D.dequeue(p,w)},O)),!A&&O&&O.empty.fire()},_queueHooks:function(p,w){var C=w+"queueHooks";return Ye.get(p,C)||Ye.access(p,C,{empty:D.Callbacks("once memory").add(function(){Ye.remove(p,[w+"queue",C])})})}}),D.fn.extend({queue:function(p,w){var C=2;return"string"!=typeof p&&(w=p,p="fx",C--),arguments.length<C?D.queue(this[0],p):void 0===w?this:this.each(function(){var A=D.queue(this,p,w);D._queueHooks(this,p),"fx"===p&&"inprogress"!==A[0]&&D.dequeue(this,p)})},dequeue:function(p){return this.each(function(){D.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||"fx",[])},promise:function(p,w){var C,A=1,k=D.Deferred(),O=this,V=this.length,K=function(){--A||k.resolveWith(O,[O])};for("string"!=typeof p&&(w=p,p=void 0),p=p||"fx";V--;)(C=Ye.get(O[V],p+"queueHooks"))&&C.empty&&(A++,C.empty.add(K));return K(),k.promise(w)}});var er=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ur=new RegExp("^(?:([+-])=|)("+er+")([a-z%]*)$","i"),Wr=["Top","Right","Bottom","Left"],Wi=_e.documentElement,gn=function(p){return D.contains(p.ownerDocument,p)},xt={composed:!0};Wi.getRootNode&&(gn=function(p){return D.contains(p.ownerDocument,p)||p.getRootNode(xt)===p.ownerDocument});var $t=function(p,w){return"none"===(p=w||p).style.display||""===p.style.display&&gn(p)&&"none"===D.css(p,"display")};function Fr(p,w,C,A){var k,O,V=20,K=A?function(){return A.cur()}:function(){return D.css(p,w,"")},G=K(),oe=C&&C[3]||(D.cssNumber[w]?"":"px"),we=p.nodeType&&(D.cssNumber[w]||"px"!==oe&&+G)&&ur.exec(D.css(p,w));if(we&&we[3]!==oe){for(oe=oe||we[3],we=+(G/=2)||1;V--;)D.style(p,w,we+oe),(1-O)*(1-(O=K()/G||.5))<=0&&(V=0),we/=O;D.style(p,w,(we*=2)+oe),C=C||[]}return C&&(we=+we||+G||0,k=C[1]?we+(C[1]+1)*C[2]:+C[2],A&&(A.unit=oe,A.start=we,A.end=k)),k}var Zi={};function Dn(p){var w,C=p.ownerDocument,A=p.nodeName,k=Zi[A];return k||(w=C.body.appendChild(C.createElement(A)),k=D.css(w,"display"),w.parentNode.removeChild(w),"none"===k&&(k="block"),Zi[A]=k,k)}function Ni(p,w){for(var C,A,k=[],O=0,V=p.length;O<V;O++)(A=p[O]).style&&(C=A.style.display,w?("none"===C&&(k[O]=Ye.get(A,"display")||null,k[O]||(A.style.display="")),""===A.style.display&&$t(A)&&(k[O]=Dn(A))):"none"!==C&&(k[O]="none",Ye.set(A,"display",C)));for(O=0;O<V;O++)null!=k[O]&&(p[O].style.display=k[O]);return p}D.fn.extend({show:function(){return Ni(this,!0)},hide:function(){return Ni(this)},toggle:function(p){return"boolean"==typeof p?p?this.show():this.hide():this.each(function(){$t(this)?D(this).show():D(this).hide()})}});var w,C,br=/^(?:checkbox|radio)$/i,Lr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Pt=/^$|^module$|\/(?:java|ecma)script/i;w=_e.createDocumentFragment().appendChild(_e.createElement("div")),(C=_e.createElement("input")).setAttribute("type","radio"),C.setAttribute("checked","checked"),C.setAttribute("name","t"),w.appendChild(C),He.checkClone=w.cloneNode(!0).cloneNode(!0).lastChild.checked,w.innerHTML="<textarea>x</textarea>",He.noCloneChecked=!!w.cloneNode(!0).lastChild.defaultValue,w.innerHTML="<option></option>",He.option=!!w.lastChild;var Qn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function qt(p,w){var C;return C=void 0!==p.getElementsByTagName?p.getElementsByTagName(w||"*"):void 0!==p.querySelectorAll?p.querySelectorAll(w||"*"):[],void 0===w||w&&De(p,w)?D.merge([p],C):C}function vt(p,w){for(var C=0,A=p.length;C<A;C++)Ye.set(p[C],"globalEval",!w||Ye.get(w[C],"globalEval"))}Qn.tbody=Qn.tfoot=Qn.colgroup=Qn.caption=Qn.thead,Qn.th=Qn.td,He.option||(Qn.optgroup=Qn.option=[1,"<select multiple='multiple'>","</select>"]);var ze=/<|&#?\w+;/;function wt(p,w,C,A,k){for(var O,V,K,G,oe,we,Oe=w.createDocumentFragment(),ge=[],ke=0,Ct=p.length;ke<Ct;ke++)if((O=p[ke])||0===O)if("object"===$e(O))D.merge(ge,O.nodeType?[O]:O);else if(ze.test(O)){for(V=V||Oe.appendChild(w.createElement("div")),K=(Lr.exec(O)||["",""])[1].toLowerCase(),V.innerHTML=(G=Qn[K]||Qn._default)[1]+D.htmlPrefilter(O)+G[2],we=G[0];we--;)V=V.lastChild;D.merge(ge,V.childNodes),(V=Oe.firstChild).textContent=""}else ge.push(w.createTextNode(O));for(Oe.textContent="",ke=0;O=ge[ke++];)if(A&&D.inArray(O,A)>-1)k&&k.push(O);else if(oe=gn(O),V=qt(Oe.appendChild(O),"script"),oe&&vt(V),C)for(we=0;O=V[we++];)Pt.test(O.type||"")&&C.push(O);return Oe}var Ft=/^([^.]*)(?:\.(.+)|)/;function ln(){return!0}function rn(){return!1}function Q(p,w){return p===function Z(){try{return _e.activeElement}catch(p){}}()==("focus"===w)}function ne(p,w,C,A,k,O){var V,K;if("object"==typeof w){for(K in"string"!=typeof C&&(A=A||C,C=void 0),w)ne(p,K,C,A,w[K],O);return p}if(null==A&&null==k?(k=C,A=C=void 0):null==k&&("string"==typeof C?(k=A,A=void 0):(k=A,A=C,C=void 0)),!1===k)k=rn;else if(!k)return p;return 1===O&&(V=k,k=function(G){return D().off(G),V.apply(this,arguments)},k.guid=V.guid||(V.guid=D.guid++)),p.each(function(){D.event.add(this,w,k,A,C)})}function xe(p,w,C){C?(Ye.set(p,w,!1),D.event.add(p,w,{namespace:!1,handler:function(A){var k,O,V=Ye.get(this,w);if(1&A.isTrigger&&this[w]){if(V.length)(D.event.special[w]||{}).delegateType&&A.stopPropagation();else if(V=Re.call(arguments),Ye.set(this,w,V),k=C(this,w),this[w](),V!==(O=Ye.get(this,w))||k?Ye.set(this,w,!1):O={},V!==O)return A.stopImmediatePropagation(),A.preventDefault(),O&&O.value}else V.length&&(Ye.set(this,w,{value:D.event.trigger(D.extend(V[0],D.Event.prototype),V.slice(1),this)}),A.stopImmediatePropagation())}})):void 0===Ye.get(p,w)&&D.event.add(p,w,ln)}D.event={global:{},add:function(p,w,C,A,k){var O,V,K,G,oe,we,Oe,ge,ke,Ct,Mt,ft=Ye.get(p);if(yi(p))for(C.handler&&(C=(O=C).handler,k=O.selector),k&&D.find.matchesSelector(Wi,k),C.guid||(C.guid=D.guid++),(G=ft.events)||(G=ft.events=Object.create(null)),(V=ft.handle)||(V=ft.handle=function(ir){return void 0!==D&&D.event.triggered!==ir.type?D.event.dispatch.apply(p,arguments):void 0}),oe=(w=(w||"").match(wn)||[""]).length;oe--;)ke=Mt=(K=Ft.exec(w[oe])||[])[1],Ct=(K[2]||"").split(".").sort(),ke&&(Oe=D.event.special[ke]||{},Oe=D.event.special[ke=(k?Oe.delegateType:Oe.bindType)||ke]||{},we=D.extend({type:ke,origType:Mt,data:A,handler:C,guid:C.guid,selector:k,needsContext:k&&D.expr.match.needsContext.test(k),namespace:Ct.join(".")},O),(ge=G[ke])||((ge=G[ke]=[]).delegateCount=0,(!Oe.setup||!1===Oe.setup.call(p,A,Ct,V))&&p.addEventListener&&p.addEventListener(ke,V)),Oe.add&&(Oe.add.call(p,we),we.handler.guid||(we.handler.guid=C.guid)),k?ge.splice(ge.delegateCount++,0,we):ge.push(we),D.event.global[ke]=!0)},remove:function(p,w,C,A,k){var O,V,K,G,oe,we,Oe,ge,ke,Ct,Mt,ft=Ye.hasData(p)&&Ye.get(p);if(ft&&(G=ft.events)){for(oe=(w=(w||"").match(wn)||[""]).length;oe--;)if(ke=Mt=(K=Ft.exec(w[oe])||[])[1],Ct=(K[2]||"").split(".").sort(),ke){for(Oe=D.event.special[ke]||{},ge=G[ke=(A?Oe.delegateType:Oe.bindType)||ke]||[],K=K[2]&&new RegExp("(^|\\.)"+Ct.join("\\.(?:.*\\.|)")+"(\\.|$)"),V=O=ge.length;O--;)we=ge[O],(k||Mt===we.origType)&&(!C||C.guid===we.guid)&&(!K||K.test(we.namespace))&&(!A||A===we.selector||"**"===A&&we.selector)&&(ge.splice(O,1),we.selector&&ge.delegateCount--,Oe.remove&&Oe.remove.call(p,we));V&&!ge.length&&((!Oe.teardown||!1===Oe.teardown.call(p,Ct,ft.handle))&&D.removeEvent(p,ke,ft.handle),delete G[ke])}else for(ke in G)D.event.remove(p,ke+w[oe],C,A,!0);D.isEmptyObject(G)&&Ye.remove(p,"handle events")}},dispatch:function(p){var w,C,A,k,O,V,K=new Array(arguments.length),G=D.event.fix(p),oe=(Ye.get(this,"events")||Object.create(null))[G.type]||[],we=D.event.special[G.type]||{};for(K[0]=G,w=1;w<arguments.length;w++)K[w]=arguments[w];if(G.delegateTarget=this,!we.preDispatch||!1!==we.preDispatch.call(this,G)){for(V=D.event.handlers.call(this,G,oe),w=0;(k=V[w++])&&!G.isPropagationStopped();)for(G.currentTarget=k.elem,C=0;(O=k.handlers[C++])&&!G.isImmediatePropagationStopped();)(!G.rnamespace||!1===O.namespace||G.rnamespace.test(O.namespace))&&(G.handleObj=O,G.data=O.data,void 0!==(A=((D.event.special[O.origType]||{}).handle||O.handler).apply(k.elem,K))&&!1===(G.result=A)&&(G.preventDefault(),G.stopPropagation()));return we.postDispatch&&we.postDispatch.call(this,G),G.result}},handlers:function(p,w){var C,A,k,O,V,K=[],G=w.delegateCount,oe=p.target;if(G&&oe.nodeType&&!("click"===p.type&&p.button>=1))for(;oe!==this;oe=oe.parentNode||this)if(1===oe.nodeType&&("click"!==p.type||!0!==oe.disabled)){for(O=[],V={},C=0;C<G;C++)void 0===V[k=(A=w[C]).selector+" "]&&(V[k]=A.needsContext?D(k,this).index(oe)>-1:D.find(k,this,null,[oe]).length),V[k]&&O.push(A);O.length&&K.push({elem:oe,handlers:O})}return oe=this,G<w.length&&K.push({elem:oe,handlers:w.slice(G)}),K},addProp:function(p,w){Object.defineProperty(D.Event.prototype,p,{enumerable:!0,configurable:!0,get:Ve(w)?function(){if(this.originalEvent)return w(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(C){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:C})}})},fix:function(p){return p[D.expando]?p:new D.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){var w=this||p;return br.test(w.type)&&w.click&&De(w,"input")&&xe(w,"click",ln),!1},trigger:function(p){var w=this||p;return br.test(w.type)&&w.click&&De(w,"input")&&xe(w,"click"),!0},_default:function(p){var w=p.target;return br.test(w.type)&&w.click&&De(w,"input")&&Ye.get(w,"click")||De(w,"a")}},beforeunload:{postDispatch:function(p){void 0!==p.result&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}},D.removeEvent=function(p,w,C){p.removeEventListener&&p.removeEventListener(w,C)},D.Event=function(p,w){if(!(this instanceof D.Event))return new D.Event(p,w);p&&p.type?(this.originalEvent=p,this.type=p.type,this.isDefaultPrevented=p.defaultPrevented||void 0===p.defaultPrevented&&!1===p.returnValue?ln:rn,this.target=p.target&&3===p.target.nodeType?p.target.parentNode:p.target,this.currentTarget=p.currentTarget,this.relatedTarget=p.relatedTarget):this.type=p,w&&D.extend(this,w),this.timeStamp=p&&p.timeStamp||Date.now(),this[D.expando]=!0},D.Event.prototype={constructor:D.Event,isDefaultPrevented:rn,isPropagationStopped:rn,isImmediatePropagationStopped:rn,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=ln,p&&!this.isSimulated&&p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=ln,p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=ln,p&&!this.isSimulated&&p.stopImmediatePropagation(),this.stopPropagation()}},D.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},D.event.addProp),D.each({focus:"focusin",blur:"focusout"},function(p,w){D.event.special[p]={setup:function(){return xe(this,p,Q),!1},trigger:function(){return xe(this,p),!0},_default:function(){return!0},delegateType:w}}),D.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(p,w){D.event.special[p]={delegateType:w,bindType:w,handle:function(C){var A,k=this,O=C.relatedTarget,V=C.handleObj;return(!O||O!==k&&!D.contains(k,O))&&(C.type=V.origType,A=V.handler.apply(this,arguments),C.type=w),A}}}),D.fn.extend({on:function(p,w,C,A){return ne(this,p,w,C,A)},one:function(p,w,C,A){return ne(this,p,w,C,A,1)},off:function(p,w,C){var A,k;if(p&&p.preventDefault&&p.handleObj)return A=p.handleObj,D(p.delegateTarget).off(A.namespace?A.origType+"."+A.namespace:A.origType,A.selector,A.handler),this;if("object"==typeof p){for(k in p)this.off(k,w,p[k]);return this}return(!1===w||"function"==typeof w)&&(C=w,w=void 0),!1===C&&(C=rn),this.each(function(){D.event.remove(this,p,C,w)})}});var he=/<script|<style|<link/i,lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function xn(p,w){return De(p,"table")&&De(11!==w.nodeType?w:w.firstChild,"tr")&&D(p).children("tbody")[0]||p}function ni(p){return p.type=(null!==p.getAttribute("type"))+"/"+p.type,p}function An(p){return"true/"===(p.type||"").slice(0,5)?p.type=p.type.slice(5):p.removeAttribute("type"),p}function sr(p,w){var C,A,k,V,K,G;if(1===w.nodeType){if(Ye.hasData(p)&&(G=Ye.get(p).events))for(k in Ye.remove(w,"handle events"),G)for(C=0,A=G[k].length;C<A;C++)D.event.add(w,k,G[k][C]);Yn.hasData(p)&&(V=Yn.access(p),K=D.extend({},V),Yn.set(w,K))}}function dn(p,w){var C=w.nodeName.toLowerCase();"input"===C&&br.test(p.type)?w.checked=p.checked:("input"===C||"textarea"===C)&&(w.defaultValue=p.defaultValue)}function Rn(p,w,C,A){w=Ie(w);var k,O,V,K,G,oe,we=0,Oe=p.length,ge=Oe-1,ke=w[0],Ct=Ve(ke);if(Ct||Oe>1&&"string"==typeof ke&&!He.checkClone&&lt.test(ke))return p.each(function(Mt){var ft=p.eq(Mt);Ct&&(w[0]=ke.call(this,Mt,ft.html())),Rn(ft,w,C,A)});if(Oe&&(O=(k=wt(w,p[0].ownerDocument,!1,p,A)).firstChild,1===k.childNodes.length&&(k=O),O||A)){for(K=(V=D.map(qt(k,"script"),ni)).length;we<Oe;we++)G=k,we!==ge&&(G=D.clone(G,!0,!0),K&&D.merge(V,qt(G,"script"))),C.call(p[we],G,we);if(K)for(oe=V[V.length-1].ownerDocument,D.map(V,An),we=0;we<K;we++)Pt.test((G=V[we]).type||"")&&!Ye.access(G,"globalEval")&&D.contains(oe,G)&&(G.src&&"module"!==(G.type||"").toLowerCase()?D._evalUrl&&!G.noModule&&D._evalUrl(G.src,{nonce:G.nonce||G.getAttribute("nonce")},oe):_t(G.textContent.replace(Gt,""),G,oe))}return p}function Nr(p,w,C){for(var A,k=w?D.filter(w,p):p,O=0;null!=(A=k[O]);O++)!C&&1===A.nodeType&&D.cleanData(qt(A)),A.parentNode&&(C&&gn(A)&&vt(qt(A,"script")),A.parentNode.removeChild(A));return p}D.extend({htmlPrefilter:function(p){return p},clone:function(p,w,C){var A,k,O,V,K=p.cloneNode(!0),G=gn(p);if(!(He.noCloneChecked||1!==p.nodeType&&11!==p.nodeType||D.isXMLDoc(p)))for(V=qt(K),A=0,k=(O=qt(p)).length;A<k;A++)dn(O[A],V[A]);if(w)if(C)for(O=O||qt(p),V=V||qt(K),A=0,k=O.length;A<k;A++)sr(O[A],V[A]);else sr(p,K);return(V=qt(K,"script")).length>0&&vt(V,!G&&qt(p,"script")),K},cleanData:function(p){for(var w,C,A,k=D.event.special,O=0;void 0!==(C=p[O]);O++)if(yi(C)){if(w=C[Ye.expando]){if(w.events)for(A in w.events)k[A]?D.event.remove(C,A):D.removeEvent(C,A,w.handle);C[Ye.expando]=void 0}C[Yn.expando]&&(C[Yn.expando]=void 0)}}}),D.fn.extend({detach:function(p){return Nr(this,p,!0)},remove:function(p){return Nr(this,p)},text:function(p){return fr(this,function(w){return void 0===w?D.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=w)})},null,p,arguments.length)},append:function(){return Rn(this,arguments,function(p){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||xn(this,p).appendChild(p)})},prepend:function(){return Rn(this,arguments,function(p){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var w=xn(this,p);w.insertBefore(p,w.firstChild)}})},before:function(){return Rn(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return Rn(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,w=0;null!=(p=this[w]);w++)1===p.nodeType&&(D.cleanData(qt(p,!1)),p.textContent="");return this},clone:function(p,w){return p=null!=p&&p,w=null==w?p:w,this.map(function(){return D.clone(this,p,w)})},html:function(p){return fr(this,function(w){var C=this[0]||{},A=0,k=this.length;if(void 0===w&&1===C.nodeType)return C.innerHTML;if("string"==typeof w&&!he.test(w)&&!Qn[(Lr.exec(w)||["",""])[1].toLowerCase()]){w=D.htmlPrefilter(w);try{for(;A<k;A++)1===(C=this[A]||{}).nodeType&&(D.cleanData(qt(C,!1)),C.innerHTML=w);C=0}catch(O){}}C&&this.empty().append(w)},null,p,arguments.length)},replaceWith:function(){var p=[];return Rn(this,arguments,function(w){var C=this.parentNode;D.inArray(this,p)<0&&(D.cleanData(qt(this)),C&&C.replaceChild(w,this))},p)}}),D.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,w){D.fn[p]=function(C){for(var A,k=[],O=D(C),V=O.length-1,K=0;K<=V;K++)A=K===V?this:this.clone(!0),D(O[K])[w](A),Ne.apply(k,A.get());return this.pushStack(k)}});var xs=new RegExp("^("+er+")(?!px)[a-z%]+$","i"),bo=function(p){var w=p.ownerDocument.defaultView;return(!w||!w.opener)&&(w=te),w.getComputedStyle(p)},$o=function(p,w,C){var A,k,O={};for(k in w)O[k]=p.style[k],p.style[k]=w[k];for(k in A=C.call(p),w)p.style[k]=O[k];return A},Ms=new RegExp(Wr.join("|"),"i");function or(p,w,C){var A,k,O,V,K=p.style;return(C=C||bo(p))&&(""===(V=C.getPropertyValue(w)||C[w])&&!gn(p)&&(V=D.style(p,w)),!He.pixelBoxStyles()&&xs.test(V)&&Ms.test(w)&&(A=K.width,k=K.minWidth,O=K.maxWidth,K.minWidth=K.maxWidth=K.width=V,V=C.width,K.width=A,K.minWidth=k,K.maxWidth=O)),void 0!==V?V+"":V}function qo(p,w){return{get:function(){if(!p())return(this.get=w).apply(this,arguments);delete this.get}}}!function(){function p(){if(oe){G.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",oe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Wi.appendChild(G).appendChild(oe);var we=te.getComputedStyle(oe);C="1%"!==we.top,K=12===w(we.marginLeft),oe.style.right="60%",O=36===w(we.right),A=36===w(we.width),oe.style.position="absolute",k=12===w(oe.offsetWidth/3),Wi.removeChild(G),oe=null}}function w(we){return Math.round(parseFloat(we))}var C,A,k,O,V,K,G=_e.createElement("div"),oe=_e.createElement("div");!oe.style||(oe.style.backgroundClip="content-box",oe.cloneNode(!0).style.backgroundClip="",He.clearCloneStyle="content-box"===oe.style.backgroundClip,D.extend(He,{boxSizingReliable:function(){return p(),A},pixelBoxStyles:function(){return p(),O},pixelPosition:function(){return p(),C},reliableMarginLeft:function(){return p(),K},scrollboxSize:function(){return p(),k},reliableTrDimensions:function(){var we,Oe,ge,ke;return null==V&&(we=_e.createElement("table"),Oe=_e.createElement("tr"),ge=_e.createElement("div"),we.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Oe.style.cssText="border:1px solid",Oe.style.height="1px",ge.style.height="9px",ge.style.display="block",Wi.appendChild(we).appendChild(Oe).appendChild(ge),ke=te.getComputedStyle(Oe),V=parseInt(ke.height,10)+parseInt(ke.borderTopWidth,10)+parseInt(ke.borderBottomWidth,10)===Oe.offsetHeight,Wi.removeChild(we)),V}}))}();var vi=["Webkit","Moz","ms"],rt=_e.createElement("div").style,hn={};function kr(p){return D.cssProps[p]||hn[p]||(p in rt?p:hn[p]=function Jn(p){for(var w=p[0].toUpperCase()+p.slice(1),C=vi.length;C--;)if((p=vi[C]+w)in rt)return p}(p)||p)}var zs=/^(none|table(?!-c[ea]).+)/,pr=/^--/,ls={position:"absolute",visibility:"hidden",display:"block"},Un={letterSpacing:"0",fontWeight:"400"};function lr(p,w,C){var A=ur.exec(w);return A?Math.max(0,A[2]-(C||0))+(A[3]||"px"):w}function cs(p,w,C,A,k,O){var V="width"===w?1:0,K=0,G=0;if(C===(A?"border":"content"))return 0;for(;V<4;V+=2)"margin"===C&&(G+=D.css(p,C+Wr[V],!0,k)),A?("content"===C&&(G-=D.css(p,"padding"+Wr[V],!0,k)),"margin"!==C&&(G-=D.css(p,"border"+Wr[V]+"Width",!0,k))):(G+=D.css(p,"padding"+Wr[V],!0,k),"padding"!==C?G+=D.css(p,"border"+Wr[V]+"Width",!0,k):K+=D.css(p,"border"+Wr[V]+"Width",!0,k));return!A&&O>=0&&(G+=Math.max(0,Math.ceil(p["offset"+w[0].toUpperCase()+w.slice(1)]-O-G-K-.5))||0),G}function on(p,w,C){var A=bo(p),O=(!He.boxSizingReliable()||C)&&"border-box"===D.css(p,"boxSizing",!1,A),V=O,K=or(p,w,A),G="offset"+w[0].toUpperCase()+w.slice(1);if(xs.test(K)){if(!C)return K;K="auto"}return(!He.boxSizingReliable()&&O||!He.reliableTrDimensions()&&De(p,"tr")||"auto"===K||!parseFloat(K)&&"inline"===D.css(p,"display",!1,A))&&p.getClientRects().length&&(O="border-box"===D.css(p,"boxSizing",!1,A),(V=G in p)&&(K=p[G])),(K=parseFloat(K)||0)+cs(p,w,C||(O?"border":"content"),V,A,K)+"px"}function Er(p,w,C,A,k){return new Er.prototype.init(p,w,C,A,k)}D.extend({cssHooks:{opacity:{get:function(p,w){if(w){var C=or(p,"opacity");return""===C?"1":C}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(p,w,C,A){if(p&&3!==p.nodeType&&8!==p.nodeType&&p.style){var k,O,V,K=rr(w),G=pr.test(w),oe=p.style;if(G||(w=kr(K)),V=D.cssHooks[w]||D.cssHooks[K],void 0===C)return V&&"get"in V&&void 0!==(k=V.get(p,!1,A))?k:oe[w];if("string"==(O=typeof C)&&(k=ur.exec(C))&&k[1]&&(C=Fr(p,w,k),O="number"),null==C||C!=C)return;"number"===O&&!G&&(C+=k&&k[3]||(D.cssNumber[K]?"":"px")),!He.clearCloneStyle&&""===C&&0===w.indexOf("background")&&(oe[w]="inherit"),(!V||!("set"in V)||void 0!==(C=V.set(p,C,A)))&&(G?oe.setProperty(w,C):oe[w]=C)}},css:function(p,w,C,A){var k,O,V,K=rr(w);return pr.test(w)||(w=kr(K)),(V=D.cssHooks[w]||D.cssHooks[K])&&"get"in V&&(k=V.get(p,!0,C)),void 0===k&&(k=or(p,w,A)),"normal"===k&&w in Un&&(k=Un[w]),""===C||C?(O=parseFloat(k),!0===C||isFinite(O)?O||0:k):k}}),D.each(["height","width"],function(p,w){D.cssHooks[w]={get:function(C,A,k){if(A)return!zs.test(D.css(C,"display"))||C.getClientRects().length&&C.getBoundingClientRect().width?on(C,w,k):$o(C,ls,function(){return on(C,w,k)})},set:function(C,A,k){var O,V=bo(C),K=!He.scrollboxSize()&&"absolute"===V.position,oe=(K||k)&&"border-box"===D.css(C,"boxSizing",!1,V),we=k?cs(C,w,k,oe,V):0;return oe&&K&&(we-=Math.ceil(C["offset"+w[0].toUpperCase()+w.slice(1)]-parseFloat(V[w])-cs(C,w,"border",!1,V)-.5)),we&&(O=ur.exec(A))&&"px"!==(O[3]||"px")&&(C.style[w]=A,A=D.css(C,w)),lr(0,A,we)}}}),D.cssHooks.marginLeft=qo(He.reliableMarginLeft,function(p,w){if(w)return(parseFloat(or(p,"marginLeft"))||p.getBoundingClientRect().left-$o(p,{marginLeft:0},function(){return p.getBoundingClientRect().left}))+"px"}),D.each({margin:"",padding:"",border:"Width"},function(p,w){D.cssHooks[p+w]={expand:function(C){for(var A=0,k={},O="string"==typeof C?C.split(" "):[C];A<4;A++)k[p+Wr[A]+w]=O[A]||O[A-2]||O[0];return k}},"margin"!==p&&(D.cssHooks[p+w].set=lr)}),D.fn.extend({css:function(p,w){return fr(this,function(C,A,k){var O,V,K={},G=0;if(Array.isArray(A)){for(O=bo(C),V=A.length;G<V;G++)K[A[G]]=D.css(C,A[G],!1,O);return K}return void 0!==k?D.style(C,A,k):D.css(C,A)},p,w,arguments.length>1)}}),D.Tween=Er,(Er.prototype={constructor:Er,init:function(p,w,C,A,k,O){this.elem=p,this.prop=C,this.easing=k||D.easing._default,this.options=w,this.start=this.now=this.cur(),this.end=A,this.unit=O||(D.cssNumber[C]?"":"px")},cur:function(){var p=Er.propHooks[this.prop];return p&&p.get?p.get(this):Er.propHooks._default.get(this)},run:function(p){var w,C=Er.propHooks[this.prop];return this.pos=w=this.options.duration?D.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):p,this.now=(this.end-this.start)*w+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),C&&C.set?C.set(this):Er.propHooks._default.set(this),this}}).init.prototype=Er.prototype,(Er.propHooks={_default:{get:function(p){var w;return 1!==p.elem.nodeType||null!=p.elem[p.prop]&&null==p.elem.style[p.prop]?p.elem[p.prop]:(w=D.css(p.elem,p.prop,""))&&"auto"!==w?w:0},set:function(p){D.fx.step[p.prop]?D.fx.step[p.prop](p):1!==p.elem.nodeType||!D.cssHooks[p.prop]&&null==p.elem.style[kr(p.prop)]?p.elem[p.prop]=p.now:D.style(p.elem,p.prop,p.now+p.unit)}}}).scrollTop=Er.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}},D.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},D.fx=Er.prototype.init,D.fx.step={};var ki,Ws,Zs=/^(?:toggle|show|hide)$/,Vr=/queueHooks$/;function Ki(){Ws&&(!1===_e.hidden&&te.requestAnimationFrame?te.requestAnimationFrame(Ki):te.setTimeout(Ki,D.fx.interval),D.fx.tick())}function ds(){return te.setTimeout(function(){ki=void 0}),ki=Date.now()}function gr(p,w){var C,A=0,k={height:p};for(w=w?1:0;A<4;A+=2-w)k["margin"+(C=Wr[A])]=k["padding"+C]=p;return w&&(k.opacity=k.width=p),k}function Bn(p,w,C){for(var A,k=(cr.tweeners[w]||[]).concat(cr.tweeners["*"]),O=0,V=k.length;O<V;O++)if(A=k[O].call(C,w,p))return A}function cr(p,w,C){var A,k,O=0,V=cr.prefilters.length,K=D.Deferred().always(function(){delete G.elem}),G=function(){if(k)return!1;for(var Oe=ki||ds(),ge=Math.max(0,oe.startTime+oe.duration-Oe),Ct=1-(ge/oe.duration||0),Mt=0,ft=oe.tweens.length;Mt<ft;Mt++)oe.tweens[Mt].run(Ct);return K.notifyWith(p,[oe,Ct,ge]),Ct<1&&ft?ge:(ft||K.notifyWith(p,[oe,1,0]),K.resolveWith(p,[oe]),!1)},oe=K.promise({elem:p,props:D.extend({},w),opts:D.extend(!0,{specialEasing:{},easing:D.easing._default},C),originalProperties:w,originalOptions:C,startTime:ki||ds(),duration:C.duration,tweens:[],createTween:function(Oe,ge){var ke=D.Tween(p,oe.opts,Oe,ge,oe.opts.specialEasing[Oe]||oe.opts.easing);return oe.tweens.push(ke),ke},stop:function(Oe){var ge=0,ke=Oe?oe.tweens.length:0;if(k)return this;for(k=!0;ge<ke;ge++)oe.tweens[ge].run(1);return Oe?(K.notifyWith(p,[oe,1,0]),K.resolveWith(p,[oe,Oe])):K.rejectWith(p,[oe,Oe]),this}}),we=oe.props;for(function Ba(p,w){var C,A,k,O,V;for(C in p)if(k=w[A=rr(C)],O=p[C],Array.isArray(O)&&(k=O[1],O=p[C]=O[0]),C!==A&&(p[A]=O,delete p[C]),(V=D.cssHooks[A])&&"expand"in V)for(C in O=V.expand(O),delete p[A],O)C in p||(p[C]=O[C],w[C]=k);else w[A]=k}(we,oe.opts.specialEasing);O<V;O++)if(A=cr.prefilters[O].call(oe,p,we,oe.opts))return Ve(A.stop)&&(D._queueHooks(oe.elem,oe.opts.queue).stop=A.stop.bind(A)),A;return D.map(we,Bn,oe),Ve(oe.opts.start)&&oe.opts.start.call(p,oe),oe.progress(oe.opts.progress).done(oe.opts.done,oe.opts.complete).fail(oe.opts.fail).always(oe.opts.always),D.fx.timer(D.extend(G,{elem:p,anim:oe,queue:oe.opts.queue})),oe}D.Animation=D.extend(cr,{tweeners:{"*":[function(p,w){var C=this.createTween(p,w);return Fr(C.elem,p,ur.exec(w),C),C}]},tweener:function(p,w){Ve(p)?(w=p,p=["*"]):p=p.match(wn);for(var C,A=0,k=p.length;A<k;A++)(cr.tweeners[C=p[A]]=cr.tweeners[C]||[]).unshift(w)},prefilters:[function Ua(p,w,C){var A,k,O,V,K,G,oe,we,Oe="width"in w||"height"in w,ge=this,ke={},Ct=p.style,Mt=p.nodeType&&$t(p),ft=Ye.get(p,"fxshow");for(A in C.queue||(null==(V=D._queueHooks(p,"fx")).unqueued&&(V.unqueued=0,K=V.empty.fire,V.empty.fire=function(){V.unqueued||K()}),V.unqueued++,ge.always(function(){ge.always(function(){V.unqueued--,D.queue(p,"fx").length||V.empty.fire()})})),w)if(Zs.test(k=w[A])){if(delete w[A],O=O||"toggle"===k,k===(Mt?"hide":"show")){if("show"!==k||!ft||void 0===ft[A])continue;Mt=!0}ke[A]=ft&&ft[A]||D.style(p,A)}if((G=!D.isEmptyObject(w))||!D.isEmptyObject(ke))for(A in Oe&&1===p.nodeType&&(C.overflow=[Ct.overflow,Ct.overflowX,Ct.overflowY],null==(oe=ft&&ft.display)&&(oe=Ye.get(p,"display")),"none"===(we=D.css(p,"display"))&&(oe?we=oe:(Ni([p],!0),oe=p.style.display||oe,we=D.css(p,"display"),Ni([p]))),("inline"===we||"inline-block"===we&&null!=oe)&&"none"===D.css(p,"float")&&(G||(ge.done(function(){Ct.display=oe}),null==oe&&(oe="none"===(we=Ct.display)?"":we)),Ct.display="inline-block")),C.overflow&&(Ct.overflow="hidden",ge.always(function(){Ct.overflow=C.overflow[0],Ct.overflowX=C.overflow[1],Ct.overflowY=C.overflow[2]})),G=!1,ke)G||(ft?"hidden"in ft&&(Mt=ft.hidden):ft=Ye.access(p,"fxshow",{display:oe}),O&&(ft.hidden=!Mt),Mt&&Ni([p],!0),ge.done(function(){for(A in Mt||Ni([p]),Ye.remove(p,"fxshow"),ke)D.style(p,A,ke[A])})),G=Bn(Mt?ft[A]:0,A,ge),A in ft||(ft[A]=G.start,Mt&&(G.end=G.start,G.start=0))}],prefilter:function(p,w){w?cr.prefilters.unshift(p):cr.prefilters.push(p)}}),D.speed=function(p,w,C){var A=p&&"object"==typeof p?D.extend({},p):{complete:C||!C&&w||Ve(p)&&p,duration:p,easing:C&&w||w&&!Ve(w)&&w};return D.fx.off?A.duration=0:"number"!=typeof A.duration&&(A.duration=A.duration in D.fx.speeds?D.fx.speeds[A.duration]:D.fx.speeds._default),(null==A.queue||!0===A.queue)&&(A.queue="fx"),A.old=A.complete,A.complete=function(){Ve(A.old)&&A.old.call(this),A.queue&&D.dequeue(this,A.queue)},A},D.fn.extend({fadeTo:function(p,w,C,A){return this.filter($t).css("opacity",0).show().end().animate({opacity:w},p,C,A)},animate:function(p,w,C,A){var k=D.isEmptyObject(p),O=D.speed(w,C,A),V=function(){var K=cr(this,D.extend({},p),O);(k||Ye.get(this,"finish"))&&K.stop(!0)};return V.finish=V,k||!1===O.queue?this.each(V):this.queue(O.queue,V)},stop:function(p,w,C){var A=function(k){var O=k.stop;delete k.stop,O(C)};return"string"!=typeof p&&(C=w,w=p,p=void 0),w&&this.queue(p||"fx",[]),this.each(function(){var k=!0,O=null!=p&&p+"queueHooks",V=D.timers,K=Ye.get(this);if(O)K[O]&&K[O].stop&&A(K[O]);else for(O in K)K[O]&&K[O].stop&&Vr.test(O)&&A(K[O]);for(O=V.length;O--;)V[O].elem===this&&(null==p||V[O].queue===p)&&(V[O].anim.stop(C),k=!1,V.splice(O,1));(k||!C)&&D.dequeue(this,p)})},finish:function(p){return!1!==p&&(p=p||"fx"),this.each(function(){var w,C=Ye.get(this),A=C[p+"queue"],k=C[p+"queueHooks"],O=D.timers,V=A?A.length:0;for(C.finish=!0,D.queue(this,p,[]),k&&k.stop&&k.stop.call(this,!0),w=O.length;w--;)O[w].elem===this&&O[w].queue===p&&(O[w].anim.stop(!0),O.splice(w,1));for(w=0;w<V;w++)A[w]&&A[w].finish&&A[w].finish.call(this);delete C.finish})}}),D.each(["toggle","show","hide"],function(p,w){var C=D.fn[w];D.fn[w]=function(A,k,O){return null==A||"boolean"==typeof A?C.apply(this,arguments):this.animate(gr(w,!0),A,k,O)}}),D.each({slideDown:gr("show"),slideUp:gr("hide"),slideToggle:gr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(p,w){D.fn[p]=function(C,A,k){return this.animate(w,C,A,k)}}),D.timers=[],D.fx.tick=function(){var p,w=0,C=D.timers;for(ki=Date.now();w<C.length;w++)!(p=C[w])()&&C[w]===p&&C.splice(w--,1);C.length||D.fx.stop(),ki=void 0},D.fx.timer=function(p){D.timers.push(p),D.fx.start()},D.fx.interval=13,D.fx.start=function(){Ws||(Ws=!0,Ki())},D.fx.stop=function(){Ws=null},D.fx.speeds={slow:600,fast:200,_default:400},D.fn.delay=function(p,w){return p=D.fx&&D.fx.speeds[p]||p,this.queue(w=w||"fx",function(C,A){var k=te.setTimeout(C,p);A.stop=function(){te.clearTimeout(k)}})},function(){var p=_e.createElement("input"),C=_e.createElement("select").appendChild(_e.createElement("option"));p.type="checkbox",He.checkOn=""!==p.value,He.optSelected=C.selected,(p=_e.createElement("input")).value="t",p.type="radio",He.radioValue="t"===p.value}();var wi,Go=D.expr.attrHandle;D.fn.extend({attr:function(p,w){return fr(this,D.attr,p,w,arguments.length>1)},removeAttr:function(p){return this.each(function(){D.removeAttr(this,p)})}}),D.extend({attr:function(p,w,C){var A,k,O=p.nodeType;if(3!==O&&8!==O&&2!==O)return void 0===p.getAttribute?D.prop(p,w,C):((1!==O||!D.isXMLDoc(p))&&(k=D.attrHooks[w.toLowerCase()]||(D.expr.match.bool.test(w)?wi:void 0)),void 0!==C?null===C?void D.removeAttr(p,w):k&&"set"in k&&void 0!==(A=k.set(p,C,w))?A:(p.setAttribute(w,C+""),C):k&&"get"in k&&null!==(A=k.get(p,w))?A:null==(A=D.find.attr(p,w))?void 0:A)},attrHooks:{type:{set:function(p,w){if(!He.radioValue&&"radio"===w&&De(p,"input")){var C=p.value;return p.setAttribute("type",w),C&&(p.value=C),w}}}},removeAttr:function(p,w){var C,A=0,k=w&&w.match(wn);if(k&&1===p.nodeType)for(;C=k[A++];)p.removeAttribute(C)}}),wi={set:function(p,w,C){return!1===w?D.removeAttr(p,C):p.setAttribute(C,C),C}},D.each(D.expr.match.bool.source.match(/\w+/g),function(p,w){var C=Go[w]||D.find.attr;Go[w]=function(A,k,O){var V,K,G=k.toLowerCase();return O||(K=Go[G],Go[G]=V,V=null!=C(A,k,O)?G:null,Go[G]=K),V}});var Ks=/^(?:input|select|textarea|button)$/i,ja=/^(?:a|area)$/i;function Ir(p){return(p.match(wn)||[]).join(" ")}function Eo(p){return p.getAttribute&&p.getAttribute("class")||""}function Ha(p){return Array.isArray(p)?p:"string"==typeof p&&p.match(wn)||[]}D.fn.extend({prop:function(p,w){return fr(this,D.prop,p,w,arguments.length>1)},removeProp:function(p){return this.each(function(){delete this[D.propFix[p]||p]})}}),D.extend({prop:function(p,w,C){var A,k,O=p.nodeType;if(3!==O&&8!==O&&2!==O)return(1!==O||!D.isXMLDoc(p))&&(k=D.propHooks[w=D.propFix[w]||w]),void 0!==C?k&&"set"in k&&void 0!==(A=k.set(p,C,w))?A:p[w]=C:k&&"get"in k&&null!==(A=k.get(p,w))?A:p[w]},propHooks:{tabIndex:{get:function(p){var w=D.find.attr(p,"tabindex");return w?parseInt(w,10):Ks.test(p.nodeName)||ja.test(p.nodeName)&&p.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),He.optSelected||(D.propHooks.selected={get:function(p){return null},set:function(p){}}),D.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){D.propFix[this.toLowerCase()]=this}),D.fn.extend({addClass:function(p){var w,C,A,k,O,V,K,G=0;if(Ve(p))return this.each(function(oe){D(this).addClass(p.call(this,oe,Eo(this)))});if((w=Ha(p)).length)for(;C=this[G++];)if(k=Eo(C),A=1===C.nodeType&&" "+Ir(k)+" "){for(V=0;O=w[V++];)A.indexOf(" "+O+" ")<0&&(A+=O+" ");k!==(K=Ir(A))&&C.setAttribute("class",K)}return this},removeClass:function(p){var w,C,A,k,O,V,K,G=0;if(Ve(p))return this.each(function(oe){D(this).removeClass(p.call(this,oe,Eo(this)))});if(!arguments.length)return this.attr("class","");if((w=Ha(p)).length)for(;C=this[G++];)if(k=Eo(C),A=1===C.nodeType&&" "+Ir(k)+" "){for(V=0;O=w[V++];)for(;A.indexOf(" "+O+" ")>-1;)A=A.replace(" "+O+" "," ");k!==(K=Ir(A))&&C.setAttribute("class",K)}return this},toggleClass:function(p,w){var C=typeof p,A="string"===C||Array.isArray(p);return"boolean"==typeof w&&A?w?this.addClass(p):this.removeClass(p):Ve(p)?this.each(function(k){D(this).toggleClass(p.call(this,k,Eo(this),w),w)}):this.each(function(){var k,O,V,K;if(A)for(O=0,V=D(this),K=Ha(p);k=K[O++];)V.hasClass(k)?V.removeClass(k):V.addClass(k);else(void 0===p||"boolean"===C)&&((k=Eo(this))&&Ye.set(this,"__className__",k),this.setAttribute&&this.setAttribute("class",k||!1===p?"":Ye.get(this,"__className__")||""))})},hasClass:function(p){var w,C,A=0;for(w=" "+p+" ";C=this[A++];)if(1===C.nodeType&&(" "+Ir(Eo(C))+" ").indexOf(w)>-1)return!0;return!1}});var $a=/\r/g;D.fn.extend({val:function(p){var w,C,A,k=this[0];return arguments.length?(A=Ve(p),this.each(function(O){var V;1===this.nodeType&&(null==(V=A?p.call(this,O,D(this).val()):p)?V="":"number"==typeof V?V+="":Array.isArray(V)&&(V=D.map(V,function(K){return null==K?"":K+""})),(!(w=D.valHooks[this.type]||D.valHooks[this.nodeName.toLowerCase()])||!("set"in w)||void 0===w.set(this,V,"value"))&&(this.value=V))})):k?(w=D.valHooks[k.type]||D.valHooks[k.nodeName.toLowerCase()])&&"get"in w&&void 0!==(C=w.get(k,"value"))?C:"string"==typeof(C=k.value)?C.replace($a,""):null==C?"":C:void 0}}),D.extend({valHooks:{option:{get:function(p){var w=D.find.attr(p,"value");return null!=w?w:Ir(D.text(p))}},select:{get:function(p){var w,C,A,k=p.options,O=p.selectedIndex,V="select-one"===p.type,K=V?null:[],G=V?O+1:k.length;for(A=O<0?G:V?O:0;A<G;A++)if(((C=k[A]).selected||A===O)&&!C.disabled&&(!C.parentNode.disabled||!De(C.parentNode,"optgroup"))){if(w=D(C).val(),V)return w;K.push(w)}return K},set:function(p,w){for(var C,A,k=p.options,O=D.makeArray(w),V=k.length;V--;)((A=k[V]).selected=D.inArray(D.valHooks.option.get(A),O)>-1)&&(C=!0);return C||(p.selectedIndex=-1),O}}}}),D.each(["radio","checkbox"],function(){D.valHooks[this]={set:function(p,w){if(Array.isArray(w))return p.checked=D.inArray(D(p).val(),w)>-1}},He.checkOn||(D.valHooks[this].get=function(p){return null===p.getAttribute("value")?"on":p.value})}),He.focusin="onfocusin"in te;var mr=/^(?:focusinfocus|focusoutblur)$/,Mu=function(p){p.stopPropagation()};D.extend(D.event,{trigger:function(p,w,C,A){var k,O,V,K,G,oe,we,Oe,ge=[C||_e],ke=de.call(p,"type")?p.type:p,Ct=de.call(p,"namespace")?p.namespace.split("."):[];if(O=Oe=V=C=C||_e,3!==C.nodeType&&8!==C.nodeType&&!mr.test(ke+D.event.triggered)&&(ke.indexOf(".")>-1&&(Ct=ke.split("."),ke=Ct.shift(),Ct.sort()),G=ke.indexOf(":")<0&&"on"+ke,(p=p[D.expando]?p:new D.Event(ke,"object"==typeof p&&p)).isTrigger=A?2:3,p.namespace=Ct.join("."),p.rnamespace=p.namespace?new RegExp("(^|\\.)"+Ct.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p.result=void 0,p.target||(p.target=C),w=null==w?[p]:D.makeArray(w,[p]),we=D.event.special[ke]||{},A||!we.trigger||!1!==we.trigger.apply(C,w))){if(!A&&!we.noBubble&&!Me(C)){for(mr.test((K=we.delegateType||ke)+ke)||(O=O.parentNode);O;O=O.parentNode)ge.push(O),V=O;V===(C.ownerDocument||_e)&&ge.push(V.defaultView||V.parentWindow||te)}for(k=0;(O=ge[k++])&&!p.isPropagationStopped();)Oe=O,p.type=k>1?K:we.bindType||ke,(oe=(Ye.get(O,"events")||Object.create(null))[p.type]&&Ye.get(O,"handle"))&&oe.apply(O,w),(oe=G&&O[G])&&oe.apply&&yi(O)&&(p.result=oe.apply(O,w),!1===p.result&&p.preventDefault());return p.type=ke,!A&&!p.isDefaultPrevented()&&(!we._default||!1===we._default.apply(ge.pop(),w))&&yi(C)&&G&&Ve(C[ke])&&!Me(C)&&((V=C[G])&&(C[G]=null),D.event.triggered=ke,p.isPropagationStopped()&&Oe.addEventListener(ke,Mu),C[ke](),p.isPropagationStopped()&&Oe.removeEventListener(ke,Mu),D.event.triggered=void 0,V&&(C[G]=V)),p.result}},simulate:function(p,w,C){var A=D.extend(new D.Event,C,{type:p,isSimulated:!0});D.event.trigger(A,null,w)}}),D.fn.extend({trigger:function(p,w){return this.each(function(){D.event.trigger(p,w,this)})},triggerHandler:function(p,w){var C=this[0];if(C)return D.event.trigger(p,w,C,!0)}}),He.focusin||D.each({focus:"focusin",blur:"focusout"},function(p,w){var C=function(A){D.event.simulate(w,A.target,D.event.fix(A))};D.event.special[w]={setup:function(){var A=this.ownerDocument||this.document||this,k=Ye.access(A,w);k||A.addEventListener(p,C,!0),Ye.access(A,w,(k||0)+1)},teardown:function(){var A=this.ownerDocument||this.document||this,k=Ye.access(A,w)-1;k?Ye.access(A,w,k):(A.removeEventListener(p,C,!0),Ye.remove(A,w))}}});var qa=te.location,hs={guid:Date.now()},ll=/\?/;D.parseXML=function(p){var w,C;if(!p||"string"!=typeof p)return null;try{w=(new te.DOMParser).parseFromString(p,"text/xml")}catch(A){}return C=w&&w.getElementsByTagName("parsererror")[0],(!w||C)&&D.error("Invalid XML: "+(C?D.map(C.childNodes,function(A){return A.textContent}).join("\n"):p)),w};var Ru=/\[\]$/,Ga=/\r?\n/g,Ys=/^(?:submit|button|image|reset|file)$/i,rd=/^(?:input|select|textarea|keygen)/i;function za(p,w,C,A){var k;if(Array.isArray(w))D.each(w,function(O,V){C||Ru.test(p)?A(p,V):za(p+"["+("object"==typeof V&&null!=V?O:"")+"]",V,C,A)});else if(C||"object"!==$e(w))A(p,w);else for(k in w)za(p+"["+k+"]",w[k],C,A)}D.param=function(p,w){var C,A=[],k=function(O,V){var K=Ve(V)?V():V;A[A.length]=encodeURIComponent(O)+"="+encodeURIComponent(null==K?"":K)};if(null==p)return"";if(Array.isArray(p)||p.jquery&&!D.isPlainObject(p))D.each(p,function(){k(this.name,this.value)});else for(C in p)za(C,p[C],w,k);return A.join("&")},D.fn.extend({serialize:function(){return D.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=D.prop(this,"elements");return p?D.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!D(this).is(":disabled")&&rd.test(this.nodeName)&&!Ys.test(p)&&(this.checked||!br.test(p))}).map(function(p,w){var C=D(this).val();return null==C?null:Array.isArray(C)?D.map(C,function(A){return{name:w.name,value:A.replace(Ga,"\r\n")}}):{name:w.name,value:C.replace(Ga,"\r\n")}}).get()}});var id=/%20/g,sd=/#.*$/,cl=/([?&])_=[^&]*/,zo=/^(.*?):[ \t]*([^\r\n]*)$/gm,Wa=/^(?:GET|HEAD)$/,Io=/^\/\//,dl={},ga={},Rs="*/".concat("*"),ri=_e.createElement("a");function Co(p){return function(w,C){"string"!=typeof w&&(C=w,w="*");var A,k=0,O=w.toLowerCase().match(wn)||[];if(Ve(C))for(;A=O[k++];)"+"===A[0]?(A=A.slice(1)||"*",(p[A]=p[A]||[]).unshift(C)):(p[A]=p[A]||[]).push(C)}}function Qs(p,w,C,A){var k={},O=p===ga;function V(K){var G;return k[K]=!0,D.each(p[K]||[],function(oe,we){var Oe=we(w,C,A);return"string"!=typeof Oe||O||k[Oe]?O?!(G=Oe):void 0:(w.dataTypes.unshift(Oe),V(Oe),!1)}),G}return V(w.dataTypes[0])||!k["*"]&&V("*")}function Do(p,w){var C,A,k=D.ajaxSettings.flatOptions||{};for(C in w)void 0!==w[C]&&((k[C]?p:A||(A={}))[C]=w[C]);return A&&D.extend(!0,p,A),p}ri.href=qa.href,D.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qa.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(qa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":D.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,w){return w?Do(Do(p,D.ajaxSettings),w):Do(D.ajaxSettings,p)},ajaxPrefilter:Co(dl),ajaxTransport:Co(ga),ajax:function(p,w){"object"==typeof p&&(w=p,p=void 0);var C,A,k,O,V,K,G,oe,we,Oe,ge=D.ajaxSetup({},w=w||{}),ke=ge.context||ge,Ct=ge.context&&(ke.nodeType||ke.jquery)?D(ke):D.event,Mt=D.Deferred(),ft=D.Callbacks("once memory"),ir=ge.statusCode||{},Pn={},zn={},Tn="canceled",Lt={readyState:0,getResponseHeader:function(Xt){var Fn;if(G){if(!O)for(O={};Fn=zo.exec(k);)O[Fn[1].toLowerCase()+" "]=(O[Fn[1].toLowerCase()+" "]||[]).concat(Fn[2]);Fn=O[Xt.toLowerCase()+" "]}return null==Fn?null:Fn.join(", ")},getAllResponseHeaders:function(){return G?k:null},setRequestHeader:function(Xt,Fn){return null==G&&(Xt=zn[Xt.toLowerCase()]=zn[Xt.toLowerCase()]||Xt,Pn[Xt]=Fn),this},overrideMimeType:function(Xt){return null==G&&(ge.mimeType=Xt),this},statusCode:function(Xt){var Fn;if(Xt)if(G)Lt.always(Xt[Lt.status]);else for(Fn in Xt)ir[Fn]=[ir[Fn],Xt[Fn]];return this},abort:function(Xt){var Fn=Xt||Tn;return C&&C.abort(Fn),Ur(0,Fn),this}};if(Mt.promise(Lt),ge.url=((p||ge.url||qa.href)+"").replace(Io,qa.protocol+"//"),ge.type=w.method||w.type||ge.method||ge.type,ge.dataTypes=(ge.dataType||"*").toLowerCase().match(wn)||[""],null==ge.crossDomain){K=_e.createElement("a");try{K.href=ge.url,K.href=K.href,ge.crossDomain=ri.protocol+"//"+ri.host!=K.protocol+"//"+K.host}catch(Xt){ge.crossDomain=!0}}if(ge.data&&ge.processData&&"string"!=typeof ge.data&&(ge.data=D.param(ge.data,ge.traditional)),Qs(dl,ge,w,Lt),G)return Lt;for(we in(oe=D.event&&ge.global)&&0==D.active++&&D.event.trigger("ajaxStart"),ge.type=ge.type.toUpperCase(),ge.hasContent=!Wa.test(ge.type),A=ge.url.replace(sd,""),ge.hasContent?ge.data&&ge.processData&&0===(ge.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ge.data=ge.data.replace(id,"+")):(Oe=ge.url.slice(A.length),ge.data&&(ge.processData||"string"==typeof ge.data)&&(A+=(ll.test(A)?"&":"?")+ge.data,delete ge.data),!1===ge.cache&&(A=A.replace(cl,"$1"),Oe=(ll.test(A)?"&":"?")+"_="+hs.guid+++Oe),ge.url=A+Oe),ge.ifModified&&(D.lastModified[A]&&Lt.setRequestHeader("If-Modified-Since",D.lastModified[A]),D.etag[A]&&Lt.setRequestHeader("If-None-Match",D.etag[A])),(ge.data&&ge.hasContent&&!1!==ge.contentType||w.contentType)&&Lt.setRequestHeader("Content-Type",ge.contentType),Lt.setRequestHeader("Accept",ge.dataTypes[0]&&ge.accepts[ge.dataTypes[0]]?ge.accepts[ge.dataTypes[0]]+("*"!==ge.dataTypes[0]?", "+Rs+"; q=0.01":""):ge.accepts["*"]),ge.headers)Lt.setRequestHeader(we,ge.headers[we]);if(ge.beforeSend&&(!1===ge.beforeSend.call(ke,Lt,ge)||G))return Lt.abort();if(Tn="abort",ft.add(ge.complete),Lt.done(ge.success),Lt.fail(ge.error),C=Qs(ga,ge,w,Lt)){if(Lt.readyState=1,oe&&Ct.trigger("ajaxSend",[Lt,ge]),G)return Lt;ge.async&&ge.timeout>0&&(V=te.setTimeout(function(){Lt.abort("timeout")},ge.timeout));try{G=!1,C.send(Pn,Ur)}catch(Xt){if(G)throw Xt;Ur(-1,Xt)}}else Ur(-1,"No Transport");function Ur(Xt,Fn,Pi,kt){var Kr,Yi,fs,Br,Qi,hi=Fn;G||(G=!0,V&&te.clearTimeout(V),C=void 0,k=kt||"",Lt.readyState=Xt>0?4:0,Kr=Xt>=200&&Xt<300||304===Xt,Pi&&(Br=function hl(p,w,C){for(var A,k,O,V,K=p.contents,G=p.dataTypes;"*"===G[0];)G.shift(),void 0===A&&(A=p.mimeType||w.getResponseHeader("Content-Type"));if(A)for(k in K)if(K[k]&&K[k].test(A)){G.unshift(k);break}if(G[0]in C)O=G[0];else{for(k in C){if(!G[0]||p.converters[k+" "+G[0]]){O=k;break}V||(V=k)}O=O||V}if(O)return O!==G[0]&&G.unshift(O),C[O]}(ge,Lt,Pi)),!Kr&&D.inArray("script",ge.dataTypes)>-1&&D.inArray("json",ge.dataTypes)<0&&(ge.converters["text script"]=function(){}),Br=function od(p,w,C,A){var k,O,V,K,G,oe={},we=p.dataTypes.slice();if(we[1])for(V in p.converters)oe[V.toLowerCase()]=p.converters[V];for(O=we.shift();O;)if(p.responseFields[O]&&(C[p.responseFields[O]]=w),!G&&A&&p.dataFilter&&(w=p.dataFilter(w,p.dataType)),G=O,O=we.shift())if("*"===O)O=G;else if("*"!==G&&G!==O){if(!(V=oe[G+" "+O]||oe["* "+O]))for(k in oe)if((K=k.split(" "))[1]===O&&(V=oe[G+" "+K[0]]||oe["* "+K[0]])){!0===V?V=oe[k]:!0!==oe[k]&&(O=K[0],we.unshift(K[1]));break}if(!0!==V)if(V&&p.throws)w=V(w);else try{w=V(w)}catch(Oe){return{state:"parsererror",error:V?Oe:"No conversion from "+G+" to "+O}}}return{state:"success",data:w}}(ge,Br,Lt,Kr),Kr?(ge.ifModified&&((Qi=Lt.getResponseHeader("Last-Modified"))&&(D.lastModified[A]=Qi),(Qi=Lt.getResponseHeader("etag"))&&(D.etag[A]=Qi)),204===Xt||"HEAD"===ge.type?hi="nocontent":304===Xt?hi="notmodified":(hi=Br.state,Yi=Br.data,Kr=!(fs=Br.error))):(fs=hi,(Xt||!hi)&&(hi="error",Xt<0&&(Xt=0))),Lt.status=Xt,Lt.statusText=(Fn||hi)+"",Kr?Mt.resolveWith(ke,[Yi,hi,Lt]):Mt.rejectWith(ke,[Lt,hi,fs]),Lt.statusCode(ir),ir=void 0,oe&&Ct.trigger(Kr?"ajaxSuccess":"ajaxError",[Lt,ge,Kr?Yi:fs]),ft.fireWith(ke,[Lt,hi]),oe&&(Ct.trigger("ajaxComplete",[Lt,ge]),--D.active||D.event.trigger("ajaxStop")))}return Lt},getJSON:function(p,w,C){return D.get(p,w,C,"json")},getScript:function(p,w){return D.get(p,void 0,w,"script")}}),D.each(["get","post"],function(p,w){D[w]=function(C,A,k,O){return Ve(A)&&(O=O||k,k=A,A=void 0),D.ajax(D.extend({url:C,type:w,dataType:O,data:A,success:k},D.isPlainObject(C)&&C))}}),D.ajaxPrefilter(function(p){var w;for(w in p.headers)"content-type"===w.toLowerCase()&&(p.contentType=p.headers[w]||"")}),D._evalUrl=function(p,w,C){return D.ajax({url:p,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(A){D.globalEval(A,w,C)}})},D.fn.extend({wrapAll:function(p){var w;return this[0]&&(Ve(p)&&(p=p.call(this[0])),w=D(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&w.insertBefore(this[0]),w.map(function(){for(var C=this;C.firstElementChild;)C=C.firstElementChild;return C}).append(this)),this},wrapInner:function(p){return Ve(p)?this.each(function(w){D(this).wrapInner(p.call(this,w))}):this.each(function(){var w=D(this),C=w.contents();C.length?C.wrapAll(p):w.append(p)})},wrap:function(p){var w=Ve(p);return this.each(function(C){D(this).wrapAll(w?p.call(this,C):p)})},unwrap:function(p){return this.parent(p).not("body").each(function(){D(this).replaceWith(this.childNodes)}),this}}),D.expr.pseudos.hidden=function(p){return!D.expr.pseudos.visible(p)},D.expr.pseudos.visible=function(p){return!!(p.offsetWidth||p.offsetHeight||p.getClientRects().length)},D.ajaxSettings.xhr=function(){try{return new te.XMLHttpRequest}catch(p){}};var Wo={0:200,1223:204},Oi=D.ajaxSettings.xhr();He.cors=!!Oi&&"withCredentials"in Oi,He.ajax=Oi=!!Oi,D.ajaxTransport(function(p){var w,C;if(He.cors||Oi&&!p.crossDomain)return{send:function(A,k){var O,V=p.xhr();if(V.open(p.type,p.url,p.async,p.username,p.password),p.xhrFields)for(O in p.xhrFields)V[O]=p.xhrFields[O];for(O in p.mimeType&&V.overrideMimeType&&V.overrideMimeType(p.mimeType),!p.crossDomain&&!A["X-Requested-With"]&&(A["X-Requested-With"]="XMLHttpRequest"),A)V.setRequestHeader(O,A[O]);w=function(K){return function(){w&&(w=C=V.onload=V.onerror=V.onabort=V.ontimeout=V.onreadystatechange=null,"abort"===K?V.abort():"error"===K?"number"!=typeof V.status?k(0,"error"):k(V.status,V.statusText):k(Wo[V.status]||V.status,V.statusText,"text"!==(V.responseType||"text")||"string"!=typeof V.responseText?{binary:V.response}:{text:V.responseText},V.getAllResponseHeaders()))}},V.onload=w(),C=V.onerror=V.ontimeout=w("error"),void 0!==V.onabort?V.onabort=C:V.onreadystatechange=function(){4===V.readyState&&te.setTimeout(function(){w&&C()})},w=w("abort");try{V.send(p.hasContent&&p.data||null)}catch(K){if(w)throw K}},abort:function(){w&&w()}}}),D.ajaxPrefilter(function(p){p.crossDomain&&(p.contents.script=!1)}),D.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){return D.globalEval(p),p}}}),D.ajaxPrefilter("script",function(p){void 0===p.cache&&(p.cache=!1),p.crossDomain&&(p.type="GET")}),D.ajaxTransport("script",function(p){var w,C;if(p.crossDomain||p.scriptAttrs)return{send:function(A,k){w=D("<script>").attr(p.scriptAttrs||{}).prop({charset:p.scriptCharset,src:p.url}).on("load error",C=function(O){w.remove(),C=null,O&&k("error"===O.type?404:200,O.type)}),_e.head.appendChild(w[0])},abort:function(){C&&C()}}});var p,bi=[],Zo=/(=)\?(?=&|$)|\?\?/;D.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=bi.pop()||D.expando+"_"+hs.guid++;return this[p]=!0,p}}),D.ajaxPrefilter("json jsonp",function(p,w,C){var A,k,O,V=!1!==p.jsonp&&(Zo.test(p.url)?"url":"string"==typeof p.data&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zo.test(p.data)&&"data");if(V||"jsonp"===p.dataTypes[0])return A=p.jsonpCallback=Ve(p.jsonpCallback)?p.jsonpCallback():p.jsonpCallback,V?p[V]=p[V].replace(Zo,"$1"+A):!1!==p.jsonp&&(p.url+=(ll.test(p.url)?"&":"?")+p.jsonp+"="+A),p.converters["script json"]=function(){return O||D.error(A+" was not called"),O[0]},p.dataTypes[0]="json",k=te[A],te[A]=function(){O=arguments},C.always(function(){void 0===k?D(te).removeProp(A):te[A]=k,p[A]&&(p.jsonpCallback=w.jsonpCallback,bi.push(A)),O&&Ve(k)&&k(O[0]),O=k=void 0}),"script"}),He.createHTMLDocument=((p=_e.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===p.childNodes.length),D.parseHTML=function(p,w,C){return"string"!=typeof p?[]:("boolean"==typeof w&&(C=w,w=!1),w||(He.createHTMLDocument?((A=(w=_e.implementation.createHTMLDocument("")).createElement("base")).href=_e.location.href,w.head.appendChild(A)):w=_e),O=!C&&[],(k=Ee.exec(p))?[w.createElement(k[1])]:(k=wt([p],w,O),O&&O.length&&D(O).remove(),D.merge([],k.childNodes)));var A,k,O},D.fn.load=function(p,w,C){var A,k,O,V=this,K=p.indexOf(" ");return K>-1&&(A=Ir(p.slice(K)),p=p.slice(0,K)),Ve(w)?(C=w,w=void 0):w&&"object"==typeof w&&(k="POST"),V.length>0&&D.ajax({url:p,type:k||"GET",dataType:"html",data:w}).done(function(G){O=arguments,V.html(A?D("<div>").append(D.parseHTML(G)).find(A):G)}).always(C&&function(G,oe){V.each(function(){C.apply(this,O||[G.responseText,oe,G])})}),this},D.expr.pseudos.animated=function(p){return D.grep(D.timers,function(w){return p===w.elem}).length},D.offset={setOffset:function(p,w,C){var A,k,O,V,K,G,we=D.css(p,"position"),Oe=D(p),ge={};"static"===we&&(p.style.position="relative"),K=Oe.offset(),O=D.css(p,"top"),G=D.css(p,"left"),("absolute"===we||"fixed"===we)&&(O+G).indexOf("auto")>-1?(V=(A=Oe.position()).top,k=A.left):(V=parseFloat(O)||0,k=parseFloat(G)||0),Ve(w)&&(w=w.call(p,C,D.extend({},K))),null!=w.top&&(ge.top=w.top-K.top+V),null!=w.left&&(ge.left=w.left-K.left+k),"using"in w?w.using.call(p,ge):Oe.css(ge)}},D.fn.extend({offset:function(p){if(arguments.length)return void 0===p?this:this.each(function(k){D.offset.setOffset(this,p,k)});var w,C,A=this[0];return A?A.getClientRects().length?{top:(w=A.getBoundingClientRect()).top+(C=A.ownerDocument.defaultView).pageYOffset,left:w.left+C.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var p,w,C,A=this[0],k={top:0,left:0};if("fixed"===D.css(A,"position"))w=A.getBoundingClientRect();else{for(w=this.offset(),C=A.ownerDocument,p=A.offsetParent||C.documentElement;p&&(p===C.body||p===C.documentElement)&&"static"===D.css(p,"position");)p=p.parentNode;p&&p!==A&&1===p.nodeType&&((k=D(p).offset()).top+=D.css(p,"borderTopWidth",!0),k.left+=D.css(p,"borderLeftWidth",!0))}return{top:w.top-k.top-D.css(A,"marginTop",!0),left:w.left-k.left-D.css(A,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=this.offsetParent;p&&"static"===D.css(p,"position");)p=p.offsetParent;return p||Wi})}}),D.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(p,w){var C="pageYOffset"===w;D.fn[p]=function(A){return fr(this,function(k,O,V){var K;if(Me(k)?K=k:9===k.nodeType&&(K=k.defaultView),void 0===V)return K?K[w]:k[O];K?K.scrollTo(C?K.pageXOffset:V,C?V:K.pageYOffset):k[O]=V},p,A,arguments.length)}}),D.each(["top","left"],function(p,w){D.cssHooks[w]=qo(He.pixelPosition,function(C,A){if(A)return A=or(C,w),xs.test(A)?D(C).position()[w]+"px":A})}),D.each({Height:"height",Width:"width"},function(p,w){D.each({padding:"inner"+p,content:w,"":"outer"+p},function(C,A){D.fn[A]=function(k,O){var V=arguments.length&&(C||"boolean"!=typeof k),K=C||(!0===k||!0===O?"margin":"border");return fr(this,function(G,oe,we){var Oe;return Me(G)?0===A.indexOf("outer")?G["inner"+p]:G.document.documentElement["client"+p]:9===G.nodeType?(Oe=G.documentElement,Math.max(G.body["scroll"+p],Oe["scroll"+p],G.body["offset"+p],Oe["offset"+p],Oe["client"+p])):void 0===we?D.css(G,oe,K):D.style(G,oe,we,K)},w,V?k:void 0,V)}})}),D.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(p,w){D.fn[w]=function(C){return this.on(w,C)}}),D.fn.extend({bind:function(p,w,C){return this.on(p,null,w,C)},unbind:function(p,w){return this.off(p,null,w)},delegate:function(p,w,C,A){return this.on(w,p,C,A)},undelegate:function(p,w,C){return 1===arguments.length?this.off(p,"**"):this.off(w,p||"**",C)},hover:function(p,w){return this.mouseenter(p).mouseleave(w||p)}}),D.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(p,w){D.fn[w]=function(C,A){return arguments.length>0?this.on(w,null,C,A):this.trigger(w)}});var Za=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;D.proxy=function(p,w){var C,A,k;if("string"==typeof w&&(C=p[w],w=p,p=C),Ve(p))return A=Re.call(arguments,2),k=function(){return p.apply(w||this,A.concat(Re.call(arguments)))},k.guid=p.guid=p.guid||D.guid++,k},D.holdReady=function(p){p?D.readyWait++:D.ready(!0)},D.isArray=Array.isArray,D.parseJSON=JSON.parse,D.nodeName=De,D.isFunction=Ve,D.isWindow=Me,D.camelCase=rr,D.type=$e,D.now=Date.now,D.isNumeric=function(p){var w=D.type(p);return("number"===w||"string"===w)&&!isNaN(p-parseFloat(p))},D.trim=function(p){return null==p?"":(p+"").replace(Za,"")},void 0!==(h=function(){return D}.apply(We,[]))&&(Rt.exports=h);var Ei=te.jQuery,Zr=te.$;return D.noConflict=function(p){return te.$===D&&(te.$=Zr),p&&te.jQuery===D&&(te.jQuery=Ei),D},void 0===H&&(te.jQuery=te.$=D),D})},8306:(Rt,We,$)=>{"use strict";$.d(We,{y:()=>X});var h=$(2961),te=$(727),H=$(8822),ve=$(4671);var Ie=$(2416),Ne=$(576),Ae=$(2806);let X=(()=>{class Ke{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const Me=new Ke;return Me.source=this,Me.operator=Ve,Me}subscribe(Ve,Me,_e){const It=function mt(Ke){return Ke&&Ke instanceof h.Lv||function de(Ke){return Ke&&(0,Ne.m)(Ke.next)&&(0,Ne.m)(Ke.error)&&(0,Ne.m)(Ke.complete)}(Ke)&&(0,te.Nn)(Ke)}(Ve)?Ve:new h.Hp(Ve,Me,_e);return(0,Ae.x)(()=>{const{operator:_t,source:$e}=this;It.add(_t?_t.call(It,$e):$e?this._subscribe(It):this._trySubscribe(It))}),It}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(Me){Ve.error(Me)}}forEach(Ve,Me){return new(Me=ee(Me))((_e,It)=>{const _t=new h.Hp({next:$e=>{try{Ve($e)}catch(Ue){It(Ue),_t.unsubscribe()}},error:It,complete:_e});this.subscribe(_t)})}_subscribe(Ve){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(Ve)}[H.L](){return this}pipe(...Ve){return function Re(Ke){return 0===Ke.length?ve.y:1===Ke.length?Ke[0]:function(Ve){return Ke.reduce((Me,_e)=>_e(Me),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=ee(Ve))((Me,_e)=>{let It;this.subscribe(_t=>It=_t,_t=>_e(_t),()=>Me(It))})}}return Ke.create=He=>new Ke(He),Ke})();function ee(Ke){var He;return null!==(He=null!=Ke?Ke:Ie.v.Promise)&&void 0!==He?He:Promise}},7579:(Rt,We,$)=>{"use strict";$.d(We,{x:()=>Ie});var h=$(8306),te=$(727);const ve=(0,$(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=$(8737),Re=$(2806);let Ie=(()=>{class Ae extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const de=new Ne(this,this);return de.operator=ee,de}_throwIfClosed(){if(this.closed)throw new ve}next(ee){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(ee)}})}error(ee){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:de}=this;for(;de.length;)de.shift().error(ee)}})}complete(){(0,Re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:de,isStopped:mt,observers:Ke}=this;return de||mt?te.Lc:(this.currentObservers=null,Ke.push(ee),new te.w0(()=>{this.currentObservers=null,(0,fe.P)(Ke,ee)}))}_checkFinalizedStatuses(ee){const{hasError:de,thrownError:mt,isStopped:Ke}=this;de?ee.error(mt):Ke&&ee.complete()}asObservable(){const ee=new h.y;return ee.source=this,ee}}return Ae.create=(X,ee)=>new Ne(X,ee),Ae})();class Ne extends Ie{constructor(X,ee){super(),this.destination=X,this.source=ee}next(X){var ee,de;null===(de=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===de||de.call(ee,X)}error(X){var ee,de;null===(de=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===de||de.call(ee,X)}complete(){var X,ee;null===(ee=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===ee||ee.call(X)}_subscribe(X){var ee,de;return null!==(de=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(X))&&void 0!==de?de:te.Lc}}},2961:(Rt,We,$)=>{"use strict";$.d(We,{Hp:()=>Ve,Lv:()=>de});var h=$(576),te=$(727),H=$(2416),ve=$(7849);function fe(){}const Re=Ae("C",void 0,void 0);function Ae($e,Ue,D){return{kind:$e,value:Ue,error:D}}var X=$(3410),ee=$(2806);class de extends te.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,te.Nn)(Ue)&&Ue.add(this)):this.destination=_t}static create(Ue,D,ct){return new Ve(Ue,D,ct)}next(Ue){this.isStopped?It(function Ne($e){return Ae("N",$e,void 0)}(Ue),this):this._next(Ue)}error(Ue){this.isStopped?It(function Ie($e){return Ae("E",void 0,$e)}(Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?It(Re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mt=Function.prototype.bind;function Ke($e,Ue){return mt.call($e,Ue)}class He{constructor(Ue){this.partialObserver=Ue}next(Ue){const{partialObserver:D}=this;if(D.next)try{D.next(Ue)}catch(ct){Me(ct)}}error(Ue){const{partialObserver:D}=this;if(D.error)try{D.error(Ue)}catch(ct){Me(ct)}else Me(Ue)}complete(){const{partialObserver:Ue}=this;if(Ue.complete)try{Ue.complete()}catch(D){Me(D)}}}class Ve extends de{constructor(Ue,D,ct){let at;if(super(),(0,h.m)(Ue)||!Ue)at={next:null!=Ue?Ue:void 0,error:null!=D?D:void 0,complete:null!=ct?ct:void 0};else{let pe;this&&H.v.useDeprecatedNextContext?(pe=Object.create(Ue),pe.unsubscribe=()=>this.unsubscribe(),at={next:Ue.next&&Ke(Ue.next,pe),error:Ue.error&&Ke(Ue.error,pe),complete:Ue.complete&&Ke(Ue.complete,pe)}):at=Ue}this.destination=new He(at)}}function Me($e){H.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)($e):(0,ve.h)($e)}function It($e,Ue){const{onStoppedNotification:D}=H.v;D&&X.z.setTimeout(()=>D($e,Ue))}const _t={closed:!0,next:fe,error:function _e($e){throw $e},complete:fe}},727:(Rt,We,$)=>{"use strict";$.d(We,{Lc:()=>Re,w0:()=>fe,Nn:()=>Ie});var h=$(576);const H=(0,$(3888).d)(Ae=>function(ee){Ae(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((de,mt)=>`${mt+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ve=$(8737);class fe{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Ke of ee)Ke.remove(this);else ee.remove(this);const{initialTeardown:de}=this;if((0,h.m)(de))try{de()}catch(Ke){X=Ke instanceof H?Ke.errors:[Ke]}const{_finalizers:mt}=this;if(mt){this._finalizers=null;for(const Ke of mt)try{Ne(Ke)}catch(He){X=null!=X?X:[],He instanceof H?X=[...X,...He.errors]:X.push(He)}}if(X)throw new H(X)}}add(X){var ee;if(X&&X!==this)if(this.closed)Ne(X);else{if(X instanceof fe){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(X)}}_hasParent(X){const{_parentage:ee}=this;return ee===X||Array.isArray(ee)&&ee.includes(X)}_addParent(X){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(X),ee):ee?[ee,X]:X}_removeParent(X){const{_parentage:ee}=this;ee===X?this._parentage=null:Array.isArray(ee)&&(0,ve.P)(ee,X)}remove(X){const{_finalizers:ee}=this;ee&&(0,ve.P)(ee,X),X instanceof fe&&X._removeParent(this)}}fe.EMPTY=(()=>{const Ae=new fe;return Ae.closed=!0,Ae})();const Re=fe.EMPTY;function Ie(Ae){return Ae instanceof fe||Ae&&"closed"in Ae&&(0,h.m)(Ae.remove)&&(0,h.m)(Ae.add)&&(0,h.m)(Ae.unsubscribe)}function Ne(Ae){(0,h.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(Rt,We,$)=>{"use strict";$.d(We,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Rt,We,$)=>{"use strict";$.d(We,{E:()=>te});const te=new($(8306).y)(fe=>fe.complete())},8996:(Rt,We,$)=>{"use strict";$.d(We,{D:()=>Ue});var h=$(8421),te=$(5363),H=$(9468),Re=$(8306),Ne=$(2202),Ae=$(576),X=$(9672);function de(D,ct){if(!D)throw new Error("Iterable cannot be null");return new Re.y(at=>{(0,X.f)(at,ct,()=>{const pe=D[Symbol.asyncIterator]();(0,X.f)(at,ct,()=>{pe.next().then(ue=>{ue.done?at.complete():at.next(ue.value)})},0,!0)})})}var mt=$(3670),Ke=$(8239),He=$(1144),Ve=$(6495),Me=$(2206),_e=$(4532),It=$(3260);function Ue(D,ct){return ct?function $e(D,ct){if(null!=D){if((0,mt.c)(D))return function ve(D,ct){return(0,h.Xf)(D).pipe((0,H.R)(ct),(0,te.Q)(ct))}(D,ct);if((0,He.z)(D))return function Ie(D,ct){return new Re.y(at=>{let pe=0;return ct.schedule(function(){pe===D.length?at.complete():(at.next(D[pe++]),at.closed||this.schedule())})})}(D,ct);if((0,Ke.t)(D))return function fe(D,ct){return(0,h.Xf)(D).pipe((0,H.R)(ct),(0,te.Q)(ct))}(D,ct);if((0,Me.D)(D))return de(D,ct);if((0,Ve.T)(D))return function ee(D,ct){return new Re.y(at=>{let pe;return(0,X.f)(at,ct,()=>{pe=D[Ne.h](),(0,X.f)(at,ct,()=>{let ue,be;try{({value:ue,done:be}=pe.next())}catch(De){return void at.error(De)}be?at.complete():at.next(ue)},0,!0)}),()=>(0,Ae.m)(null==pe?void 0:pe.return)&&pe.return()})}(D,ct);if((0,It.L)(D))return function _t(D,ct){return de((0,It.Q)(D),ct)}(D,ct)}throw(0,_e.z)(D)}(D,ct):(0,h.Xf)(D)}},8421:(Rt,We,$)=>{"use strict";$.d(We,{Xf:()=>mt});var h=$(655),te=$(1144),H=$(8239),ve=$(8306),fe=$(3670),Re=$(2206),Ie=$(4532),Ne=$(6495),Ae=$(3260),X=$(576),ee=$(7849),de=$(8822);function mt($e){if($e instanceof ve.y)return $e;if(null!=$e){if((0,fe.c)($e))return function Ke($e){return new ve.y(Ue=>{const D=$e[de.L]();if((0,X.m)(D.subscribe))return D.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,te.z)($e))return function He($e){return new ve.y(Ue=>{for(let D=0;D<$e.length&&!Ue.closed;D++)Ue.next($e[D]);Ue.complete()})}($e);if((0,H.t)($e))return function Ve($e){return new ve.y(Ue=>{$e.then(D=>{Ue.closed||(Ue.next(D),Ue.complete())},D=>Ue.error(D)).then(null,ee.h)})}($e);if((0,Re.D)($e))return _e($e);if((0,Ne.T)($e))return function Me($e){return new ve.y(Ue=>{for(const D of $e)if(Ue.next(D),Ue.closed)return;Ue.complete()})}($e);if((0,Ae.L)($e))return function It($e){return _e((0,Ae.Q)($e))}($e)}throw(0,Ie.z)($e)}function _e($e){return new ve.y(Ue=>{(function _t($e,Ue){var D,ct,at,pe;return(0,h.mG)(this,void 0,void 0,function*(){try{for(D=(0,h.KL)($e);!(ct=yield D.next()).done;)if(Ue.next(ct.value),Ue.closed)return}catch(ue){at={error:ue}}finally{try{ct&&!ct.done&&(pe=D.return)&&(yield pe.call(D))}finally{if(at)throw at.error}}Ue.complete()})})($e,Ue).catch(D=>Ue.error(D))})}},6451:(Rt,We,$)=>{"use strict";$.d(We,{T:()=>Re});var h=$(8189),te=$(8421),H=$(515),ve=$(7669),fe=$(8996);function Re(...Ie){const Ne=(0,ve.yG)(Ie),Ae=(0,ve._6)(Ie,1/0),X=Ie;return X.length?1===X.length?(0,te.Xf)(X[0]):(0,h.J)(Ae)((0,fe.D)(X,Ne)):H.E}},5403:(Rt,We,$)=>{"use strict";$.d(We,{x:()=>te});var h=$(2961);function te(ve,fe,Re,Ie,Ne){return new H(ve,fe,Re,Ie,Ne)}class H extends h.Lv{constructor(fe,Re,Ie,Ne,Ae,X){super(fe),this.onFinalize=Ae,this.shouldUnsubscribe=X,this._next=Re?function(ee){try{Re(ee)}catch(de){fe.error(de)}}:super._next,this._error=Ne?function(ee){try{Ne(ee)}catch(de){fe.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(ee){fe.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Re}=this;super.unsubscribe(),!Re&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(Rt,We,$)=>{"use strict";$.d(We,{U:()=>H});var h=$(4482),te=$(5403);function H(ve,fe){return(0,h.e)((Re,Ie)=>{let Ne=0;Re.subscribe((0,te.x)(Ie,Ae=>{Ie.next(ve.call(fe,Ae,Ne++))}))})}},8189:(Rt,We,$)=>{"use strict";$.d(We,{J:()=>H});var h=$(5577),te=$(4671);function H(ve=1/0){return(0,h.z)(te.y,ve)}},5577:(Rt,We,$)=>{"use strict";$.d(We,{z:()=>Ne});var h=$(4004),te=$(8421),H=$(4482),ve=$(9672),fe=$(5403),Ie=$(576);function Ne(Ae,X,ee=1/0){return(0,Ie.m)(X)?Ne((de,mt)=>(0,h.U)((Ke,He)=>X(de,Ke,mt,He))((0,te.Xf)(Ae(de,mt))),ee):("number"==typeof X&&(ee=X),(0,H.e)((de,mt)=>function Re(Ae,X,ee,de,mt,Ke,He,Ve){const Me=[];let _e=0,It=0,_t=!1;const $e=()=>{_t&&!Me.length&&!_e&&X.complete()},Ue=ct=>_e<de?D(ct):Me.push(ct),D=ct=>{Ke&&X.next(ct),_e++;let at=!1;(0,te.Xf)(ee(ct,It++)).subscribe((0,fe.x)(X,pe=>{null==mt||mt(pe),Ke?Ue(pe):X.next(pe)},()=>{at=!0},void 0,()=>{if(at)try{for(_e--;Me.length&&_e<de;){const pe=Me.shift();He?(0,ve.f)(X,He,()=>D(pe)):D(pe)}$e()}catch(pe){X.error(pe)}}))};return Ae.subscribe((0,fe.x)(X,Ue,()=>{_t=!0,$e()})),()=>{null==Ve||Ve()}}(de,mt,Ae,ee)))}},5363:(Rt,We,$)=>{"use strict";$.d(We,{Q:()=>ve});var h=$(9672),te=$(4482),H=$(5403);function ve(fe,Re=0){return(0,te.e)((Ie,Ne)=>{Ie.subscribe((0,H.x)(Ne,Ae=>(0,h.f)(Ne,fe,()=>Ne.next(Ae),Re),()=>(0,h.f)(Ne,fe,()=>Ne.complete(),Re),Ae=>(0,h.f)(Ne,fe,()=>Ne.error(Ae),Re)))})}},3099:(Rt,We,$)=>{"use strict";$.d(We,{B:()=>Re});var h=$(8996),te=$(5698),H=$(7579),ve=$(2961),fe=$(4482);function Re(Ne={}){const{connector:Ae=(()=>new H.x),resetOnError:X=!0,resetOnComplete:ee=!0,resetOnRefCountZero:de=!0}=Ne;return mt=>{let Ke=null,He=null,Ve=null,Me=0,_e=!1,It=!1;const _t=()=>{null==He||He.unsubscribe(),He=null},$e=()=>{_t(),Ke=Ve=null,_e=It=!1},Ue=()=>{const D=Ke;$e(),null==D||D.unsubscribe()};return(0,fe.e)((D,ct)=>{Me++,!It&&!_e&&_t();const at=Ve=null!=Ve?Ve:Ae();ct.add(()=>{Me--,0===Me&&!It&&!_e&&(He=Ie(Ue,de))}),at.subscribe(ct),Ke||(Ke=new ve.Hp({next:pe=>at.next(pe),error:pe=>{It=!0,_t(),He=Ie($e,X,pe),at.error(pe)},complete:()=>{_e=!0,_t(),He=Ie($e,ee),at.complete()}}),(0,h.D)(D).subscribe(Ke))})(mt)}}function Ie(Ne,Ae,...X){return!0===Ae?(Ne(),null):!1===Ae?null:Ae(...X).pipe((0,te.q)(1)).subscribe(()=>Ne())}},9468:(Rt,We,$)=>{"use strict";$.d(We,{R:()=>te});var h=$(4482);function te(H,ve=0){return(0,h.e)((fe,Re)=>{Re.add(H.schedule(()=>fe.subscribe(Re),ve))})}},5698:(Rt,We,$)=>{"use strict";$.d(We,{q:()=>ve});var h=$(515),te=$(4482),H=$(5403);function ve(fe){return fe<=0?()=>h.E:(0,te.e)((Re,Ie)=>{let Ne=0;Re.subscribe((0,H.x)(Ie,Ae=>{++Ne<=fe&&(Ie.next(Ae),fe<=Ne&&Ie.complete())}))})}},8505:(Rt,We,$)=>{"use strict";$.d(We,{b:()=>fe});var h=$(576),te=$(4482),H=$(5403),ve=$(4671);function fe(Re,Ie,Ne){const Ae=(0,h.m)(Re)||Ie||Ne?{next:Re,error:Ie,complete:Ne}:Re;return Ae?(0,te.e)((X,ee)=>{var de;null===(de=Ae.subscribe)||void 0===de||de.call(Ae);let mt=!0;X.subscribe((0,H.x)(ee,Ke=>{var He;null===(He=Ae.next)||void 0===He||He.call(Ae,Ke),ee.next(Ke)},()=>{var Ke;mt=!1,null===(Ke=Ae.complete)||void 0===Ke||Ke.call(Ae),ee.complete()},Ke=>{var He;mt=!1,null===(He=Ae.error)||void 0===He||He.call(Ae,Ke),ee.error(Ke)},()=>{var Ke,He;mt&&(null===(Ke=Ae.unsubscribe)||void 0===Ke||Ke.call(Ae)),null===(He=Ae.finalize)||void 0===He||He.call(Ae)}))}):ve.y}},4408:(Rt,We,$)=>{"use strict";$.d(We,{o:()=>fe});var h=$(727);class te extends h.w0{constructor(Ie,Ne){super()}schedule(Ie,Ne=0){return this}}const H={setInterval(Re,Ie,...Ne){const{delegate:Ae}=H;return(null==Ae?void 0:Ae.setInterval)?Ae.setInterval(Re,Ie,...Ne):setInterval(Re,Ie,...Ne)},clearInterval(Re){const{delegate:Ie}=H;return((null==Ie?void 0:Ie.clearInterval)||clearInterval)(Re)},delegate:void 0};var ve=$(8737);class fe extends te{constructor(Ie,Ne){super(Ie,Ne),this.scheduler=Ie,this.work=Ne,this.pending=!1}schedule(Ie,Ne=0){if(this.closed)return this;this.state=Ie;const Ae=this.id,X=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(X,Ae,Ne)),this.pending=!0,this.delay=Ne,this.id=this.id||this.requestAsyncId(X,this.id,Ne),this}requestAsyncId(Ie,Ne,Ae=0){return H.setInterval(Ie.flush.bind(Ie,this),Ae)}recycleAsyncId(Ie,Ne,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return Ne;H.clearInterval(Ne)}execute(Ie,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(Ie,Ne);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,Ne){let X,Ae=!1;try{this.work(Ie)}catch(ee){Ae=!0,X=ee||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:Ne}=this,{actions:Ae}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(Ae,this),null!=Ie&&(this.id=this.recycleAsyncId(Ne,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(Rt,We,$)=>{"use strict";$.d(We,{v:()=>H});var h=$(6063);class te{constructor(fe,Re=te.now){this.schedulerActionCtor=fe,this.now=Re}schedule(fe,Re=0,Ie){return new this.schedulerActionCtor(this,fe).schedule(Ie,Re)}}te.now=h.l.now;class H extends te{constructor(fe,Re=te.now){super(fe,Re),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:Re}=this;if(this._active)return void Re.push(fe);let Ie;this._active=!0;do{if(Ie=fe.execute(fe.state,fe.delay))break}while(fe=Re.shift());if(this._active=!1,Ie){for(;fe=Re.shift();)fe.unsubscribe();throw Ie}}}},4986:(Rt,We,$)=>{"use strict";$.d(We,{z:()=>H});var h=$(4408);const H=new($(7565).v)(h.o)},6063:(Rt,We,$)=>{"use strict";$.d(We,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Rt,We,$)=>{"use strict";$.d(We,{z:()=>h});const h={setTimeout(te,H,...ve){const{delegate:fe}=h;return(null==fe?void 0:fe.setTimeout)?fe.setTimeout(te,H,...ve):setTimeout(te,H,...ve)},clearTimeout(te){const{delegate:H}=h;return((null==H?void 0:H.clearTimeout)||clearTimeout)(te)},delegate:void 0}},2202:(Rt,We,$)=>{"use strict";$.d(We,{h:()=>te});const te=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Rt,We,$)=>{"use strict";$.d(We,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Rt,We,$)=>{"use strict";$.d(We,{_6:()=>Re,jO:()=>ve,yG:()=>fe});var h=$(576);function H(Ie){return Ie[Ie.length-1]}function ve(Ie){return(0,h.m)(H(Ie))?Ie.pop():void 0}function fe(Ie){return function te(Ie){return Ie&&(0,h.m)(Ie.schedule)}(H(Ie))?Ie.pop():void 0}function Re(Ie,Ne){return"number"==typeof H(Ie)?Ie.pop():Ne}},8737:(Rt,We,$)=>{"use strict";function h(te,H){if(te){const ve=te.indexOf(H);0<=ve&&te.splice(ve,1)}}$.d(We,{P:()=>h})},3888:(Rt,We,$)=>{"use strict";function h(te){const ve=te(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}$.d(We,{d:()=>h})},2806:(Rt,We,$)=>{"use strict";$.d(We,{O:()=>ve,x:()=>H});var h=$(2416);let te=null;function H(fe){if(h.v.useDeprecatedSynchronousErrorHandling){const Re=!te;if(Re&&(te={errorThrown:!1,error:null}),fe(),Re){const{errorThrown:Ie,error:Ne}=te;if(te=null,Ie)throw Ne}}else fe()}function ve(fe){h.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=fe)}},9672:(Rt,We,$)=>{"use strict";function h(te,H,ve,fe=0,Re=!1){const Ie=H.schedule(function(){ve(),Re?te.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(te.add(Ie),!Re)return Ie}$.d(We,{f:()=>h})},4671:(Rt,We,$)=>{"use strict";function h(te){return te}$.d(We,{y:()=>h})},1144:(Rt,We,$)=>{"use strict";$.d(We,{z:()=>h});const h=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(Rt,We,$)=>{"use strict";$.d(We,{D:()=>te});var h=$(576);function te(H){return Symbol.asyncIterator&&(0,h.m)(null==H?void 0:H[Symbol.asyncIterator])}},576:(Rt,We,$)=>{"use strict";function h(te){return"function"==typeof te}$.d(We,{m:()=>h})},3670:(Rt,We,$)=>{"use strict";$.d(We,{c:()=>H});var h=$(8822),te=$(576);function H(ve){return(0,te.m)(ve[h.L])}},6495:(Rt,We,$)=>{"use strict";$.d(We,{T:()=>H});var h=$(2202),te=$(576);function H(ve){return(0,te.m)(null==ve?void 0:ve[h.h])}},8239:(Rt,We,$)=>{"use strict";$.d(We,{t:()=>te});var h=$(576);function te(H){return(0,h.m)(null==H?void 0:H.then)}},3260:(Rt,We,$)=>{"use strict";$.d(We,{L:()=>ve,Q:()=>H});var h=$(655),te=$(576);function H(fe){return(0,h.FC)(this,arguments,function*(){const Ie=fe.getReader();try{for(;;){const{value:Ne,done:Ae}=yield(0,h.qq)(Ie.read());if(Ae)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Ne)}}finally{Ie.releaseLock()}})}function ve(fe){return(0,te.m)(null==fe?void 0:fe.getReader)}},4482:(Rt,We,$)=>{"use strict";$.d(We,{A:()=>te,e:()=>H});var h=$(576);function te(ve){return(0,h.m)(null==ve?void 0:ve.lift)}function H(ve){return fe=>{if(te(fe))return fe.lift(function(Re){try{return ve(Re,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Rt,We,$)=>{"use strict";$.d(We,{h:()=>H});var h=$(2416),te=$(3410);function H(ve){te.z.setTimeout(()=>{const{onUnhandledError:fe}=h.v;if(!fe)throw ve;fe(ve)})}},4532:(Rt,We,$)=>{"use strict";function h(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(We,{z:()=>h})},655:(Rt,We,$)=>{"use strict";function ve(ue,be){var De={};for(var Ee in ue)Object.prototype.hasOwnProperty.call(ue,Ee)&&be.indexOf(Ee)<0&&(De[Ee]=ue[Ee]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Ee=Object.getOwnPropertySymbols(ue);tt<Ee.length;tt++)be.indexOf(Ee[tt])<0&&Object.prototype.propertyIsEnumerable.call(ue,Ee[tt])&&(De[Ee[tt]]=ue[Ee[tt]])}return De}function Ne(ue,be,De,Ee){return new(De||(De=Promise))(function(Te,Jt){function kn(Ht){try{Nt(Ee.next(Ht))}catch(wn){Jt(wn)}}function hr(Ht){try{Nt(Ee.throw(Ht))}catch(wn){Jt(wn)}}function Nt(Ht){Ht.done?Te(Ht.value):function tt(Te){return Te instanceof De?Te:new De(function(Jt){Jt(Te)})}(Ht.value).then(kn,hr)}Nt((Ee=Ee.apply(ue,be||[])).next())})}function Me(ue){return this instanceof Me?(this.v=ue,this):new Me(ue)}function _e(ue,be,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Ee=De.apply(ue,be||[]),Te=[];return tt={},Jt("next"),Jt("throw"),Jt("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function Jt(Gn){Ee[Gn]&&(tt[Gn]=function(zr){return new Promise(function(Mn,as){Te.push([Gn,zr,Mn,as])>1||kn(Gn,zr)})})}function kn(Gn,zr){try{!function hr(Gn){Gn.value instanceof Me?Promise.resolve(Gn.value.v).then(Nt,Ht):wn(Te[0][2],Gn)}(Ee[Gn](zr))}catch(Mn){wn(Te[0][3],Mn)}}function Nt(Gn){kn("next",Gn)}function Ht(Gn){kn("throw",Gn)}function wn(Gn,zr){Gn(zr),Te.shift(),Te.length&&kn(Te[0][0],Te[0][1])}}function _t(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,be=ue[Symbol.asyncIterator];return be?be.call(ue):(ue=function de(ue){var be="function"==typeof Symbol&&Symbol.iterator,De=be&&ue[be],Ee=0;if(De)return De.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Ee>=ue.length&&(ue=void 0),{value:ue&&ue[Ee++],done:!ue}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),De={},Ee("next"),Ee("throw"),Ee("return"),De[Symbol.asyncIterator]=function(){return this},De);function Ee(Te){De[Te]=ue[Te]&&function(Jt){return new Promise(function(kn,hr){!function tt(Te,Jt,kn,hr){Promise.resolve(hr).then(function(Nt){Te({value:Nt,done:kn})},Jt)}(kn,hr,(Jt=ue[Te](Jt)).done,Jt.value)})}}}$.d(We,{FC:()=>_e,KL:()=>_t,_T:()=>ve,mG:()=>Ne,qq:()=>Me})},5e3:(Rt,We,$)=>{"use strict";$.d(We,{$8M:()=>au,$Z:()=>am,AFp:()=>AE,ALo:()=>hp,AaK:()=>Ne,CHM:()=>ma,CRH:()=>pE,CZH:()=>rl,CqO:()=>Bf,EJc:()=>u0,EpF:()=>Uf,F4k:()=>xr,FYo:()=>Lc,FiY:()=>bs,G48:()=>SD,GfV:()=>Bc,Gpc:()=>ee,JOm:()=>Se,LFG:()=>Dt,LSH:()=>Dl,Lbi:()=>bp,MAs:()=>zd,NdJ:()=>av,OlP:()=>Dr,Oqu:()=>Zf,PXZ:()=>DD,Q6J:()=>ov,QGY:()=>lm,Qsj:()=>Vc,R0b:()=>Lo,RDi:()=>O,Rgc:()=>el,SBq:()=>ap,Sil:()=>Zm,Suo:()=>fE,TTD:()=>Qs,TgZ:()=>Jd,VLi:()=>OE,X6Q:()=>VE,XFs:()=>Ye,Xpm:()=>rn,Y36:()=>Ra,YKP:()=>Vv,YNc:()=>Q_,Yjl:()=>ni,Yz7:()=>Mn,ZZ4:()=>oy,_Bn:()=>Ov,_UZ:()=>um,_Vd:()=>op,_c5:()=>kp,_uU:()=>vv,aQg:()=>b0,c2e:()=>xE,cJS:()=>On,cg1:()=>Av,dDg:()=>ol,deG:()=>Xp,dqk:()=>Dn,eFA:()=>h0,ekj:()=>fv,g9A:()=>SE,h0i:()=>fa,hGG:()=>I0,hij:()=>ih,iGM:()=>Gc,ifc:()=>gn,ip1:()=>Ah,kL8:()=>Eb,lG2:()=>xn,lcZ:()=>Eh,n5z:()=>dd,oAB:()=>he,oxw:()=>rb,q4F:()=>Lv,qLn:()=>Si,qOj:()=>z_,qZA:()=>vu,sBO:()=>RD,sIi:()=>Tc,s_b:()=>gp,soG:()=>a0,tBr:()=>Vi,tb:()=>il,tp0:()=>Ia,uIk:()=>Rf,vHH:()=>He,vpe:()=>Cu,wAp:()=>Yt,xp6:()=>LI,z2F:()=>Cp,zSh:()=>Sa,zs3:()=>xa});var h=$(7579),te=$(727),H=$(8306),ve=$(6451),fe=$(3099);function Re(i){for(let s in i)if(i[s]===Re)return s;throw Error("Could not find renamed property on target object.")}function Ie(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Ne(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ne).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Ae(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const X=Re({__forward_ref__:Re});function ee(i){return i.__forward_ref__=ee,i.toString=function(){return Ne(this())},i}function de(i){return mt(i)?i():i}function mt(i){return"function"==typeof i&&i.hasOwnProperty(X)&&i.__forward_ref__===ee}class He extends Error{constructor(s,a){super(function Ve(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function Me(i){return"string"==typeof i?i:null==i?"":String(i)}function _e(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Me(i)}function Ue(i,s){const a=s?` in ${s}`:"";throw new He(-201,`No provider for ${_e(i)} found${a}`)}function Nt(i,s){null==i&&function Ht(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Mn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function On(i){return{providers:i.providers||[],imports:i.imports||[]}}function bn(i){return wr(i,us)||wr(i,yi)}function wr(i,s){return i.hasOwnProperty(s)?i[s]:null}function di(i){return i&&(i.hasOwnProperty(rr)||i.hasOwnProperty(_i))?i[rr]:null}const us=Re({\u0275prov:Re}),rr=Re({\u0275inj:Re}),yi=Re({ngInjectableDef:Re}),_i=Re({ngInjectorDef:Re});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let Yn;function Rr(i){const s=Yn;return Yn=i,s}function Ri(i,s,a){const l=bn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ye.Optional?null:void 0!==s?s:void Ue(Ne(i),"Injector")}function er(i){return{toString:i}.toString()}var ur=(()=>((ur=ur||{})[ur.OnPush=0]="OnPush",ur[ur.Default=1]="Default",ur))(),gn=(()=>{return(i=gn||(gn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",gn;var i})();const xt="undefined"!=typeof globalThis&&globalThis,$t="undefined"!=typeof window&&window,Fr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Dn=xt||"undefined"!=typeof global&&global||$t||Fr,Lr={},Pt=[],Qn=Re({\u0275cmp:Re}),qt=Re({\u0275dir:Re}),vt=Re({\u0275pipe:Re}),ze=Re({\u0275mod:Re}),wt=Re({\u0275fac:Re}),Ft=Re({__NG_ELEMENT_ID__:Re});let ln=0;function rn(i){return er(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===ur.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Pt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||gn.Emulated,id:"c",styles:i.styles||Pt,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,g=i.features,v=i.pipes;return l.id+=ln++,l.inputs=Gt(i.inputs,a),l.outputs=Gt(i.outputs),g&&g.forEach(I=>I(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(Z):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(ne):null,l})}function Z(i){return An(i)||function sr(i){return i[qt]||null}(i)}function ne(i){return function dn(i){return i[vt]||null}(i)}const xe={};function he(i){return er(()=>{const s={type:i.type,bootstrap:i.bootstrap||Pt,declarations:i.declarations||Pt,imports:i.imports||Pt,exports:i.exports||Pt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(xe[i.id]=i.type),s})}function Gt(i,s){if(null==i)return Lr;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],g=c;Array.isArray(c)&&(g=c[1],c=c[0]),a[c]=l,s&&(s[c]=g)}return a}const xn=rn;function ni(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function An(i){return i[Qn]||null}function Rn(i,s){const a=i[ze]||null;if(!a&&!0===s)throw new Error(`Type ${Ne(i)} does not have '\u0275mod' property.`);return a}function cr(i){return Array.isArray(i)&&"object"==typeof i[1]}function wi(i){return Array.isArray(i)&&!0===i[1]}function Go(i){return 0!=(8&i.flags)}function Ks(i){return 2==(2&i.flags)}function ja(i){return 1==(1&i.flags)}function Ir(i){return null!==i.template}function Eo(i){return 0!=(512&i[2])}function ri(i,s){return i.hasOwnProperty(wt)?i[wt]:null}class Co{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Qs(){return Do}function Do(i){return i.type.prototype.ngOnChanges&&(i.setInput=od),hl}function hl(){const i=Oi(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Lr)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function od(i,s,a,l){const c=Oi(i)||function bi(i,s){return i[Wo]=s}(i,{previous:Lr,current:null}),g=c.current||(c.current={}),v=c.previous,I=this.declaredInputs[a],T=v[I];g[I]=new Co(T&&T.currentValue,s,v===Lr),i[l]=s}Qs.ngInherit=!0;const Wo="__ngSimpleChanges__";function Oi(i){return i[Wo]||null}const w="math";let k;function O(i){k=i}function G(i){return!!i.listen}const oe={createRenderer:(i,s)=>function V(){return void 0!==k?k:"undefined"!=typeof document?document:void 0}()};function Oe(i){for(;Array.isArray(i);)i=i[0];return i}function Ct(i,s){return Oe(s[i])}function Mt(i,s){return Oe(s[i.index])}function ir(i,s){return i.data[s]}function Pn(i,s){return i[s]}function zn(i,s){const a=s[i];return cr(a)?a:a[0]}function Tn(i){return 4==(4&i[2])}function Lt(i){return 128==(128&i[2])}function Xt(i,s){return null==s?null:i[s]}function Fn(i){i[18]=0}function Pi(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const kt={lFrame:jr(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qi(){return kt.bindingsEnabled}function qe(){return kt.lFrame.lView}function en(){return kt.lFrame.tView}function ma(i){return kt.lFrame.contextLView=i,i[8]}function Bt(){let i=Fi();for(;null!==i&&64===i.type;)i=i.parent;return i}function Fi(){return kt.lFrame.currentTNode}function ii(i,s){const a=kt.lFrame;a.currentTNode=i,a.isParent=s}function Nu(){return kt.lFrame.isParent}function Ya(){return kt.isInCheckNoChangesMode}function Js(i){kt.isInCheckNoChangesMode=i}function Xs(){return kt.lFrame.bindingIndex++}function Yo(i,s){const a=kt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ii(s)}function Ii(i){kt.lFrame.currentDirectiveIndex=i}function Xa(){return kt.lFrame.currentQueryIndex}function eu(i){kt.lFrame.currentQueryIndex=i}function pl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function jn(i,s,a){if(a&Ye.SkipSelf){let c=s,g=i;for(;!(c=c.parent,null!==c||a&Ye.Host||(c=pl(g),null===c||(g=g[15],10&c.type))););if(null===c)return!1;s=c,i=g}const l=kt.lFrame=Li();return l.currentTNode=s,l.lView=i,!0}function gs(i){const s=Li(),a=i[1];kt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Li(){const i=kt.lFrame,s=null===i?null:i.child;return null===s?jr(i):s}function jr(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function tu(){const i=kt.lFrame;return kt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ku=tu;function So(){const i=tu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function dr(){return kt.lFrame.selectedIndex}function ms(i){kt.lFrame.selectedIndex=i}function ar(){const i=kt.lFrame;return ir(i.tView,i.selectedIndex)}function es(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:T,ngAfterViewChecked:N,ngOnDestroy:P}=g;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),I&&((i.contentHooks||(i.contentHooks=[])).push(a,I),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,I)),T&&(i.viewHooks||(i.viewHooks=[])).push(-a,T),N&&((i.viewHooks||(i.viewHooks=[])).push(a,N),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,N)),null!=P&&(i.destroyHooks||(i.destroyHooks=[])).push(a,P)}}function _a(i,s,a){re(i,s,3,a)}function B(i,s,a,l){(3&i[2])===a&&re(i,s,a,l)}function W(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function re(i,s,a,l){const g=null!=l?l:-1,v=s.length-1;let I=0;for(let T=void 0!==l?65535&i[18]:0;T<v;T++)if("number"==typeof s[T+1]){if(I=s[T],null!=l&&I>=l)break}else s[T]<0&&(i[18]+=65536),(I<g||-1==g)&&(Be(i,a,s,T),i[18]=(4294901760&i[18])+T+2),T++}function Be(i,s,a,l){const c=a[l]<0,g=a[l+1],I=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{g.call(I)}finally{}}}else try{g.call(I)}finally{}}class je{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Qe(i,s,a){const l=G(i);let c=0;for(;c<a.length;){const g=a[c];if("number"==typeof g){if(0!==g)break;c++;const v=a[c++],I=a[c++],T=a[c++];l?i.setAttribute(s,I,T,v):s.setAttributeNS(v,I,T)}else{const v=g,I=a[++c];qn(v)?l&&i.setProperty(s,v,I):l?i.setAttribute(s,v,I):s.setAttribute(v,I),c++}}return c}function Sn(i){return 3===i||4===i||6===i}function qn(i){return 64===i.charCodeAt(0)}function Xn(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||Hn(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function Hn(i,s,a,l,c){let g=0,v=i.length;if(-1===s)v=-1;else for(;g<i.length;){const I=i[g++];if("number"==typeof I){if(I===s){v=-1;break}if(I>s){v=g-1;break}}}for(;g<i.length;){const I=i[g];if("number"==typeof I)break;if(I===a){if(null===l)return void(null!==c&&(i[g+1]=c));if(l===i[g+1])return void(i[g+2]=c)}g++,null!==l&&g++,null!==c&&g++}-1!==v&&(i.splice(v,0,s),g=v+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==c&&i.splice(g++,0,c)}function Jo(i){return-1!==i}function Ln(i){return 32767&i}function Ns(i,s){let a=function Ci(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let ml=!0;function ys(i){const s=ml;return ml=i,s}let ld=0;function Or(i,s){const a=iu(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,xo(l.data,i),xo(s,null),xo(l.blueprint,null));const c=_s(i,s),g=i.injectorIndex;if(Jo(c)){const v=Ln(c),I=Ns(c,s),T=I[1].data;for(let N=0;N<8;N++)s[g+N]=I[v+N]|T[v+N]}return s[g+8]=c,g}function xo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function iu(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function _s(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){const g=c[1],v=g.type;if(l=2===v?g.declTNode:1===v?c[6]:null,null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Xo(i,s,a){!function va(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Ft)&&(l=a[Ft]),null==l&&(l=a[Ft]=ld++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function to(i,s,a){if(a&Ye.Optional)return i;Ue(s,"NodeInjector")}function ec(i,s,a,l){if(a&Ye.Optional&&void 0===l&&(l=null),0==(a&(Ye.Self|Ye.Host))){const c=i[9],g=Rr(void 0);try{return c?c.get(s,l,a&Ye.Optional):Ri(s,l,a&Ye.Optional)}finally{Rr(g)}}return to(l,s,a)}function ea(i,s,a,l=Ye.Default,c){if(null!==i){const g=function ou(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Ft)?i[Ft]:void 0;return"number"==typeof s?s>=0?255&s:tc:s}(a);if("function"==typeof g){if(!jn(s,i,l))return l&Ye.Host?to(c,a,l):ec(s,a,l,c);try{const v=g(l);if(null!=v||l&Ye.Optional)return v;Ue(a)}finally{ku()}}else if("number"==typeof g){let v=null,I=iu(i,s),T=-1,N=l&Ye.Host?s[16][6]:null;for((-1===I||l&Ye.SkipSelf)&&(T=-1===I?_s(i,s):s[I+8],-1!==T&&Di(l,!1)?(v=s[1],I=Ln(T),s=Ns(T,s)):I=-1);-1!==I;){const P=s[1];if(Fu(g,I,P.data)){const q=cd(I,s,a,v,l,N);if(q!==no)return q}T=s[I+8],-1!==T&&Di(l,s[1].data[I+8]===N)&&Fu(g,I,s)?(v=P,I=Ln(T),s=Ns(T,s)):I=-1}}}return ec(s,a,l,c)}const no={};function tc(){return new Os(Bt(),qe())}function cd(i,s,a,l,c,g){const v=s[1],I=v.data[i+8],P=su(I,v,a,null==l?Ks(I)&&ml:l!=v&&0!=(3&I.type),c&Ye.Host&&g===I);return null!==P?ks(s,v,P,I):no}function su(i,s,a,l,c){const g=i.providerIndexes,v=s.data,I=1048575&g,T=i.directiveStart,P=g>>20,J=c?I+P:i.directiveEnd;for(let ce=l?I:I+P;ce<J;ce++){const Le=v[ce];if(ce<T&&a===Le||ce>=T&&Le.type===a)return ce}if(c){const ce=v[T];if(ce&&Ir(ce)&&ce.type===a)return T}return null}function ks(i,s,a,l){let c=i[a];const g=s.data;if(function Ze(i){return i instanceof je}(c)){const v=c;v.resolving&&function It(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new He(-200,`Circular dependency in DI detected for ${i}${a}`)}(_e(g[a]));const I=ys(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Rr(v.injectImpl):null;jn(i,l,Ye.Default);try{c=i[a]=v.factory(void 0,g,i,l),s.firstCreatePass&&a>=l.directiveStart&&function ya(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:g}=s.type.prototype;if(l){const v=Do(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==T&&Rr(T),ys(I),v.resolving=!1,ku()}}return c}function Fu(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Di(i,s){return!(i&Ye.Self||i&Ye.Host&&s)}class Os{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return ea(this._tNode,this._lView,s,l,a)}}function dd(i){return er(()=>{const s=i.prototype.constructor,a=s[wt]||yr(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const g=c[wt]||yr(c);if(g&&g!==a)return g;c=Object.getPrototypeOf(c)}return g=>new g})}function yr(i){return mt(i)?()=>{const s=yr(de(i));return s&&s()}:ri(i)}function au(i){return function Pu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const g=a[c];if(Sn(g))break;if(0===g)c+=2;else if("number"==typeof g)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(g===s)return a[c+1];c+=2}}}return null}(Bt(),i)}const uu="__parameters__";function Cr(i,s,a){return er(()=>{const l=function ro(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...g){if(this instanceof c)return l.apply(this,g),this;const v=new c(...g);return I.annotation=v,I;function I(T,N,P){const q=T.hasOwnProperty(uu)?T[uu]:Object.defineProperty(T,uu,{value:[]})[uu];for(;q.length<=P;)q.push(null);return(q[P]=q[P]||[]).push(v),T}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Dr{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Mn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xp=new Dr("AnalyzeForEntryComponents");function fi(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),fi(l,s)):s!==i&&s.push(l)}return s}function vs(i,s){i.forEach(a=>Array.isArray(a)?vs(a,s):s(a))}function ic(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function No(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Qr(i,s,a){let l=ia(i,s);return l>=0?i[1|l]=a:(l=~l,function sc(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function uc(i,s){const a=ia(i,s);if(a>=0)return i[1|a]}function ia(i,s){return function wa(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const g=l+(c-l>>1),v=i[g<<a];if(s===v)return g<<a;v>s?c=g:l=g+1}return~(c<<a)}(i,s,1)}const ba={},cu="__NG_DI_FLAG__",wl="ngTempTokenPath",M=/\n/gm,z="__source",le=Re({provide:String,useValue:Re});let me;function Je(i){const s=me;return me=i,s}function Xe(i,s=Ye.Default){if(void 0===me)throw new He(203,"");return null===me?Ri(i,void 0,s):me.get(i,s&Ye.Optional?null:void 0,s)}function Dt(i,s=Ye.Default){return(function Pr(){return Yn}()||Xe)(de(i),s)}const mn=Dt;function an(i){const s=[];for(let a=0;a<i.length;a++){const l=de(i[a]);if(Array.isArray(l)){if(0===l.length)throw new He(900,"");let c,g=Ye.Default;for(let v=0;v<l.length;v++){const I=l[v],T=Tr(I);"number"==typeof T?-1===T?c=I.token:g|=T:c=I}s.push(Dt(c,g))}else s.push(Dt(l))}return s}function $r(i,s){return i[cu]=s,i.prototype[cu]=s,i}function Tr(i){return i[cu]}const Vi=$r(Cr("Inject",i=>({token:i})),-1),bs=$r(Cr("Optional"),8),Ia=$r(Cr("SkipSelf"),4);class bd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function sa(i){return i instanceof bd?i.changingThisBreaksApplicationSecurity:i}const oa=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Wn=(()=>((Wn=Wn||{})[Wn.NONE=0]="NONE",Wn[Wn.HTML=1]="HTML",Wn[Wn.STYLE=2]="STYLE",Wn[Wn.SCRIPT=3]="SCRIPT",Wn[Wn.URL=4]="URL",Wn[Wn.RESOURCE_URL=5]="RESOURCE_URL",Wn))();function Dl(i){const s=function gu(){const i=qe();return i&&i[12]}();return s?s.sanitize(Wn.URL,i)||"":function fu(i,s){const a=function El(i){return i instanceof bd&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?sa(i):function Il(i){return(i=String(i)).match(oa)||i.match(Kh)?i:"unsafe:"+i}(Me(i))}const af="__ngContext__";function Ui(i,s){i[af]=s}function uf(i){const s=function ju(i){return i[af]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function qu(i){return i.ngOriginalError}function gg(i,...s){i.error(...s)}class Si{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function zy(i){return i&&i.ngErrorLogger||gg}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&qu(s);for(;a&&qu(a);)a=qu(a);return a||null}}const Yy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Dn))();function m(i){return i instanceof Function?i():i}var Se=(()=>((Se=Se||{})[Se.Important=1]="Important",Se[Se.DashCase=2]="DashCase",Se))();function Tt(i,s){return undefined(i,s)}function Ar(i){const s=i[3];return wi(s)?s[3]:s}function Tl(i){return mf(i[13])}function Al(i){return mf(i[4])}function mf(i){for(;null!==i&&!wi(i);)i=i[4];return i}function mu(i,s,a,l,c){if(null!=l){let g,v=!1;wi(l)?g=l:cr(l)&&(v=!0,l=l[0]);const I=Oe(l);0===i&&null!==a?null==c?r_(s,a,I):Oo(s,a,I,c||null,!0):1===i&&null!==a?Oo(s,a,I,c||null,!0):2===i?function a_(i,s,a){const l=vf(i,s);l&&function SI(i,s,a,l){G(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,I,v):3===i&&s.destroyNode(I),null!=g&&function RI(i,s,a,l,c){const g=a[7];g!==Oe(a)&&mu(s,i,l,g,c);for(let I=10;I<a.length;I++){const T=a[I];bg(T[1],T,i,s,l,g)}}(s,i,g,a,c)}}function xd(i,s,a){if(G(i))return i.createElement(s,a);{const l=null!==a?function A(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":s===w?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function z0(i,s){const a=i[9],l=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,Pi(c,-1)),a.splice(l,1)}function e_(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&z0(c,l),s>0&&(i[a-1][4]=l[4]);const g=No(i,10+s);!function Bi(i,s){bg(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function t_(i,s){if(!(256&s[2])){const a=s[11];G(a)&&a.destroyNode&&bg(i,s,a,3,null,null),function Xy(i){let s=i[13];if(!s)return n_(i[1],i);for(;s;){let a=null;if(cr(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)cr(s)&&n_(s[1],s),s=s[3];null===s&&(s=i),cr(s)&&n_(s[1],s),a=s&&s[4]}s=a}}(s)}}function n_(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Z0(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof je)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=c[g[v]],T=g[v+1];try{T.call(I)}finally{}}else try{g.call(c)}finally{}}}}(i,s),function W0(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],I="function"==typeof v?v(s):Oe(s[v]),T=l[c=a[g+2]],N=a[g+3];"boolean"==typeof N?I.removeEventListener(a[g],T,N):N>=0?l[c=N]():l[c=-N].unsubscribe(),g+=2}else{const v=l[c=a[g+1]];a[g].call(v)}if(null!==l){for(let g=c+1;g<l.length;g++)l[g]();s[7]=null}}(i,s),1===s[1].type&&G(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&wi(s[3])){a!==s[3]&&z0(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function vg(i,s,a){return function AI(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===gn.None||c===gn.Emulated)return null}return Mt(l,a)}(i,s.parent,a)}function Oo(i,s,a,l,c){G(i)?i.insertBefore(s,a,l,c):s.insertBefore(a,l,c)}function r_(i,s,a){G(i)?i.appendChild(s,a):s.appendChild(a)}function K0(i,s,a,l,c){null!==l?Oo(i,s,a,l,c):r_(i,s,a)}function vf(i,s){return G(i)?i.parentNode(s):s.parentNode}let i_=function Q0(i,s,a){return 40&i.type?Mt(i,a):null};function wg(i,s,a,l){const c=vg(i,l,s),g=s[11],I=function Y0(i,s,a){return i_(i,s,a)}(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let T=0;T<a.length;T++)K0(g,c,a[T],I,!1);else K0(g,c,a,I,!1)}function Rd(i,s){if(null!==s){const a=s.type;if(3&a)return Mt(s,i);if(4&a)return o_(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Rd(i,l);{const c=i[s.index];return wi(c)?o_(-1,c):Oe(c)}}if(32&a)return Tt(s,i)()||Oe(i[s.index]);{const l=X0(i,s);return null!==l?Array.isArray(l)?l[0]:Rd(Ar(i[16]),l):Rd(i,s.next)}}return null}function X0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function o_(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return Rd(l,c)}return s[7]}function u_(i,s,a,l,c,g,v){for(;null!=a;){const I=l[a.index],T=a.type;if(v&&0===s&&(I&&Ui(Oe(I),l),a.flags|=4),64!=(64&a.flags))if(8&T)u_(i,s,a.child,l,c,g,!1),mu(s,i,c,I,g);else if(32&T){const N=Tt(a,l);let P;for(;P=N();)mu(s,i,c,P,g);mu(s,i,c,I,g)}else 16&T?Fe(i,s,l,a,c,g):mu(s,i,c,I,g);a=v?a.projectionNext:a.next}}function bg(i,s,a,l,c,g){u_(a,l,i.firstChild,s,c,g,!1)}function Fe(i,s,a,l,c,g){const v=a[16],T=v[6].projection[l.projection];if(Array.isArray(T))for(let N=0;N<T.length;N++)mu(s,i,c,T[N],g);else u_(i,s,T,v[3],c,g,!0)}function ew(i,s,a){G(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function l_(i,s,a){G(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function tw(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const g=s.length;if(c+g===l||i.charCodeAt(c+g)<=32)return c}a=c+1}}const c_="ng-template";function d_(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==tw(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Sr(i){return 4===i.type&&i.value!==c_}function Bs(i,s,a){return s===(4!==i.type||a?i.value:c_)}function nw(i,s,a){let l=4;const c=i.attrs||[],g=function h_(i){for(let s=0;s<i.length;s++)if(Sn(i[s]))return s;return i.length}(c);let v=!1;for(let I=0;I<s.length;I++){const T=s[I];if("number"!=typeof T){if(!v)if(4&l){if(l=2|1&l,""!==T&&!Bs(i,T,a)||""===T&&1===s.length){if(lo(l))return!1;v=!0}}else{const N=8&l?T:s[++I];if(8&l&&null!==i.attrs){if(!d_(i.attrs,N,a)){if(lo(l))return!1;v=!0}continue}const q=kI(8&l?"class":T,c,Sr(i),a);if(-1===q){if(lo(l))return!1;v=!0;continue}if(""!==N){let J;J=q>g?"":c[q+1].toLowerCase();const ce=8&l?J:null;if(ce&&-1!==tw(ce,N,0)||2&l&&N!==J){if(lo(l))return!1;v=!0}}}}else{if(!v&&!lo(l)&&!lo(T))return!1;if(v&&lo(T))continue;v=!1,l=T|1&l}}return lo(l)||v}function lo(i){return 0==(1&i)}function kI(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let g=!1;for(;c<s.length;){const v=s[c];if(v===i)return c;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=s[++c];for(;"string"==typeof I;)I=s[++c];continue}if(4===v)break;if(0===v){c+=4;continue}}c+=g?1:2}return-1}return function DA(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function OI(i,s,a=!1){for(let l=0;l<s.length;l++)if(nw(i,s[l],a))return!0;return!1}function rw(i,s){return i?":not("+s.trim()+")":s}function FI(i){let s=i[0],a=1,l=2,c="",g=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&l){const I=i[++a];c+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?c+="."+v:4&l&&(c+=" "+v);else""!==c&&!lo(v)&&(s+=rw(g,c),c=""),l=v,g=g||!lo(l);a++}return""!==c&&(s+=rw(g,c)),s}const _n={};function LI(i){VI(en(),qe(),dr()+i,Ya())}function VI(i,s,a,l){if(!l)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&_a(s,g,a)}else{const g=i.preOrderHooks;null!==g&&B(s,g,0,a)}ms(a)}function f_(i,s){return i<<17|s<<2}function yu(i){return i>>17&32767}function nn(i){return 2|i}function Is(i){return(131068&i)>>2}function Ig(i,s){return-131069&i|s<<2}function p_(i){return 1|i}function C_(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],g=a[l+1];if(-1!==g){const v=i.data[g];eu(c),v.contentQueries(2,s[g],g)}}}function If(i,s,a,l,c,g,v,I,T,N){const P=s.blueprint.slice();return P[0]=c,P[2]=140|l,Fn(P),P[3]=P[15]=i,P[8]=a,P[10]=v||i&&i[10],P[11]=I||i&&i[11],P[12]=T||i&&i[12]||null,P[9]=N||i&&i[9]||null,P[6]=g,P[16]=2==s.type?i[16]:P,P}function Od(i,s,a,l,c){let g=i.data[s];if(null===g)g=function T_(i,s,a,l,c){const g=Fi(),v=Nu(),T=i.data[s]=function ZI(i,s,a,l,c,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(i,s,a,l,c),function Ao(){return kt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=c;const v=function To(){const i=kt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ii(g,!0),g}function Gu(i,s,a,l){if(0===a)return-1;const c=s.length;for(let g=0;g<a;g++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function Cc(i,s,a){gs(s);try{const l=i.viewQuery;null!==l&&Ug(1,l,a);const c=i.template;null!==c&&S_(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&C_(i,s),i.staticViewQueries&&Ug(2,i.viewQuery,a);const g=i.components;null!==g&&function D_(i,s){for(let a=0;a<s.length;a++)qA(i,s[a])}(s,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,So()}}function Ml(i,s,a,l){const c=s[2];if(256==(256&c))return;gs(s);const g=Ya();try{Fn(s),function Qa(i){return kt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&S_(i,s,a,2,l);const v=3==(3&c);if(!g)if(v){const N=i.preOrderCheckHooks;null!==N&&_a(s,N,null)}else{const N=i.preOrderHooks;null!==N&&B(s,N,0,null),W(s,0)}if(function eC(i){for(let s=Tl(i);null!==s;s=Al(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],g=c[3];0==(1024&c[2])&&Pi(g,1),c[2]|=1024}}}(s),function $A(i){for(let s=Tl(i);null!==s;s=Al(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];Lt(l)&&Ml(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&C_(i,s),!g)if(v){const N=i.contentCheckHooks;null!==N&&_a(s,N)}else{const N=i.contentHooks;null!==N&&B(s,N,1),W(s,1)}!function I_(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)ms(~c);else{const g=c,v=a[++l],I=a[++l];Yo(v,g),I(2,s[g])}}}finally{ms(-1)}}(i,s);const I=i.components;null!==I&&function uw(i,s){for(let a=0;a<s.length;a++)tC(i,s[a])}(s,I);const T=i.viewQuery;if(null!==T&&Ug(2,T,l),!g)if(v){const N=i.viewCheckHooks;null!==N&&_a(s,N)}else{const N=i.viewHooks;null!==N&&B(s,N,2),W(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Pi(s[3],-1))}finally{So()}}function A_(i,s,a,l){const c=s[10],g=!Ya(),v=Tn(s);try{g&&!v&&c.begin&&c.begin(),v&&Cc(i,s,l),Ml(i,s,a,l)}finally{g&&!v&&c.end&&c.end()}}function S_(i,s,a,l,c){const g=dr(),v=2&l;try{ms(-1),v&&s.length>20&&VI(i,s,20,Ya()),a(l,c)}finally{ms(g)}}function kg(i,s,a){!Qi()||(function UA(i,s,a,l){const c=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Or(a,s),Ui(l,s);const v=a.initialInputs;for(let I=c;I<g;I++){const T=i.data[I],N=Ir(T);N&&ww(s,a,T);const P=ks(s,i,I,a);Ui(P,s),null!==v&&HA(0,I-c,P,T,0,v),N&&(zn(a.index,s)[8]=P)}}(i,s,a,Mt(a,s)),128==(128&a.flags)&&function QI(i,s,a){const l=a.directiveStart,c=a.directiveEnd,v=a.index,I=function Xi(){return kt.lFrame.currentDirectiveIndex}();try{ms(v);for(let T=l;T<c;T++){const N=i.data[T],P=s[T];Ii(T),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&JI(N,P)}}finally{ms(-1),Ii(I)}}(i,s,a))}function Pd(i,s,a=Mt){const l=s.localNames;if(null!==l){let c=s.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],I=-1===v?a(s,i):i[v];i[c++]=I}}}function cw(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Og(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Og(i,s,a,l,c,g,v,I,T,N){const P=20+l,q=P+c,J=function WI(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:_n);return a}(P,q),ce="function"==typeof N?N():N;return J[1]={type:i,blueprint:J,template:a,queries:null,viewQuery:I,declTNode:s,data:J.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:ce,incompleteFirstPass:!1}}function fw(i,s,a,l){const c=O_(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&P_(i).push(l,c.length-1))}function pw(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function Fg(i,s,a,l){let c=!1;if(Qi()){const g=function BA(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];OI(a,v.selectors,!1)&&(c||(c=[]),Xo(Or(a,s),i,v.type),Ir(v)?(Lg(i,a),c.unshift(v)):c.push(v))}return c}(i,s,a),v=null===l?null:{"":-1};if(null!==g){c=!0,R_(a,i.data.length,g.length);for(let P=0;P<g.length;P++){const q=g[P];q.providersResolver&&q.providersResolver(q)}let I=!1,T=!1,N=Gu(i,s,g.length,null);for(let P=0;P<g.length;P++){const q=g[P];a.mergedAttrs=Xn(a.mergedAttrs,q.hostAttrs),vw(i,a,s,N,q),XI(N,q,v),null!==q.contentQueries&&(a.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(a.flags|=128);const J=q.type.prototype;!I&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),I=!0),!T&&(J.ngOnChanges||J.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),T=!0),N++}!function KI(i,s){const l=s.directiveEnd,c=i.data,g=s.attrs,v=[];let I=null,T=null;for(let N=s.directiveStart;N<l;N++){const P=c[N],q=P.inputs,J=null===g||Sr(s)?null:N_(q,g);v.push(J),I=pw(q,N,I),T=pw(P.outputs,N,T)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=16),I.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=I,s.outputs=T}(i,a)}v&&function jA(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const g=a[s[c+1]];if(null==g)throw new He(-301,!1);l.push(s[c],g)}}}(a,l,v)}return a.mergedAttrs=Xn(a.mergedAttrs,a.attrs),c}function M_(i,s,a,l,c,g){const v=g.hostBindings;if(v){let I=i.hostBindingOpCodes;null===I&&(I=i.hostBindingOpCodes=[]);const T=~s.index;(function _w(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=T&&I.push(T),I.push(l,c,v)}}function JI(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Lg(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function XI(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Ir(s)&&(a[""]=i)}}function R_(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function vw(i,s,a,l,c){i.data[l]=c;const g=c.factory||(c.factory=ri(c.type)),v=new je(g,Ir(c),null);i.blueprint[l]=v,a[l]=v,M_(i,s,0,l,Gu(i,a,c.hostVars,_n),c)}function ww(i,s,a){const l=Mt(s,i),c=cw(a),g=i[10],v=k_(i,If(i,c,null,a.onPush?64:16,l,s,g,g.createRenderer(l,a),null,null));i[s.index]=v}function la(i,s,a,l,c,g){const v=Mt(i,s);!function Fd(i,s,a,l,c,g,v){if(null==g)G(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const I=null==v?Me(g):v(g,l||"",c);G(i)?i.setAttribute(s,c,I,a):a?s.setAttributeNS(a,c,I):s.setAttribute(c,I)}}(s[11],v,g,i.value,a,l,c)}function HA(i,s,a,l,c,g){const v=g[s];if(null!==v){const I=l.setInput;for(let T=0;T<v.length;){const N=v[T++],P=v[T++],q=v[T++];null!==I?l.setInput(a,q,N,P):a[P]=q}}}function N_(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function bw(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function tC(i,s){const a=zn(s,i);if(Lt(a)){const l=a[1];80&a[2]?Ml(l,a,l.template,a[8]):a[5]>0&&Ew(a)}}function Ew(i){for(let l=Tl(i);null!==l;l=Al(l))for(let c=10;c<l.length;c++){const g=l[c];if(1024&g[2]){const v=g[1];Ml(v,g,v.template,g[8])}else g[5]>0&&Ew(g)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=zn(a[l],i);Lt(c)&&c[5]>0&&Ew(c)}}function qA(i,s){const a=zn(s,i),l=a[1];(function nC(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Cc(l,a,a[8])}function k_(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Iw(i){for(;i;){i[2]|=64;const s=Ar(i);if(Eo(i)&&!s)return i;i=s}return null}function Dw(i,s,a){const l=s[10];l.begin&&l.begin();try{Ml(i,s,i.template,a)}catch(c){throw Ld(s,c),c}finally{l.end&&l.end()}}function Vg(i){!function Cw(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=uf(a),c=l[1];A_(c,l,c.template,a)}}(i[8])}function Ug(i,s,a){eu(0),s(i,a)}const Aw=(()=>Promise.resolve(null))();function O_(i){return i[7]||(i[7]=[])}function P_(i){return i.cleanup||(i.cleanup=[])}function Ld(i,s){const a=i[9],l=a?a.get(Si,null):null;l&&l.handleError(s)}function Sw(i,s,a,l,c){for(let g=0;g<a.length;){const v=a[g++],I=a[g++],T=s[v],N=i.data[v];null!==N.setInput?N.setInput(T,c,l,I):T[I]=c}}function _u(i,s,a){const l=Ct(s,i);!function Sd(i,s,a){G(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function Vd(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,g=0;if(null!==s)for(let v=0;v<s.length;v++){const I=s[v];"number"==typeof I?g=I:1==g?c=Ae(c,I):2==g&&(l=Ae(l,I+": "+s[++v]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}const Bg=new Dr("INJECTOR",-1);class xw{get(s,a=ba){if(a===ba){const l=new Error(`NullInjectorError: No provider for ${Ne(s)}!`);throw l.name="NullInjectorError",l}return a}}const Sa=new Dr("Set Injector scope."),Et={},L_={};let cn;function Cf(){return void 0===cn&&(cn=new xw),cn}function jg(i,s=null,a=null,l){const c=Ud(i,s,a,l);return c._resolveInjectorDefTypes(),c}function Ud(i,s=null,a=null,l){return new aC(i,a,s||Cf(),l)}class aC{constructor(s,a,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&vs(a,I=>this.processProvider(I,s,a)),vs([s],I=>this.processInjectorType(I,[],g)),this.records.set(Bg,Jr(void 0,this));const v=this.records.get(Sa);this.scope=null!=v?v.value:null,this.source=c||("object"==typeof s?null:Ne(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ba,l=Ye.Default){this.assertNotDestroyed();const c=Je(this),g=Rr(void 0);try{if(!(l&Ye.SkipSelf)){let I=this.records.get(s);if(void 0===I){const T=function dC(i){return"function"==typeof i||"object"==typeof i&&i instanceof Dr}(s)&&bn(s);I=T&&this.injectableDefInScope(T)?Jr(Df(s),Et):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(l&Ye.Self?Cf():this.parent).get(s,a=l&Ye.Optional&&a===ba?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[wl]=v[wl]||[]).unshift(Ne(s)),c)throw v;return function du(i,s,a,l){const c=i[wl];throw s[z]&&c.unshift(s[z]),i.message=function Ea(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=Ne(s);if(Array.isArray(s))c=s.map(Ne).join(" -> ");else if("object"==typeof s){let g=[];for(let v in s)if(s.hasOwnProperty(v)){let I=s[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):Ne(I)))}c=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(M,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[wl]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{Rr(g),Je(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,c)=>s.push(Ne(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processInjectorType(s,a,l){if(!(s=de(s)))return!1;let c=di(s);const g=null==c&&s.ngModule||void 0,v=void 0===g?s:g,I=-1!==l.indexOf(v);if(void 0!==g&&(c=di(g)),null==c)return!1;if(null!=c.imports&&!I){let P;l.push(v);try{vs(c.imports,q=>{this.processInjectorType(q,a,l)&&(void 0===P&&(P=[]),P.push(q))})}finally{}if(void 0!==P)for(let q=0;q<P.length;q++){const{ngModule:J,providers:ce}=P[q];vs(ce,Le=>this.processProvider(Le,J,ce||Pt))}}this.injectorDefTypes.add(v);const T=ri(v)||(()=>new v);this.records.set(v,Jr(T,Et));const N=c.providers;if(null!=N&&!I){const P=s;vs(N,q=>this.processProvider(q,P,N))}return void 0!==g&&void 0!==s.providers}processProvider(s,a,l){let c=Bd(s=de(s))?s:de(s&&s.provide);const g=function lC(i,s,a){return Tf(i)?Jr(void 0,i.useValue):Jr(Mw(i),Et)}(s);if(Bd(s)||!0!==s.multi)this.records.get(c);else{let v=this.records.get(c);v||(v=Jr(void 0,Et,!0),v.factory=()=>an(v.multi),this.records.set(c,v)),c=s,v.multi.push(s)}this.records.set(c,g)}hydrate(s,a){return a.value===Et&&(a.value=L_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Nw(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=de(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Df(i){const s=bn(i),a=null!==s?s.factory:ri(i);if(null!==a)return a;if(i instanceof Dr)throw new He(204,!1);if(i instanceof Function)return function uC(i){const s=i.length;if(s>0)throw function Fs(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new He(204,!1);const a=function fr(i){const s=i&&(i[us]||i[yi]);if(s){const a=function qs(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new He(204,!1)}function Mw(i,s,a){let l;if(Bd(i)){const c=de(i);return ri(c)||Df(c)}if(Tf(i))l=()=>de(i.useValue);else if(function Rl(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...an(i.deps||[]));else if(function rs(i){return!(!i||!i.useExisting)}(i))l=()=>Dt(de(i.useExisting));else{const c=de(i&&(i.useClass||i.provide));if(!function Rw(i){return!!i.deps}(i))return ri(c)||Df(c);l=()=>new c(...an(i.deps))}return l}function Jr(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Tf(i){return null!==i&&"object"==typeof i&&le in i}function Bd(i){return"function"==typeof i}let xa=(()=>{class i{static create(a,l){var c;if(Array.isArray(a))return jg({name:""},l,a,"");{const g=null!==(c=a.name)&&void 0!==c?c:"";return jg({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=ba,i.NULL=new xw,i.\u0275prov=Mn({token:i,providedIn:"any",factory:()=>Dt(Bg)}),i.__NG_ELEMENT_ID__=-1,i})();function G_(i,s){es(uf(i)[1],Bt())}function z_(i){let s=function Bw(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(Ir(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new He(903,"");c=s.\u0275dir}if(c){if(a){l.push(c);const v=i;v.inputs=Dc(i.inputs),v.declaredInputs=Dc(i.declaredInputs),v.outputs=Dc(i.outputs);const I=c.hostBindings;I&&yC(i,I);const T=c.viewQuery,N=c.contentQueries;if(T&&mC(i,T),N&&Mf(i,N),Ie(i.inputs,c.inputs),Ie(i.declaredInputs,c.declaredInputs),Ie(i.outputs,c.outputs),Ir(c)&&c.data.animation){const P=i.data;P.animation=(P.animation||[]).concat(c.data.animation)}}const g=c.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(i),I===z_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Ds(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=Xn(c.hostAttrs,a=Xn(a,c.hostAttrs))}}(l)}function Dc(i){return i===Lr?{}:i===Pt?[]:i}function mC(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function Mf(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,g)=>{s(l,c,g),a(l,c,g)}:s}function yC(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let jd=null;function Nl(){if(!jd){const i=Dn.Symbol;if(i&&i.iterator)jd=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(jd=l)}}}return jd}function Tc(i){return!!Z_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Nl()in i)}function Z_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ji(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Rf(i,s,a,l){const c=qe();return ji(c,Xs(),s)&&(en(),la(ar(),c,i,s,a,l)),Rf}function Q_(i,s,a,l,c,g,v,I){const T=qe(),N=en(),P=i+20,q=N.firstCreatePass?function Y_(i,s,a,l,c,g,v,I,T){const N=s.consts,P=Od(s,i,4,v||null,Xt(N,I));Fg(s,a,P,Xt(N,T)),es(s,P);const q=P.tViews=Og(2,P,l,c,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,N);return null!==s.queries&&(s.queries.template(s,P),q.queries=s.queries.embeddedTView(P)),P}(P,N,T,s,a,l,c,g,v):N.data[P];ii(q,!1);const J=T[11].createComment("");wg(N,T,J,q),Ui(J,T),k_(T,T[P]=bw(J,T,J,q)),ja(q)&&kg(N,T,q),null!=v&&Pd(T,q,I)}function zd(i){return Pn(function Ka(){return kt.lFrame.contextLView}(),20+i)}function Ra(i,s=Ye.Default){const a=qe();return null===a?Dt(i,s):ea(Bt(),a,de(i),s)}function am(){throw new Error("invalid")}function ov(i,s,a){const l=qe();return ji(l,Xs(),s)&&function co(i,s,a,l,c,g,v,I){const T=Mt(s,a);let P,N=s.inputs;!I&&null!=N&&(P=N[l])?(Sw(i,a,P,l,c),Ks(s)&&function gw(i,s){const a=zn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function Pg(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=v?v(c,s.value||"",l):c,G(g)?g.setProperty(T,l,c):qn(l)||(T.setProperty?T.setProperty(l,c):T[l]=c))}(en(),ar(),l,i,s,l[11],a,!1),ov}function Lf(i,s,a,l,c){const v=c?"class":"style";Sw(i,a,s.inputs[v],v,l)}function Jd(i,s,a,l){const c=qe(),g=en(),v=20+i,I=c[11],T=c[v]=xd(I,s,function gl(){return kt.lFrame.currentNamespace}()),N=g.firstCreatePass?function Qd(i,s,a,l,c,g,v){const I=s.consts,N=Od(s,i,2,c,Xt(I,g));return Fg(s,a,N,Xt(I,v)),null!==N.attrs&&Vd(N,N.attrs,!1),null!==N.mergedAttrs&&Vd(N,N.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,N),N}(v,g,c,0,s,a,l):g.data[v];ii(N,!0);const P=N.mergedAttrs;null!==P&&Qe(I,T,P);const q=N.classes;null!==q&&l_(I,T,q);const J=N.styles;return null!==J&&ew(I,T,J),64!=(64&N.flags)&&wg(g,c,T,N),0===function Yi(){return kt.lFrame.elementDepthCount}()&&Ui(T,c),function fs(){kt.lFrame.elementDepthCount++}(),ja(N)&&(kg(g,c,N),function lw(i,s,a){if(Go(s)){const c=s.directiveEnd;for(let g=s.directiveStart;g<c;g++){const v=i.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,N,c)),null!==l&&Pd(c,N),Jd}function vu(){let i=Bt();Nu()?function Ko(){kt.lFrame.isParent=!1}():(i=i.parent,ii(i,!1));const s=i;!function Br(){kt.lFrame.elementDepthCount--}();const a=en();return a.firstCreatePass&&(es(a,i),Go(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Vt(i){return 0!=(16&i.flags)}(s)&&Lf(a,s,qe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function zt(i){return 0!=(32&i.flags)}(s)&&Lf(a,s,qe(),s.stylesWithoutHost,!1),vu}function um(i,s,a,l){return Jd(i,s,a,l),vu(),um}function Uf(){return qe()}function lm(i){return!!i&&"function"==typeof i.then}function xr(i){return!!i&&"function"==typeof i.subscribe}const Bf=xr;function av(i,s,a,l){const c=qe(),g=en(),v=Bt();return function eh(i,s,a,l,c,g,v,I){const T=ja(l),P=i.firstCreatePass&&P_(i),q=s[8],J=O_(s);let ce=!0;if(3&l.type||I){const pt=Mt(l,s),bt=I?I(pt):pt,Ge=J.length,Wt=I?Nn=>I(Oe(Nn[l.index])):l.index;if(G(a)){let Nn=null;if(!I&&T&&(Nn=function jf(i,s,a,l){const c=i.cleanup;if(null!=c)for(let g=0;g<c.length-1;g+=2){const v=c[g];if(v===a&&c[g+1]===l){const I=s[7],T=c[g+2];return I.length>T?I[T]:null}"string"==typeof v&&(g+=2)}return null}(i,s,c,l.index)),null!==Nn)(Nn.__ngLastListenerFn__||Nn).__ngNextListenerFn__=g,Nn.__ngLastListenerFn__=g,ce=!1;else{g=cm(l,s,q,g,!1);const nr=a.listen(bt,c,g);J.push(g,nr),P&&P.push(c,Wt,Ge,Ge+1)}}else g=cm(l,s,q,g,!0),bt.addEventListener(c,g,v),J.push(g),P&&P.push(c,Wt,Ge,v)}else g=cm(l,s,q,g,!1);const Le=l.outputs;let st;if(ce&&null!==Le&&(st=Le[c])){const pt=st.length;if(pt)for(let bt=0;bt<pt;bt+=2){const yo=s[st[bt]][st[bt+1]].subscribe(g),Qc=J.length;J.push(g,yo),P&&P.push(c,l.index,Qc,-(Qc+1))}}}(g,c,c[11],v,i,s,!!a,l),av}function nb(i,s,a,l){try{return!1!==a(l)}catch(c){return Ld(i,c),!1}}function cm(i,s,a,l,c){return function g(v){if(v===Function)return l;const I=2&i.flags?zn(i.index,s):s;0==(32&s[2])&&Iw(I);let T=nb(s,0,l,v),N=g.__ngNextListenerFn__;for(;N;)T=nb(s,0,N,v)&&T,N=N.__ngNextListenerFn__;return c&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function rb(i=1){return function eo(i){return(kt.lFrame.contextLView=function nu(i,s){for(;i>0;)s=s[15],i--;return s}(i,kt.lFrame.contextLView))[8]}(i)}function dm(i,s,a,l,c){const g=i[a+1],v=null===s;let I=l?yu(g):Is(g),T=!1;for(;0!==I&&(!1===T||v);){const P=i[I+1];ub(i[I],s)&&(T=!0,i[I+1]=l?p_(P):nn(P)),I=l?yu(P):Is(P)}T&&(i[a+1]=l?nn(g):p_(g))}function ub(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ia(i,s)>=0}function fv(i,s){return function ca(i,s,a,l){const c=qe(),g=en(),v=function Ji(i){const s=kt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);g.firstUpdatePass&&function Eu(i,s,a,l){const c=i.data;if(null===c[a+1]){const g=c[dr()],v=function pv(i,s){return s>=i.expandoStartIndex}(i,a);(function _v(i,s){return 0!=(i.flags&(s?16:32))})(g,l)&&null===s&&!v&&(s=!1),s=function fb(i,s,a,l){const c=function Qo(i){const s=kt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let g=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=Rc(a=pm(null,i,s,a,l),s.attrs,l),g=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==c)if(a=pm(c,i,s,a,l),null===g){let T=function kC(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Is(l))return i[yu(l)]}(i,s,l);void 0!==T&&Array.isArray(T)&&(T=pm(null,i,s,T[1],l),T=Rc(T,s.attrs,l),function gv(i,s,a,l){i[yu(a?s.classBindings:s.styleBindings)]=l}(i,s,l,T))}else g=function qf(i,s,a){let l;const c=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<c;g++)l=Rc(l,i[g].hostAttrs,a);return Rc(l,s.attrs,a)}(i,s,l)}return void 0!==g&&(l?s.residualClasses=g:s.residualStyles=g),a}(c,g,s,l),function ab(i,s,a,l,c,g){let v=g?s.classBindings:s.styleBindings,I=yu(v),T=Is(v);i[l]=a;let P,N=!1;if(Array.isArray(a)){const q=a;P=q[1],(null===P||ia(q,P)>0)&&(N=!0)}else P=a;if(c)if(0!==T){const J=yu(i[I+1]);i[l+1]=f_(J,I),0!==J&&(i[J+1]=Ig(i[J+1],l)),i[I+1]=function Nd(i,s){return 131071&i|s<<17}(i[I+1],l)}else i[l+1]=f_(I,0),0!==I&&(i[I+1]=Ig(i[I+1],l)),I=l;else i[l+1]=f_(T,0),0===I?I=l:i[T+1]=Ig(i[T+1],l),T=l;N&&(i[l+1]=nn(i[l+1])),dm(i,P,l,!0),dm(i,P,l,!1),function hv(i,s,a,l,c){const g=c?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&ia(g,s)>=0&&(a[l+1]=p_(a[l+1]))}(s,P,i,l,g),v=f_(I,T),g?s.classBindings=v:s.styleBindings=v}(c,g,s,a,v,l)}}(g,i,v,l),s!==_n&&ji(c,v,s)&&function Gf(i,s,a,l,c,g,v,I){if(!(3&s.type))return;const T=i.data,N=T[I+1];zf(function iw(i){return 1==(1&i)}(N)?pb(T,s,a,c,Is(N),v):void 0)||(zf(g)||function aa(i){return 2==(2&i)}(N)&&(g=pb(T,null,a,c,I,v)),function Eg(i,s,a,l,c){const g=G(i);if(s)c?g?i.addClass(a,l):a.classList.add(l):g?i.removeClass(a,l):a.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:Se.DashCase;if(null==c)g?i.removeStyle(a,l,v):a.style.removeProperty(l);else{const I="string"==typeof c&&c.endsWith("!important");I&&(c=c.slice(0,-10),v|=Se.Important),g?i.setStyle(a,l,c,v):a.style.setProperty(l,c,I?"important":"")}}}(l,v,Ct(dr(),a),c,g))}(g,g.data[dr()],c,c[11],i,c[v+1]=function Wf(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Ne(sa(i)))),i}(s,a),l,v)}(i,s,null,!0),fv}function pm(i,s,a,l,c){let g=null;const v=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<v&&(g=s[I],l=Rc(l,g.hostAttrs,c),g!==i);)I++;return null!==i&&(a.directiveStylingLast=I),l}function Rc(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let g=0;g<s.length;g++){const v=s[g];"number"==typeof v?c=v:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Qr(i,v,!!a||s[++g]))}return void 0===i?null:i}function pb(i,s,a,l,c,g){const v=null===s;let I;for(;c>0;){const T=i[c],N=Array.isArray(T),P=N?T[1]:T,q=null===P;let J=a[c+1];J===_n&&(J=q?Pt:void 0);let ce=q?uc(J,l):P===l?J:void 0;if(N&&!zf(ce)&&(ce=uc(T,l)),zf(ce)&&(I=ce,v))return I;const Le=i[c+1];c=v?yu(Le):Is(Le)}if(null!==s){let T=g?s.residualClasses:s.residualStyles;null!=T&&(I=uc(T,l))}return I}function zf(i){return void 0!==i}function vv(i,s=""){const a=qe(),l=en(),c=i+20,g=l.firstCreatePass?Od(l,c,1,s,null):l.data[c],v=a[c]=function Ad(i,s){return G(i)?i.createText(s):i.createTextNode(s)}(a[11],s);wg(l,a,v,g),ii(g,!1)}function Zf(i){return ih("",i,""),Zf}function ih(i,s,a){const l=qe(),c=function qr(i,s,a,l){return ji(i,Xs(),a)?s+Me(a)+l:_n}(l,i,s,a);return c!==_n&&_u(l,dr(),c),ih}const Ce=void 0;var Hi=["en",[["a","p"],["AM","PM"],Ce],[["AM","PM"],Ce,Ce],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ce,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ce,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ce,"{1} 'at' {0}",Ce],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function et(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Nc={};function Av(i){const s=function QA(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Ib(s);if(a)return a;const l=s.split("-")[0];if(a=Ib(l),a)return a;if("en"===l)return Hi;throw new Error(`Missing locale data for the locale "${i}".`)}function Eb(i){return Av(i)[Yt.PluralCase]}function Ib(i){return i in Nc||(Nc[i]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[i]),Nc[i]}var Yt=(()=>((Yt=Yt||{})[Yt.LocaleId=0]="LocaleId",Yt[Yt.DayPeriodsFormat=1]="DayPeriodsFormat",Yt[Yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Yt[Yt.DaysFormat=3]="DaysFormat",Yt[Yt.DaysStandalone=4]="DaysStandalone",Yt[Yt.MonthsFormat=5]="MonthsFormat",Yt[Yt.MonthsStandalone=6]="MonthsStandalone",Yt[Yt.Eras=7]="Eras",Yt[Yt.FirstDayOfWeek=8]="FirstDayOfWeek",Yt[Yt.WeekendRange=9]="WeekendRange",Yt[Yt.DateFormat=10]="DateFormat",Yt[Yt.TimeFormat=11]="TimeFormat",Yt[Yt.DateTimeFormat=12]="DateTimeFormat",Yt[Yt.NumberSymbols=13]="NumberSymbols",Yt[Yt.NumberFormats=14]="NumberFormats",Yt[Yt.CurrencyCode=15]="CurrencyCode",Yt[Yt.CurrencySymbol=16]="CurrencySymbol",Yt[Yt.CurrencyName=17]="CurrencyName",Yt[Yt.Currencies=18]="Currencies",Yt[Yt.Directionality=19]="Directionality",Yt[Yt.PluralCase=20]="PluralCase",Yt[Yt.ExtraData=21]="ExtraData",Yt))();const Yf="en-US";let Sv=Yf;function yh(i,s,a,l,c){if(i=de(i),Array.isArray(i))for(let g=0;g<i.length;g++)yh(i[g],s,a,l,c);else{const g=en(),v=qe();let I=Bd(i)?i:de(i.provide),T=Mw(i);const N=Bt(),P=1048575&N.providerIndexes,q=N.directiveStart,J=N.providerIndexes>>20;if(Bd(i)||!i.multi){const ce=new je(T,c,Ra),Le=ip(I,s,c?P:P+J,q);-1===Le?(Xo(Or(N,v),g,I),rp(g,i,s.length),s.push(I),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),a.push(ce),v.push(ce)):(a[Le]=ce,v[Le]=ce)}else{const ce=ip(I,s,P+J,q),Le=ip(I,s,P,P+J),st=ce>=0&&a[ce],pt=Le>=0&&a[Le];if(c&&!pt||!c&&!st){Xo(Or(N,v),g,I);const bt=function sp(i,s,a,l,c){const g=new je(i,a,Ra);return g.multi=[],g.index=s,g.componentProviders=0,xm(g,c,l&&!a),g}(c?ha:_h,a.length,c,l,T);!c&&pt&&(a[Le].providerFactory=bt),rp(g,i,s.length,0),s.push(I),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),a.push(bt),v.push(bt)}else rp(g,i,ce>-1?ce:Le,xm(a[c?Le:ce],T,!c&&l));!c&&l&&pt&&a[Le].componentProviders++}}}function rp(i,s,a,l){const c=Bd(s),g=function cC(i){return!!i.useClass}(s);if(c||g){const T=(g?de(s.useClass):s).prototype.ngOnDestroy;if(T){const N=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const P=N.indexOf(a);-1===P?N.push(a,[l,T]):N[P+1].push(l,T)}else N.push(a,T)}}}function xm(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function ip(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function _h(i,s,a,l){return Mm(this.multi,[])}function ha(i,s,a,l){const c=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=ks(a,a[1],this.providerFactory.index,l);g=I.slice(0,v),Mm(c,g);for(let T=v;T<I.length;T++)g.push(I[T])}else g=[],Mm(c,g);return g}function Mm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Ov(i,s=[]){return a=>{a.providersResolver=(l,c)=>function Sm(i,s,a){const l=en();if(l.firstCreatePass){const c=Ir(i);yh(a,l.data,l.blueprint,c,!0),yh(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class Rm{}class Wb{resolveComponentFactory(s){throw function zb(i){const s=Error(`No component factory found for ${Ne(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let op=(()=>{class i{}return i.NULL=new Wb,i})();function Zb(){return Xu(Bt(),qe())}function Xu(i,s){return new ap(Mt(i,s))}let ap=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Zb,i})();function QC(i){return i instanceof ap?i.nativeElement:i}class Lc{}let Vc=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Uc(){const i=qe(),a=zn(Bt().index,i);return function Kb(i){return i[11]}(cr(a)?a:i)}(),i})(),Yb=(()=>{class i{}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:()=>null}),i})();class Bc{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Lv=new Bc("13.3.3"),Nm={};function Hl(i,s,a,l,c=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&l.push(Oe(g)),wi(g))for(let I=10;I<g.length;I++){const T=g[I],N=T[1].firstChild;null!==N&&Hl(T[1],T,N,l)}const v=a.type;if(8&v)Hl(i,s,a.child,l);else if(32&v){const I=Tt(a,s);let T;for(;T=I();)l.push(T)}else if(16&v){const I=X0(s,a);if(Array.isArray(I))l.push(...I);else{const T=Ar(s[16]);Hl(T[1],T,I,l,!0)}}a=c?a.projectionNext:a.next}return l}class up{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Hl(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(wi(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(e_(s,l),No(a,l))}this._attachedToViewContainer=!1}t_(this._lView[1],this._lView)}onDestroy(s){fw(this._lView[1],this._lView,null,s)}markForCheck(){Iw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function rC(i,s,a){Js(!0);try{Dw(i,s,a)}finally{Js(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new He(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yg(i,s){bg(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new He(902,"");this._appRef=s}}class XC extends up{constructor(s){super(s),this._view=s}detectChanges(){Vg(this._view)}checkNoChanges(){!function Tw(i){Js(!0);try{Vg(i)}finally{Js(!1)}}(this._view)}get context(){return null}}class ui extends op{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=An(s);return new cp(a,this.ngModule)}}function lp(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class cp extends Rm{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function AA(i){return i.map(FI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return lp(this.componentDef.inputs)}get outputs(){return lp(this.componentDef.outputs)}create(s,a,l,c){const g=(c=c||this.ngModule)?function eD(i,s){return{get:(a,l,c)=>{const g=i.get(a,Nm,c);return g!==Nm||l===Nm?g:s.get(a,l,c)}}}(s,c.injector):s,v=g.get(Lc,oe),I=g.get(Yb,null),T=v.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",P=l?function hw(i,s,a){if(G(i))return i.selectRootElement(s,a===gn.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(T,l,this.componentDef.encapsulation):xd(v.createRenderer(null,this.componentDef),N,function km(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?w:null}(N)),q=this.componentDef.onPush?576:528,J=function Uw(i,s){return{components:[],scheduler:i||Yy,clean:Aw,playerHandler:s||null,flags:0}}(),ce=Og(0,null,null,1,0,null,null,null,null,null),Le=If(null,ce,J,q,null,null,v,T,I,g);let st,pt;gs(Le);try{const bt=function qg(i,s,a,l,c,g){const v=a[1];a[20]=i;const T=Od(v,20,2,"#host",null),N=T.mergedAttrs=s.hostAttrs;null!==N&&(Vd(T,N,!0),null!==i&&(Qe(c,i,N),null!==T.classes&&l_(c,i,T.classes),null!==T.styles&&ew(c,i,T.styles)));const P=l.createRenderer(i,s),q=If(a,cw(s),null,s.onPush?64:16,a[20],T,l,P,g||null,null);return v.firstCreatePass&&(Xo(Or(T,a),v,s.type),Lg(v,T),R_(T,a.length,1)),k_(a,q),a[20]=q}(P,this.componentDef,Le,v,T);if(P)if(l)Qe(T,P,["ng-version",Lv.full]);else{const{attrs:Ge,classes:Wt}=function SA(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===c?""!==g&&s.push(g,i[++l]):8===c&&a.push(g);else{if(!lo(c))break;c=g}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ge&&Qe(T,P,Ge),Wt&&Wt.length>0&&l_(T,P,Wt.join(" "))}if(pt=ir(ce,20),void 0!==a){const Ge=pt.projection=[];for(let Wt=0;Wt<this.ngContentSelectors.length;Wt++){const Nn=a[Wt];Ge.push(null!=Nn?Array.from(Nn):null)}}st=function Vw(i,s,a,l,c){const g=a[1],v=function yw(i,s,a){const l=Bt();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),vw(i,l,s,Gu(i,s,1,null),a));const c=ks(s,i,l.directiveStart,l);Ui(c,s);const g=Mt(l,s);return g&&Ui(g,s),c}(g,a,s);if(l.components.push(v),i[8]=v,c&&c.forEach(T=>T(v,s)),s.contentQueries){const T=Bt();s.contentQueries(1,v,T.directiveStart)}const I=Bt();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ms(I.index),M_(a[1],I,0,I.directiveStart,I.directiveEnd,s),JI(s,v)),v}(bt,this.componentDef,Le,J,[G_]),Cc(ce,Le,null)}finally{So()}return new Qb(this.componentType,st,Xu(pt,Le),Le,pt)}}class Qb extends class Pv{}{constructor(s,a,l,c,g){super(),this.location=l,this._rootLView=c,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new XC(c),this.componentType=s}get injector(){return new Os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class fa{}class Vv{}const jc=new Map;class Bv extends fa{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ui(this);const l=Rn(s);this._bootstrapComponents=m(l.bootstrap),this._r3Injector=Ud(s,a,[{provide:fa,useValue:this},{provide:op,useValue:this.componentFactoryResolver}],Ne(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=xa.THROW_IF_NOT_FOUND,l=Ye.Default){return s===xa||s===fa||s===Bg?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Om extends Vv{constructor(s){super(),this.moduleType=s,null!==Rn(s)&&function Uv(i){const s=new Set;!function a(l){const c=Rn(l,!0),g=c.id;null!==g&&(function vh(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${Ne(s)} vs ${Ne(s.name)}`)}(g,jc.get(g),l),jc.set(g,l));const v=m(c.imports);for(const I of v)s.has(I)||(s.add(I),a(I))}(i)}(s)}create(s){return new Bv(this.moduleType,s)}}function bh(i,s,a,l,c,g){const v=s+a;return ji(i,v,c)?function Ma(i,s,a){return i[s]=a}(i,v+1,g?l.call(g,c):l(c)):function Hc(i,s){const a=i[s];return a===_n?void 0:a}(i,v+1)}function hp(i,s){const a=en();let l;const c=i+20;a.firstCreatePass?(l=function fp(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[c]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,l.onDestroy)):l=a.data[c];const g=l.factory||(l.factory=ri(l.type)),v=Rr(Ra);try{const I=ys(!1),T=g();return ys(I),function vC(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,qe(),c,T),T}finally{Rr(v)}}function Eh(i,s,a){const l=i+20,c=qe(),g=Pn(c,l);return function pp(i,s){return i[1].data[s].pure}(c,l)?bh(c,function Yr(){const i=kt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),s,g.transform,a,g):g.transform(a)}function Lm(i){return s=>{setTimeout(i,void 0,s)}}const Cu=class sE extends h.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var c,g,v;let I=s,T=a||(()=>null),N=l;if(s&&"object"==typeof s){const q=s;I=null===(c=q.next)||void 0===c?void 0:c.bind(q),T=null===(g=q.error)||void 0===g?void 0:g.bind(q),N=null===(v=q.complete)||void 0===v?void 0:v.bind(q)}this.__isAsync&&(T=Lm(T),I&&(I=Lm(I)),N&&(N=Lm(N)));const P=super.subscribe({next:I,error:T,complete:N});return s instanceof te.w0&&s.add(P),P}};function oD(){return this._results[Nl()]()}class jv{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Nl(),l=jv.prototype;l[a]||(l[a]=oD)}get changes(){return this._changes||(this._changes=new Cu)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=fi(s);(this._changesDetected=!function rc(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],g=s[l];if(a&&(c=a(c),g=a(g)),g!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let el=(()=>{class i{}return i.__NG_ELEMENT_ID__=$i,i})();const oE=el,aD=class extends oE{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=If(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),Cc(a,l,s),new up(l)}};function $i(){return Ih(Bt(),qe())}function Ih(i,s){return 4&i.type?new aD(s,i,Xu(i,s)):null}let gp=(()=>{class i{}return i.__NG_ELEMENT_ID__=mp,i})();function mp(){return $v(Bt(),qe())}const Du=gp,Vm=class extends Du{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Xu(this._hostTNode,this._hostLView)}get injector(){return new Os(this._hostTNode,this._hostLView)}get parentInjector(){const s=_s(this._hostTNode,this._hostLView);if(Jo(s)){const a=Ns(s,this._hostLView),l=Ln(s);return new Os(a[1].data[l+8],a)}return new Os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Hv(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const c=s.createEmbeddedView(a||{});return this.insert(c,l),c}createComponent(s,a,l,c,g){const v=s&&!function lu(i){return"function"==typeof i}(s);let I;if(v)I=a;else{const q=a||{};I=q.index,l=q.injector,c=q.projectableNodes,g=q.ngModuleRef}const T=v?s:new cp(An(s)),N=l||this.parentInjector;if(!g&&null==T.ngModule){const J=(v?N:this.parentInjector).get(fa,null);J&&(g=J)}const P=T.create(N,c,void 0,g);return this.insert(P.hostView,I),P}insert(s,a){const l=s._lView,c=l[1];if(function Ur(i){return wi(i[3])}(l)){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const q=l[3],J=new Vm(q,q[6],q[3]);J.detach(J.indexOf(s))}}const g=this._adjustIndex(a),v=this._lContainer;!function _g(i,s,a,l){const c=10+l,g=a.length;l>0&&(a[c-1][4]=s),l<g-10?(s[4]=a[c],ic(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function Md(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const I=s[19];null!==I&&I.insertView(i),s[2]|=128}(c,l,v,g);const I=o_(g,v),T=l[11],N=vf(T,v[7]);return null!==N&&function _f(i,s,a,l,c,g){l[0]=c,l[6]=s,bg(i,l,a,1,c,g)}(c,v[6],T,l,N,I),s.attachToViewContainerRef(),ic($c(v),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Hv(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=e_(this._lContainer,a);l&&(No($c(this._lContainer),a),t_(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=e_(this._lContainer,a);return l&&null!=No($c(this._lContainer),a)?new up(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Hv(i){return i[8]}function $c(i){return i[8]||(i[8]=[])}function $v(i,s){let a;const l=s[i.index];if(wi(l))a=l;else{let c;if(8&i.type)c=Oe(l);else{const g=s[11];c=g.createComment("");const v=Mt(i,s);Oo(g,vf(g,v),c,function xI(i,s){return G(i)?i.nextSibling(s):s.nextSibling}(g,v),!1)}s[i.index]=a=bw(l,s,c,i),k_(s,a)}return new Vm(a,i,s)}class qv{constructor(s){this.queryList=s,this.matches=null}clone(){return new qv(this.queryList)}setDirty(){this.queryList.setDirty()}}class qc{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);c.push(this.queries[v.indexInDeclarationView].clone())}return new qc(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Zv(s,a).matches&&this.queries[a].setDirty()}}class Um{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Gv{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(s,c);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Gv(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Bm{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Bm(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const g=l[c];this.matchTNodeWithReadOption(s,a,lE(a,g)),this.matchTNodeWithReadOption(s,a,su(a,s,g,!1,!1))}else l===el?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,su(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===ap||c===gp||c===el&&4&a.type)this.addMatch(a.index,-2);else{const g=su(a,s,c,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function lE(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function uD(i,s,a,l){return-1===a?function cE(i,s){return 11&i.type?Xu(i,s):4&i.type?Ih(i,s):null}(s,i):-2===a?function dE(i,s,a){return a===ap?Xu(s,i):a===el?Ih(s,i):a===gp?$v(s,i):void 0}(i,s,l):ks(i,i[1],a,s)}function hE(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const g=i.data,v=a.matches,I=[];for(let T=0;T<v.length;T+=2){const N=v[T];I.push(N<0?null:uD(s,g[N],v[T+1],a.metadata.read))}c.matches=I}return c.matches}function zv(i,s,a,l){const c=i.queries.getByIndex(a),g=c.matches;if(null!==g){const v=hE(i,s,c,a);for(let I=0;I<g.length;I+=2){const T=g[I];if(T>0)l.push(v[I/2]);else{const N=g[I+1],P=s[-T];for(let q=10;q<P.length;q++){const J=P[q];J[17]===J[3]&&zv(J[1],J,N,l)}if(null!==P[9]){const q=P[9];for(let J=0;J<q.length;J++){const ce=q[J];zv(ce[1],ce,N,l)}}}}}return l}function Gc(i){const s=qe(),a=en(),l=Xa();eu(l+1);const c=Zv(a,l);if(i.dirty&&Tn(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const g=c.crossesNgTemplate?zv(a,s,l,[]):hE(a,s,c,l);i.reset(g,QC),i.notifyOnChanges()}return!0}return!1}function fE(i,s,a,l){const c=en();if(c.firstCreatePass){const g=Bt();(function As(i,s,a){null===i.queries&&(i.queries=new Gv),i.queries.track(new Bm(s,a))})(c,new Um(s,a,l),g.index),function cD(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function Wv(i,s,a){const l=new jv(4==(4&a));fw(i,s,l,l.destroy),null===s[19]&&(s[19]=new qc),s[19].queries.push(new qv(l))}(c,qe(),a)}function pE(){return function lD(i,s){return i[19].queries[s].queryList}(qe(),Xa())}function Zv(i,s){return i.queries.getByIndex(s)}function wp(...i){}const Ah=new Dr("Application Initializer");let rl=(()=>{class i{constructor(a){this.appInits=a,this.resolve=wp,this.reject=wp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const g=this.appInits[c]();if(lm(g))a.push(g);else if(Bf(g)){const v=new Promise((I,T)=>{g.subscribe({complete:I,error:T})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Dt(Ah,8))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const AE=new Dr("AppId",{providedIn:"root",factory:function s0(){return`${o0()}${o0()}${o0()}`}});function o0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const SE=new Dr("Platform Initializer"),bp=new Dr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),il=new Dr("appBootstrapListener");let xE=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const a0=new Dr("LocaleId",{providedIn:"root",factory:()=>mn(a0,Ye.Optional|Ye.SkipSelf)||function bD(){return"undefined"!=typeof $localize&&$localize.locale||Yf}()}),u0=new Dr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ip{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Zm=(()=>{class i{compileModuleSync(a){return new Om(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=m(Rn(a).declarations).reduce((v,I)=>{const T=An(I);return T&&v.push(new cp(T)),v},[]);return new Ip(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const mo=(()=>Promise.resolve(0))();function Ym(i){"undefined"==typeof Zone?mo.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Lo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cu(!1),this.onMicrotaskEmpty=new Cu(!1),this.onStable=new Cu(!1),this.onError=new Cu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Qm(){let i=Dn.requestAnimationFrame,s=Dn.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function RE(i){const s=()=>{!function xh(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Dn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,sl(i),i.isCheckStableRunning=!0,Su(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),sl(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,g,v,I)=>{try{return NE(i),a.invokeTask(c,g,v,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),Wc(i)}},onInvoke:(a,l,c,g,v,I,T)=>{try{return NE(i),a.invoke(c,g,v,I,T)}finally{i.shouldCoalesceRunChangeDetection&&s(),Wc(i)}},onHasTask:(a,l,c,g)=>{a.hasTask(c,g),l===c&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,sl(i),Su(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,c,g)=>(a.handleError(c,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+c,s,ME,wp,wp);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const ME={};function Su(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function sl(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function NE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Wc(i){i._nesting--,Su(i)}class kE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cu,this.onMicrotaskEmpty=new Cu,this.onStable=new Cu,this.onError=new Cu}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}let ol=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lo.assertNotInAngularZone(),Ym(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ym(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(Dt(Lo))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac}),i})(),Zc=(()=>{class i{constructor(){this._applications=new Map,c0.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return c0.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class l0{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function OE(i){c0=i}let Fa,c0=new l0;const d0=new Dr("AllowMultipleToken");class DD{constructor(s,a){this.name=s,this.token=a}}function h0(i,s,a=[]){const l=`Platform: ${s}`,c=new Dr(l);return(g=[])=>{let v=f0();if(!v||v.injector.get(d0,!1))if(i)i(a.concat(g).concat({provide:c,useValue:!0}));else{const I=a.concat(g).concat({provide:c,useValue:!0},{provide:Sa,useValue:"platform"});!function TD(i){if(Fa&&!Fa.destroyed&&!Fa.injector.get(d0,!1))throw new He(400,"");Fa=i.get(PE);const s=i.get(SE,null);s&&s.forEach(a=>a())}(xa.create({providers:I,name:l}))}return function Kc(i){const s=f0();if(!s)throw new He(401,"");return s}()}}function f0(){return Fa&&!Fa.destroyed?Fa:null}let PE=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const I=function AD(i,s){let a;return a="noop"===i?new kE:("zone.js"===i?void 0:i)||new Lo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),T=[{provide:Lo,useValue:I}];return I.run(()=>{const N=xa.create({providers:T,parent:this.injector,name:a.moduleType.name}),P=a.create(N),q=P.injector.get(Si,null);if(!q)throw new He(402,"");return I.runOutsideAngular(()=>{const J=I.onError.subscribe({next:ce=>{q.handleError(ce)}});P.onDestroy(()=>{Yc(this._modules,P),J.unsubscribe()})}),function FE(i,s,a){try{const l=a();return lm(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(q,I,()=>{const J=P.injector.get(rl);return J.runInitializers(),J.donePromise.then(()=>(function kc(i){Nt(i,"Expected localeId to be defined"),"string"==typeof i&&(Sv=i.toLowerCase().replace(/_/g,"-"))}(P.injector.get(a0,Yf)||Yf),this._moduleDoBootstrap(P),P))})})}bootstrapModule(a,l=[]){const c=ey({},l);return function CD(i,s,a){const l=new Om(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,c))}_moduleDoBootstrap(a){const l=a.injector.get(Cp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new He(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Dt(xa))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function ey(i,s){return Array.isArray(s)?s.reduce(ey,i):Object.assign(Object.assign({},i),s)}let Cp=(()=>{class i{constructor(a,l,c,g){this._zone=a,this._injector=l,this._exceptionHandler=c,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new H.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),I=new H.y(T=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Lo.assertNotInAngularZone(),Ym(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Lo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{N.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ve.T)(v,I.pipe((0,fe.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new He(405,"");let c;c=a instanceof Rm?a:this._injector.get(op).resolveComponentFactory(a),this.componentTypes.push(c.componentType);const g=function Jm(i){return i.isBoundToModule}(c)?void 0:this._injector.get(fa),I=c.create(xa.NULL,[],l||c.selector,g),T=I.location.nativeElement,N=I.injector.get(ol,null),P=N&&I.injector.get(Zc);return N&&P&&P.registerApplication(T,N),I.onDestroy(()=>{this.detachView(I.hostView),Yc(this.components,I),P&&P.unregisterApplication(T)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new He(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Yc(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(il,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Dt(Lo),Dt(xa),Dt(Si),Dt(rl))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Yc(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let LE=!0,ty=!1;function VE(){return ty=!0,LE}function SD(){if(ty)throw new Error("Cannot enable prod mode after platform setup.");LE=!1}let RD=(()=>{class i{}return i.__NG_ELEMENT_ID__=UE,i})();function UE(i){return function ND(i,s,a){if(Ks(i)&&!a){const l=zn(i.index,s);return new up(l,l)}return 47&i.type?new up(s[16],s):null}(Bt(),qe(),16==(16&i))}class GE{constructor(){}supports(s){return Tc(s)}create(s){return new zE(s)}}const m0=(i,s)=>s;class zE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||m0}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<Mh(l,c,g)?a:l,I=Mh(v,c,g),T=v.currentIndex;if(v===l)c--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)c++;else{g||(g=[]);const N=I-c,P=T-c;if(N!=P){for(let J=0;J<N;J++){const ce=J<g.length?g[J]:g[J]=0,Le=ce+J;P<=Le&&Le<N&&(g[J]=ce+1)}g[v.previousIndex]=P-N}}I!==T&&s(v,I,T)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Tc(s))throw new He(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,g,v,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)g=s[I],v=this._trackByFn(I,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,I)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,I),l=!0),a=a._next}else c=0,function Hw(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Nl()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,I=>{v=this._trackByFn(c,I),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,I,v,c)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,v,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,c)):s=this._addAfter(new WE(a,l),g,c),s}_verifyReinsertion(s,a,l,c){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?s=this._reinsertAfter(g,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,g=s._nextRemoved;return null===c?this._removalsHead=g:c._nextRemoved=g,null===g?this._removalsTail=c:g._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Rp),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rp),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class WE{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class y0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Rp{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new y0,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mh(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class Np{constructor(){}supports(s){return s instanceof Map||Z_(s)}create(){return new _0}}class _0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Z_(s)))throw new He(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const g=c._prev,v=c._next;return g&&(g._next=v),v&&(v._prev=g),c._next=null,c._prev=null,c}const l=new v0(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class v0{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sy(){return new oy([new GE])}let oy=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||sy()),deps:[[i,new Ia,new bs]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new He(901,"")}}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:sy}),i})();function w0(){return new b0([new Np])}let b0=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||w0()),deps:[[i,new Ia,new bs]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new He(901,"")}}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:w0}),i})();const kp=h0(null,"core",[]);let I0=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Dt(Cp))},i.\u0275mod=he({type:i}),i.\u0275inj=On({}),i})()},3942:(Rt,We,$)=>{"use strict";$.d(We,{Z:()=>He});var h=$(2090),te=$(4859),H=$(9681),ve=$(1877);class fe{constructor(Me,_e){this._delegate=Me,this.firebase=_e,(0,H._addComponent)(Me,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Me,_e=H._DEFAULT_ENTRY_NAME){var It;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(Me);return!_t.isInitialized()&&"EXPLICIT"===(null===(It=_t.getComponent())||void 0===It?void 0:It.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:_e})}_removeServiceInstance(Me,_e=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(_e)}_addComponent(Me){(0,H._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,H._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function Ae(){const Ve=function Ne(Ve){const Me={},_e={__esModule:!0,initializeApp:function $e(at,pe={}){const ue=H.initializeApp(at,pe);if((0,h.r3)(Me,ue.name))return Me[ue.name];const be=new Ve(ue,_e);return Me[ue.name]=be,be},app:_t,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function D(at){const pe=at.name,ue=pe.replace("-compat","");if(H._registerComponent(at)&&"PUBLIC"===at.type){const be=(De=_t())=>{if("function"!=typeof De[ue])throw Ie.create("invalid-app-argument",{appName:pe});return De[ue]()};void 0!==at.serviceProps&&(0,h.ZB)(be,at.serviceProps),_e[ue]=be,Ve.prototype[ue]=function(...De){return this._getService.bind(this,pe).apply(this,at.multipleInstances?De:[])}}return"PUBLIC"===at.type?_e[ue]:null},removeApp:function It(at){delete Me[at]},useAsService:function ct(at,pe){return"serverAuth"===pe?null:pe},modularAPIs:H}};function _t(at){if(!(0,h.r3)(Me,at=at||H._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:at});return Me[at]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function Ue(){return Object.keys(Me).map(at=>Me[at])}}),_t.App=Ve,_e}(fe);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Me(_e){(0,h.ZB)(Ve,_e)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ve}(),ee=new ve.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=X;!function Ke(Ve){(0,H.registerVersion)("@firebase/app-compat","0.1.22",Ve)}()},9681:(Rt,We,$)=>{"use strict";$.r(We),$.d(We,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>di,_DEFAULT_ENTRY_NAME:()=>hr,_addComponent:()=>Gn,_addOrOverwriteComponent:()=>zr,_apps:()=>Ht,_clearComponents:()=>bn,_components:()=>wn,_getProvider:()=>as,_registerComponent:()=>Mn,_removeServiceInstance:()=>On,deleteApp:()=>_i,getApp:()=>rr,getApps:()=>yi,initializeApp:()=>us,onLog:()=>Pr,registerVersion:()=>Yn,setLogLevel:()=>Rr});var h=$(5861),te=$(4859),H=$(1877),ve=$(2090);class fe{constructor(ze){this.container=ze}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function Re(vt){const ze=vt.getComponent();return"VERSION"===(null==ze?void 0:ze.type)}(wt)){const Ft=wt.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(wt=>wt).join(" ")}}const Ie="@firebase/app",Ae=new H.Yd("@firebase/app"),hr="[DEFAULT]",Nt={[Ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ht=new Map,wn=new Map;function Gn(vt,ze){try{vt.container.addComponent(ze)}catch(wt){Ae.debug(`Component ${ze.name} failed to register with FirebaseApp ${vt.name}`,wt)}}function zr(vt,ze){vt.container.addOrOverwriteComponent(ze)}function Mn(vt){const ze=vt.name;if(wn.has(ze))return Ae.debug(`There were multiple attempts to register component ${ze}.`),!1;wn.set(ze,vt);for(const wt of Ht.values())Gn(wt,vt);return!0}function as(vt,ze){const wt=vt.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),vt.container.getProvider(ze)}function On(vt,ze,wt=hr){as(vt,ze).clearInstance(wt)}function bn(){wn.clear()}const fr=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class qs{constructor(ze,wt,Ft){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const di="9.6.11";function us(vt,ze={}){"object"!=typeof ze&&(ze={name:ze});const wt=Object.assign({name:hr,automaticDataCollectionEnabled:!1},ze),Ft=wt.name;if("string"!=typeof Ft||!Ft)throw fr.create("bad-app-name",{appName:String(Ft)});const ln=Ht.get(Ft);if(ln){if((0,ve.vZ)(vt,ln.options)&&(0,ve.vZ)(wt,ln.config))return ln;throw fr.create("duplicate-app",{appName:Ft})}const rn=new te.H0(Ft);for(const Z of wn.values())rn.addComponent(Z);const Q=new qs(vt,wt,rn);return Ht.set(Ft,Q),Q}function rr(vt=hr){const ze=Ht.get(vt);if(!ze)throw fr.create("no-app",{appName:vt});return ze}function yi(){return Array.from(Ht.values())}function _i(vt){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,h.Z)(function*(vt){const ze=vt.name;Ht.has(ze)&&(Ht.delete(ze),yield Promise.all(vt.container.getProviders().map(wt=>wt.delete())),vt.isDeleted=!0)})).apply(this,arguments)}function Yn(vt,ze,wt){var Ft;let ln=null!==(Ft=Nt[vt])&&void 0!==Ft?Ft:vt;wt&&(ln+=`-${wt}`);const rn=ln.match(/\s|\//),Q=ze.match(/\s|\//);if(rn||Q){const Z=[`Unable to register library "${ln}" with version "${ze}":`];return rn&&Z.push(`library name "${ln}" contains illegal characters (whitespace or "/")`),rn&&Q&&Z.push("and"),Q&&Z.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void Ae.warn(Z.join(" "))}Mn(new te.wA(`${ln}-version`,()=>({library:ln,version:ze}),"VERSION"))}function Pr(vt,ze){if(null!==vt&&"function"!=typeof vt)throw fr.create("invalid-log-argument");(0,H.Am)(vt,ze)}function Rr(vt){(0,H.Ub)(vt)}const er="firebase-heartbeat-store";let ur=null;function Wr(){return ur||(ur=(0,ve.X3)("firebase-heartbeat-database",1,(vt,ze)=>{0===ze&&vt.createObjectStore(er)}).catch(vt=>{throw fr.create("storage-open",{originalErrorMessage:vt.message})})),ur}function gn(){return(gn=(0,h.Z)(function*(vt){try{return(yield Wr()).transaction(er).objectStore(er).get(Fr(vt))}catch(ze){throw fr.create("storage-get",{originalErrorMessage:ze.message})}})).apply(this,arguments)}function xt(vt,ze){return $t.apply(this,arguments)}function $t(){return($t=(0,h.Z)(function*(vt,ze){try{const Ft=(yield Wr()).transaction(er,"readwrite");return yield Ft.objectStore(er).put(ze,Fr(vt)),Ft.complete}catch(wt){throw fr.create("storage-set",{originalErrorMessage:wt.message})}})).apply(this,arguments)}function Fr(vt){return`${vt.name}!${vt.options.appId}`}class Ni{constructor(ze){this.container=ze,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new Pt(wt),this._heartbeatsCachePromise=this._storage.read().then(Ft=>(this._heartbeatsCache=Ft,Ft))}triggerHeartbeat(){var ze=this;return(0,h.Z)(function*(){const Ft=ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ln=br();if(null===ze._heartbeatsCache&&(ze._heartbeatsCache=yield ze._heartbeatsCachePromise),ze._heartbeatsCache.lastSentHeartbeatDate!==ln&&!ze._heartbeatsCache.heartbeats.some(rn=>rn.date===ln))return ze._heartbeatsCache.heartbeats.push({date:ln,agent:Ft}),ze._heartbeatsCache.heartbeats=ze._heartbeatsCache.heartbeats.filter(rn=>{const Q=new Date(rn.date).valueOf();return Date.now()-Q<=2592e6}),ze._storage.overwrite(ze._heartbeatsCache)})()}getHeartbeatsHeader(){var ze=this;return(0,h.Z)(function*(){if(null===ze._heartbeatsCache&&(yield ze._heartbeatsCachePromise),null===ze._heartbeatsCache||0===ze._heartbeatsCache.heartbeats.length)return"";const wt=br(),{heartbeatsToSend:Ft,unsentEntries:ln}=function Lr(vt,ze=1024){const wt=[];let Ft=vt.slice();for(const ln of vt){const rn=wt.find(Q=>Q.agent===ln.agent);if(rn){if(rn.dates.push(ln.date),Qn(wt)>ze){rn.dates.pop();break}}else if(wt.push({agent:ln.agent,dates:[ln.date]}),Qn(wt)>ze){wt.pop();break}Ft=Ft.slice(1)}return{heartbeatsToSend:wt,unsentEntries:Ft}}(ze._heartbeatsCache.heartbeats),rn=(0,ve.L)(JSON.stringify({version:2,heartbeats:Ft}));return ze._heartbeatsCache.lastSentHeartbeatDate=wt,ln.length>0?(ze._heartbeatsCache.heartbeats=ln,yield ze._storage.overwrite(ze._heartbeatsCache)):(ze._heartbeatsCache.heartbeats=[],ze._storage.overwrite(ze._heartbeatsCache)),rn})()}}function br(){return(new Date).toISOString().substring(0,10)}class Pt{constructor(ze){this.app=ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ze=this;return(0,h.Z)(function*(){return(yield ze._canUseIndexedDBPromise)&&(yield function Wi(vt){return gn.apply(this,arguments)}(ze.app))||{heartbeats:[]}})()}overwrite(ze){var wt=this;return(0,h.Z)(function*(){var Ft;if(yield wt._canUseIndexedDBPromise){const rn=yield wt.read();return xt(wt.app,{lastSentHeartbeatDate:null!==(Ft=ze.lastSentHeartbeatDate)&&void 0!==Ft?Ft:rn.lastSentHeartbeatDate,heartbeats:ze.heartbeats})}})()}add(ze){var wt=this;return(0,h.Z)(function*(){var Ft;if(yield wt._canUseIndexedDBPromise){const rn=yield wt.read();return xt(wt.app,{lastSentHeartbeatDate:null!==(Ft=ze.lastSentHeartbeatDate)&&void 0!==Ft?Ft:rn.lastSentHeartbeatDate,heartbeats:[...rn.heartbeats,...ze.heartbeats]})}})()}}function Qn(vt){return(0,ve.L)(JSON.stringify({version:2,heartbeats:vt})).length}!function qt(vt){Mn(new te.wA("platform-logger",ze=>new fe(ze),"PRIVATE")),Mn(new te.wA("heartbeat",ze=>new Ni(ze),"PRIVATE")),Yn(Ie,"0.7.21",vt),Yn(Ie,"0.7.21","esm2017"),Yn("fire-js","")}("")},4859:(Rt,We,$)=>{"use strict";$.d(We,{H0:()=>Ne,wA:()=>H});var h=$(5861),te=$(2090);class H{constructor(X,ee,de){this.name=X,this.instanceFactory=ee,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const ve="[DEFAULT]";class fe{constructor(X,ee){this.name=X,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const ee=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(ee)){const de=new te.BH;if(this.instancesDeferred.set(ee,de),this.isInitialized(ee)||this.shouldAutoInitialize())try{const mt=this.getOrInitializeService({instanceIdentifier:ee});mt&&de.resolve(mt)}catch(mt){}}return this.instancesDeferred.get(ee).promise}getImmediate(X){var ee;const de=this.normalizeInstanceIdentifier(null==X?void 0:X.identifier),mt=null!==(ee=null==X?void 0:X.optional)&&void 0!==ee&&ee;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(mt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(Ke){if(mt)return null;throw Ke}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Ie(Ae){return"EAGER"===Ae.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(ee){}for(const[ee,de]of this.instancesDeferred.entries()){const mt=this.normalizeInstanceIdentifier(ee);try{const Ke=this.getOrInitializeService({instanceIdentifier:mt});de.resolve(Ke)}catch(Ke){}}}}clearInstance(X=ve){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,h.Z)(function*(){const ee=Array.from(X.instances.values());yield Promise.all([...ee.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...ee.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=ve){return this.instances.has(X)}getOptions(X=ve){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:ee={}}=X,de=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const mt=this.getOrInitializeService({instanceIdentifier:de,options:ee});for(const[Ke,He]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(Ke)&&He.resolve(mt);return mt}onInit(X,ee){var de;const mt=this.normalizeInstanceIdentifier(ee),Ke=null!==(de=this.onInitCallbacks.get(mt))&&void 0!==de?de:new Set;Ke.add(X),this.onInitCallbacks.set(mt,Ke);const He=this.instances.get(mt);return He&&X(He,mt),()=>{Ke.delete(X)}}invokeOnInitCallbacks(X,ee){const de=this.onInitCallbacks.get(ee);if(de)for(const mt of de)try{mt(X,ee)}catch(Ke){}}getOrInitializeService({instanceIdentifier:X,options:ee={}}){let de=this.instances.get(X);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=X,Ae===ve?void 0:Ae),options:ee}),this.instances.set(X,de),this.instancesOptions.set(X,ee),this.invokeOnInitCallbacks(de,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,de)}catch(mt){}var Ae;return de||null}normalizeInstanceIdentifier(X=ve){return this.component?this.component.multipleInstances?X:ve:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const ee=this.getProvider(X.name);if(ee.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);ee.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const ee=new fe(X,this);return this.providers.set(X,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(Rt,We,$)=>{"use strict";$.d(We,{Am:()=>Ae,Ub:()=>Ne,Yd:()=>Ie,in:()=>te});const h=[];var te=(()=>{return(X=te||(te={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",te;var X})();const H={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ve=te.INFO,fe={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},Re=(X,ee,...de)=>{if(ee<X.logLevel)return;const mt=(new Date).toISOString(),Ke=fe[ee];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Ke](`[${mt}]  ${X.name}:`,...de)};class Ie{constructor(ee){this.name=ee,this._logLevel=ve,this._logHandler=Re,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in te))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?H[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...ee),this._logHandler(this,te.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...ee),this._logHandler(this,te.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,te.INFO,...ee),this._logHandler(this,te.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,te.WARN,...ee),this._logHandler(this,te.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...ee),this._logHandler(this,te.ERROR,...ee)}}function Ne(X){h.forEach(ee=>{ee.setLogLevel(X)})}function Ae(X,ee){for(const de of h){let mt=null;ee&&ee.level&&(mt=H[ee.level]),de.userLogHandler=null===X?null:(Ke,He,...Ve)=>{const Me=Ve.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(It){return null}}).filter(_e=>_e).join(" ");He>=(null!=mt?mt:Ke.logLevel)&&X({level:te[He].toLowerCase(),message:Me,args:Ve,type:Ke.name})}}}},5861:(Rt,We,$)=>{"use strict";function h(H,ve,fe,Re,Ie,Ne,Ae){try{var X=H[Ne](Ae),ee=X.value}catch(de){return void fe(de)}X.done?ve(ee):Promise.resolve(ee).then(Re,Ie)}function te(H){return function(){var ve=this,fe=arguments;return new Promise(function(Re,Ie){var Ne=H.apply(ve,fe);function Ae(ee){h(Ne,Re,Ie,Ae,X,"next",ee)}function X(ee){h(Ne,Re,Ie,Ae,X,"throw",ee)}Ae(void 0)})}}$.d(We,{Z:()=>te})}},Rt=>{Rt(Rt.s=5405)}]);