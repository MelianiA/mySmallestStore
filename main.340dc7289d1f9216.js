(self.webpackChunkmyStore=self.webpackChunkmyStore||[]).push([[179],{2011:(Rt,Ze,$)=>{"use strict";$.d(Ze,{Dh:()=>Re,GT:()=>Me,cc:()=>Ke,hO:()=>mt,on:()=>X,pX:()=>fe,xv:()=>Te});var c=$(5e3),te=$(127),H=$(5813);Rt=$.hmd(Rt);const ve=["ngOnDestroy"],fe=(_e,bt,yt,$e={})=>new Proxy(_e,{get:(Ve,D)=>yt.runOutsideAngular(()=>{var ct;if(_e[D])return(null===(ct=null==$e?void 0:$e.spy)||void 0===ct?void 0:ct.get)&&$e.spy.get(D,_e[D]),_e[D];if(ve.indexOf(D)>-1)return()=>{};const at=bt.toPromise().then(pe=>{const ue=pe&&pe[D];return"function"==typeof ue?ue.bind(pe):ue&&ue.then?ue.then(be=>yt.run(()=>be)):yt.run(()=>ue)});return new Proxy(()=>{},{get:(pe,ue)=>at[ue],apply:(pe,ue,be)=>at.then(Ce=>{var Ee;const tt=Ce&&Ce(...be);return(null===(Ee=null==$e?void 0:$e.spy)||void 0===Ee?void 0:Ee.apply)&&$e.spy.apply(D,be,tt),tt})})})}),Me=(_e,bt)=>{bt.forEach(yt=>{Object.getOwnPropertyNames(yt.prototype||yt).forEach($e=>{Object.defineProperty(_e.prototype,$e,Object.getOwnPropertyDescriptor(yt.prototype||yt,$e))})})};class Ie{constructor(bt){return bt}}const Re=new c.OlP("angularfire2.app.options"),Te=new c.OlP("angularfire2.app.name");function X(_e,bt,yt){const Ve="object"==typeof yt&&yt||{};Ve.name=Ve.name||"string"==typeof yt&&yt||"[DEFAULT]";const ct=te.Z.apps.filter(at=>at&&at.name===Ve.name)[0]||bt.runOutsideAngular(()=>te.Z.initializeApp(_e,Ve));try{JSON.stringify(_e)!==JSON.stringify(ct.options)&&ee("error",`${ct.name} Firebase App already initialized with different options${Rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(at){}return new Ie(ct)}const ee=(_e,...bt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[_e](...bt)},de={provide:Ie,useFactory:X,deps:[Re,c.R0b,[new c.FiY,Te]]};let mt=(()=>{class _e{constructor(yt){te.Z.registerVersion("angularfire",H.q4.full,"core"),te.Z.registerVersion("angularfire",H.q4.full,"app-compat"),te.Z.registerVersion("angular",c.q4F.full,yt.toString())}static initializeApp(yt,$e){return{ngModule:_e,providers:[{provide:Re,useValue:yt},{provide:Te,useValue:$e}]}}}return _e.\u0275fac=function(yt){return new(yt||_e)(c.LFG(c.Lbi))},_e.\u0275mod=c.oAB({type:_e}),_e.\u0275inj=c.cJS({providers:[de]}),_e})();function Ke(_e,bt,yt,$e,Ve){const[,D,ct]=globalThis.\u0275AngularfireInstanceCache.find(at=>at[0]===_e)||[];if(D)return function He(_e,bt){try{return _e.toString()===bt.toString()}catch(yt){return _e===bt}}(Ve,ct)||(xe("error",`${bt} was already initialized on the ${yt} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:Ve,was:ct})),D;{const at=$e();return globalThis.\u0275AngularfireInstanceCache.push([_e,at,Ve]),at}}const Le=!!Rt.hot,xe=(_e,...bt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[_e](...bt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Rt,Ze,$)=>{"use strict";$.d(Ze,{q4:()=>mc,iC:()=>bc,fc:()=>qr,HU:()=>ml,vb:()=>wd,JM:()=>aa});var c=$(5e3),te=$(5867),H=$(5861),ve=$(9681),fe=$(2090),Me=$(4859),Ie=$(1877);const Re="@firebase/installations",ee="w:0.5.8",de="FIS_v2",_e=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bt(S){return S instanceof fe.ZR&&S.code.includes("request-failed")}function yt({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function $e(S){return{token:S.token,requestStatus:2,expiresIn:be(S.expiresIn),creationTime:Date.now()}}function Ve(S,M){return D.apply(this,arguments)}function D(){return(D=(0,H.Z)(function*(S,M){const z=(yield M.json()).error;return _e.create("request-failed",{requestName:S,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function ct({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function at(S,{refreshToken:M}){const L=ct(S);return L.append("Authorization",function Ce(S){return`${de} ${S}`}(M)),L}function pe(S){return ue.apply(this,arguments)}function ue(){return(ue=(0,H.Z)(function*(S){const M=yield S();return M.status>=500&&M.status<600?S():M})).apply(this,arguments)}function be(S){return Number(S.replace("s","000"))}function Ee(S,M){return tt.apply(this,arguments)}function tt(){return(tt=(0,H.Z)(function*({appConfig:S,heartbeatServiceProvider:M},{fid:L}){const z=yt(S),le=ct(S),me=M.getImmediate({optional:!0});if(me){const tn=yield me.getHeartbeatsHeader();tn&&le.append("x-firebase-client",tn)}const et={method:"POST",headers:le,body:JSON.stringify({fid:L,authVersion:de,appId:S.appId,sdkVersion:ee})},It=yield pe(()=>fetch(z,et));if(It.ok){const tn=yield It.json();return{fid:tn.fid||L,registrationStatus:2,refreshToken:tn.refreshToken,authToken:$e(tn.authToken)}}throw yield Ve("Create Installation",It)})).apply(this,arguments)}function De(S){return new Promise(M=>{setTimeout(M,S)})}const Nn=/^[cdef][\w-]{21}$/;function Nt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const L=function $t(S){return function Jt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Nn.test(L)?L:""}catch(S){return""}}function bn(S){return`${S.appName}!${S.appId}`}const Gn=new Map;function Wr(S,M){const L=bn(S);kn(L,M),function En(S,M){const L=function fr(){return!wr&&"BroadcastChannel"in self&&(wr=new BroadcastChannel("[Firebase] FID Change"),wr.onmessage=S=>{kn(S.data.key,S.data.fid)}),wr}();L&&L.postMessage({key:S,fid:M}),function Zs(){0===Gn.size&&wr&&(wr.close(),wr=null)}()}(L,M)}function kn(S,M){const L=Gn.get(S);if(L)for(const z of L)z(M)}let wr=null;const nr="firebase-installations-store";let wi=null;function bi(){return wi||(wi=(0,fe.X3)("firebase-installations-database",1,(S,M)=>{0===M&&S.createObjectStore(nr)})),wi}function Qe(S,M){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,H.Z)(function*(S,M){const L=bn(S),le=(yield bi()).transaction(nr,"readwrite"),me=le.objectStore(nr),Xe=yield me.get(L);return yield me.put(M,L),yield le.complete,(!Xe||Xe.fid!==M.fid)&&Wr(S,M.fid),M})).apply(this,arguments)}function Lr(S){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,H.Z)(function*(S){const M=bn(S),z=(yield bi()).transaction(nr,"readwrite");yield z.objectStore(nr).delete(M),yield z.complete})).apply(this,arguments)}function ki(S,M){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,H.Z)(function*(S,M){const L=bn(S),le=(yield bi()).transaction(nr,"readwrite"),me=le.objectStore(nr),Xe=yield me.get(L),et=M(Xe);return void 0===et?yield me.delete(L):yield me.put(et,L),yield le.complete,et&&(!Xe||Xe.fid!==et.fid)&&Wr(S,et.fid),et})).apply(this,arguments)}function Xn(S){return ar.apply(this,arguments)}function ar(){return(ar=(0,H.Z)(function*(S){let M;const L=yield ki(S.appConfig,z=>{const le=Kr(z),me=Zi(S,le);return M=me.registrationPromise,me.installationEntry});return""===L.fid?{installationEntry:yield M}:{installationEntry:L,registrationPromise:M}})).apply(this,arguments)}function Kr(S){return Cn(S||{fid:Nt(),registrationStatus:0})}function Zi(S,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(_e.create("app-offline"))};const L={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},z=function gn(S,M){return xt.apply(this,arguments)}(S,L);return{installationEntry:L,registrationPromise:z}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:qt(S)}:{installationEntry:M}}function xt(){return(xt=(0,H.Z)(function*(S,M){try{const L=yield Ee(S,M);return Qe(S.appConfig,L)}catch(L){throw bt(L)&&409===L.customData.serverCode?yield Lr(S.appConfig):yield Qe(S.appConfig,{fid:M.fid,registrationStatus:0}),L}})).apply(this,arguments)}function qt(S){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,H.Z)(function*(S){let M=yield Wi(S.appConfig);for(;1===M.registrationStatus;)yield De(100),M=yield Wi(S.appConfig);if(0===M.registrationStatus){const{installationEntry:L,registrationPromise:z}=yield Xn(S);return z||L}return M})).apply(this,arguments)}function Wi(S){return ki(S,M=>{if(!M)throw _e.create("installation-not-found");return Cn(M)})}function Cn(S){return function Pi(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function br(S,M){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,H.Z)(function*({appConfig:S,heartbeatServiceProvider:M},L){const z=Ft(S,L),le=at(S,L),me=M.getImmediate({optional:!0});if(me){const tn=yield me.getHeartbeatsHeader();tn&&le.append("x-firebase-client",tn)}const et={method:"POST",headers:le,body:JSON.stringify({installation:{sdkVersion:ee,appId:S.appId}})},It=yield pe(()=>fetch(z,et));if(It.ok)return $e(yield It.json());throw yield Ve("Generate Auth Token",It)})).apply(this,arguments)}function Ft(S,{fid:M}){return`${yt(S)}/${M}/authTokens:generate`}function Yn(S){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,H.Z)(function*(S,M=!1){let L;const z=yield ki(S.appConfig,me=>{if(!sn(me))throw _e.create("not-registered");const Xe=me.authToken;if(!M&&Q(Xe))return me;if(1===Xe.requestStatus)return L=_t(S,M),me;{if(!navigator.onLine)throw _e.create("app-offline");const et=ne(me);return L=Lt(S,et),et}});return L?yield L:z.authToken})).apply(this,arguments)}function _t(S,M){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,H.Z)(function*(S,M){let L=yield wt(S.appConfig);for(;1===L.authToken.requestStatus;)yield De(100),L=yield wt(S.appConfig);const z=L.authToken;return 0===z.requestStatus?Yn(S,M):z})).apply(this,arguments)}function wt(S){return ki(S,M=>{if(!sn(M))throw _e.create("not-registered");return function Se(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Lt(S,M){return ln.apply(this,arguments)}function ln(){return(ln=(0,H.Z)(function*(S,M){try{const L=yield br(S,M),z=Object.assign(Object.assign({},M),{authToken:L});return yield Qe(S.appConfig,z),L}catch(L){if(!bt(L)||401!==L.customData.serverCode&&404!==L.customData.serverCode){const z=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield Qe(S.appConfig,z)}else yield Lr(S.appConfig);throw L}})).apply(this,arguments)}function sn(S){return void 0!==S&&2===S.registrationStatus}function Q(S){return 2===S.requestStatus&&!function W(S){const M=Date.now();return M<S.creationTime||S.creationTime+S.expiresIn<M+36e5}(S)}function ne(S){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:M})}function lt(){return(lt=(0,H.Z)(function*(S){const M=S,{installationEntry:L,registrationPromise:z}=yield Xn(M);return z?z.catch(console.error):Yn(M).catch(console.error),L.fid})).apply(this,arguments)}function Sn(){return(Sn=(0,H.Z)(function*(S,M=!1){const L=S;return yield ii(L),(yield Yn(L,M)).token})).apply(this,arguments)}function ii(S){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,H.Z)(function*(S){const{registrationPromise:M}=yield Xn(S);M&&(yield M)})).apply(this,arguments)}function sr(S){return _e.create("missing-app-config-values",{valueName:S})}const Zo="installations",rt=S=>{const M=S.getProvider("app").getImmediate(),L=function ks(S){if(!S||!S.options)throw sr("App Configuration");if(!S.name)throw sr("App Name");const M=["projectId","apiKey","appId"];for(const L of M)if(!S.options[L])throw sr(L);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(M);return{app:M,appConfig:L,heartbeatServiceProvider:(0,ve._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},dn=S=>{const M=S.getProvider("app").getImmediate(),L=(0,ve._getProvider)(M,Zo).getImmediate();return{getId:()=>function he(S){return lt.apply(this,arguments)}(L),getToken:le=>function zt(S){return Sn.apply(this,arguments)}(L,le)}};(function Qn(){(0,ve._registerComponent)(new Me.wA(Zo,rt,"PUBLIC")),(0,ve._registerComponent)(new Me.wA("installations-internal",dn,"PRIVATE"))})(),(0,ve.registerVersion)(Re,"0.5.8"),(0,ve.registerVersion)(Re,"0.5.8","esm2017");const Pr="@firebase/remote-config",ur=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bo{constructor(M,L,z,le){this.client=M,this.storage=L,this.storageCache=z,this.logger=le}isCachedDataFresh(M,L){if(!L)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-L,le=z<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${le}.`),le}fetch(M){var L=this;return(0,H.Z)(function*(){const[z,le]=yield Promise.all([L.storage.getLastSuccessfulFetchTimestampMillis(),L.storage.getLastSuccessfulFetchResponse()]);if(le&&L.isCachedDataFresh(M.cacheMaxAgeMillis,z))return le;M.eTag=le&&le.eTag;const me=yield L.client.fetch(M),Xe=[L.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&Xe.push(L.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(Xe),me})()}}function ja(S=navigator){return S.languages&&S.languages[0]||S.language}class Ha{constructor(M,L,z,le,me,Xe){this.firebaseInstallations=M,this.sdkVersion=L,this.namespace=z,this.projectId=le,this.apiKey=me,this.appId=Xe}fetch(M){var L=this;return(0,H.Z)(function*(){const[z,le]=yield Promise.all([L.firebaseInstallations.getId(),L.firebaseInstallations.getToken()]),Xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${L.projectId}/namespaces/${L.namespace}:fetch?key=${L.apiKey}`,et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},It={sdk_version:L.sdkVersion,app_instance_id:z,app_instance_id_token:le,app_id:L.appId,language_code:ja()},tn={method:"POST",headers:et,body:JSON.stringify(It)},yn=fetch(Xe,tn),an=new Promise((Cs,Bs)=>{M.signal.addEventListener(()=>{const Ca=new Error("The operation was aborted.");Ca.name="AbortError",Bs(Ca)})});let Gr;try{yield Promise.race([yn,an]),Gr=yield yn}catch(Cs){let Bs="fetch-client-network";throw"AbortError"===Cs.name&&(Bs="fetch-timeout"),ur.create(Bs,{originalErrorMessage:Cs.message})}let Tr=Gr.status;const du=Gr.headers.get("ETag")||void 0;let Ia,Bi;if(200===Gr.status){let Cs;try{Cs=yield Gr.json()}catch(Bs){throw ur.create("fetch-client-parse",{originalErrorMessage:Bs.message})}Ia=Cs.entries,Bi=Cs.state}if("INSTANCE_STATE_UNSPECIFIED"===Bi?Tr=500:"NO_CHANGE"===Bi?Tr=304:("NO_TEMPLATE"===Bi||"EMPTY_CONFIG"===Bi)&&(Ia={}),304!==Tr&&200!==Tr)throw ur.create("fetch-status",{httpStatus:Tr});return{status:Tr,eTag:du,config:Ia}})()}}class $a{constructor(M,L){this.client=M,this.storage=L}fetch(M){var L=this;return(0,H.Z)(function*(){const z=(yield L.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return L.attemptFetch(M,z)})()}attemptFetch(M,{throttleEndTimeMillis:L,backoffCount:z}){var le=this;return(0,H.Z)(function*(){yield function mr(S,M){return new Promise((L,z)=>{const le=Math.max(M-Date.now(),0),me=setTimeout(L,le);S.addEventListener(()=>{clearTimeout(me),z(ur.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,L);try{const me=yield le.client.fetch(M);return yield le.storage.deleteThrottleMetadata(),me}catch(me){if(!function Cu(S){if(!(S instanceof fe.ZR&&S.customData))return!1;const M=Number(S.customData.httpStatus);return 429===M||500===M||503===M||504===M}(me))throw me;const Xe={throttleEndTimeMillis:Date.now()+(0,fe.$s)(z),backoffCount:z+1};return yield le.storage.setThrottleMetadata(Xe),le.attemptFetch(M,Xe)}})()}}class Du{constructor(M,L,z,le,me){this.app=M,this._client=L,this._storageCache=z,this._storage=le,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qa(S,M){const L=S.target.error||void 0;return ur.create(M,{originalErrorMessage:L&&L.message})}const Xs="app_namespace_store";class hd{constructor(M,L,z,le=function dd(){return new Promise((S,M)=>{try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=z=>{M(qa(z,"storage-open"))},L.onsuccess=z=>{S(z.target.result)},L.onupgradeneeded=z=>{0===z.oldVersion&&z.target.result.createObjectStore(Xs,{keyPath:"compositeKey"})}}catch(L){M(ur.create("storage-open",{originalErrorMessage:L}))}})}()){this.appId=M,this.appName=L,this.namespace=z,this.openDbPromise=le}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var L=this;return(0,H.Z)(function*(){const z=yield L.openDbPromise;return new Promise((le,me)=>{const et=z.transaction([Xs],"readonly").objectStore(Xs),It=L.createCompositeKey(M);try{const tn=et.get(It);tn.onerror=yn=>{me(qa(yn,"storage-get"))},tn.onsuccess=yn=>{const an=yn.target.result;le(an?an.value:void 0)}}catch(tn){me(ur.create("storage-get",{originalErrorMessage:tn&&tn.message}))}})})()}set(M,L){var z=this;return(0,H.Z)(function*(){const le=yield z.openDbPromise;return new Promise((me,Xe)=>{const It=le.transaction([Xs],"readwrite").objectStore(Xs),tn=z.createCompositeKey(M);try{const yn=It.put({compositeKey:tn,value:L});yn.onerror=an=>{Xe(qa(an,"storage-set"))},yn.onsuccess=()=>{me()}}catch(yn){Xe(ur.create("storage-set",{originalErrorMessage:yn&&yn.message}))}})})()}delete(M){var L=this;return(0,H.Z)(function*(){const z=yield L.openDbPromise;return new Promise((le,me)=>{const et=z.transaction([Xs],"readwrite").objectStore(Xs),It=L.createCompositeKey(M);try{const tn=et.delete(It);tn.onerror=yn=>{me(qa(yn,"storage-delete"))},tn.onsuccess=()=>{le()}}catch(tn){me(ur.create("storage-delete",{originalErrorMessage:tn&&tn.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class al{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,H.Z)(function*(){const L=M.storage.getLastFetchStatus(),z=M.storage.getLastSuccessfulFetchTimestampMillis(),le=M.storage.getActiveConfig(),me=yield L;me&&(M.lastFetchStatus=me);const Xe=yield z;Xe&&(M.lastSuccessfulFetchTimestampMillis=Xe);const et=yield le;et&&(M.activeConfig=et)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Eo(){return ul.apply(this,arguments)}function ul(){return(ul=(0,H.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(S){return!1}})).apply(this,arguments)}!function Ko(){(0,ve._registerComponent)(new Me.wA("remote-config",function S(M,{instanceIdentifier:L}){const z=M.getProvider("app").getImmediate(),le=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ur.create("registration-window");if(!(0,fe.hl)())throw ur.create("indexed-db-unavailable");const{projectId:me,apiKey:Xe,appId:et}=z.options;if(!me)throw ur.create("registration-project-id");if(!Xe)throw ur.create("registration-api-key");if(!et)throw ur.create("registration-app-id");const It=new hd(et,z.name,L=L||"firebase"),tn=new al(It),yn=new Ie.Yd(Pr);yn.logLevel=Ie.in.ERROR;const an=new Ha(le,ve.SDK_VERSION,L,me,Xe,et),Gr=new $a(an,It),Tr=new bo(Gr,It,tn,yn),du=new Du(z,Tr,tn,It,yn);return function gr(S){const M=(0,fe.m9)(S);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(du),du},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(Pr,"0.3.7"),(0,ve.registerVersion)(Pr,"0.3.7","esm2017")}();const ma="/firebase-messaging-sw.js",Ps="/firebase-cloud-messaging-push-scope",si="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eo="google.c.a.c_id",Co="google.c.a.c_l",ll="google.c.a.ts",fd="google.c.a.e";var Fi=(()=>{return(S=Fi||(Fi={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Fi;var S})();function Ci(S){const M=new Uint8Array(S);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qo(S){const L=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(L),le=new Uint8Array(z.length);for(let me=0;me<z.length;++me)le[me]=z.charCodeAt(me);return le}const Za="fcm_token_details_db",Yr="fcm_token_object_Store";function p(S){return w.apply(this,arguments)}function w(){return w=(0,H.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(me=>me.name).includes(Za))return null;let M=null;return(yield(0,fe.X3)(Za,5,function(){var z=(0,H.Z)(function*(le,me,Xe,et){var It;if(me<2||!le.objectStoreNames.contains(Yr))return;const tn=et.objectStore(Yr),yn=yield tn.index("fcmSenderId").get(S);if(yield tn.clear(),yn)if(2===me){const an=yn;if(!an.auth||!an.p256dh||!an.endpoint)return;M={token:an.fcmToken,createTime:null!==(It=an.createTime)&&void 0!==It?It:Date.now(),subscriptionOptions:{auth:an.auth,p256dh:an.p256dh,endpoint:an.endpoint,swScope:an.swScope,vapidKey:"string"==typeof an.vapidKey?an.vapidKey:Ci(an.vapidKey)}}}else if(3===me){const an=yn;M={token:an.fcmToken,createTime:an.createTime,subscriptionOptions:{auth:Ci(an.auth),p256dh:Ci(an.p256dh),endpoint:an.endpoint,swScope:an.swScope,vapidKey:Ci(an.vapidKey)}}}else if(4===me){const an=yn;M={token:an.fcmToken,createTime:an.createTime,subscriptionOptions:{auth:Ci(an.auth),p256dh:Ci(an.p256dh),endpoint:an.endpoint,swScope:an.swScope,vapidKey:Ci(an.vapidKey)}}}});return function(le,me,Xe,et){return z.apply(this,arguments)}}())).close(),yield(0,fe.Lj)(Za),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),C(M)?M:null}),w.apply(this,arguments)}function C(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:M}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const P="firebase-messaging-store";let V=null;function K(){return V||(V=(0,fe.X3)("firebase-messaging-database",1,(S,M)=>{0===M&&S.createObjectStore(P)})),V}function G(S){return oe.apply(this,arguments)}function oe(){return(oe=(0,H.Z)(function*(S){const M=Et(S),z=yield(yield K()).transaction(P).objectStore(P).get(M);if(z)return z;{const le=yield p(S.appConfig.senderId);if(le)return yield we(S,le),le}})).apply(this,arguments)}function we(S,M){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,H.Z)(function*(S,M){const L=Et(S),le=(yield K()).transaction(P,"readwrite");return yield le.objectStore(P).put(M,L),yield le.complete,M})).apply(this,arguments)}function ge(S){return ke.apply(this,arguments)}function ke(){return(ke=(0,H.Z)(function*(S){const M=Et(S),z=(yield K()).transaction(P,"readwrite");yield z.objectStore(P).delete(M),yield z.complete})).apply(this,arguments)}function Et({appConfig:S}){return S.appId}const pt=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rr(S,M){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,H.Z)(function*(S,M){const L=yield On(S),z=kt(M),le={method:"POST",headers:L,body:JSON.stringify(z)};let me;try{me=yield(yield fetch(Xt(S.appConfig),le)).json()}catch(Xe){throw pt.create("token-subscribe-failed",{errorInfo:Xe})}if(me.error)throw pt.create("token-subscribe-failed",{errorInfo:me.error.message});if(!me.token)throw pt.create("token-subscribe-no-token");return me.token})).apply(this,arguments)}function zn(S,M){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,H.Z)(function*(S,M){const L=yield On(S),z=kt(M.subscriptionOptions),le={method:"PATCH",headers:L,body:JSON.stringify(z)};let me;try{me=yield(yield fetch(`${Xt(S.appConfig)}/${M.token}`,le)).json()}catch(Xe){throw pt.create("token-update-failed",{errorInfo:Xe})}if(me.error)throw pt.create("token-update-failed",{errorInfo:me.error.message});if(!me.token)throw pt.create("token-update-no-token");return me.token})).apply(this,arguments)}function Vt(S,M){return jr.apply(this,arguments)}function jr(){return(jr=(0,H.Z)(function*(S,M){const z={method:"DELETE",headers:yield On(S)};try{const me=yield(yield fetch(`${Xt(S.appConfig)}/${M}`,z)).json();if(me.error)throw pt.create("token-unsubscribe-failed",{errorInfo:me.error.message})}catch(le){throw pt.create("token-unsubscribe-failed",{errorInfo:le})}})).apply(this,arguments)}function Xt({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function On(S){return Li.apply(this,arguments)}function Li(){return(Li=(0,H.Z)(function*({appConfig:S,installations:M}){const L=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${L}`})})).apply(this,arguments)}function kt({p256dh:S,auth:M,endpoint:L,vapidKey:z}){const le={web:{endpoint:L,auth:M,p256dh:S}};return z!==si&&(le.web.applicationPubKey=z),le}const Qr=6048e5;function Yi(S){return ms.apply(this,arguments)}function ms(){return(ms=(0,H.Z)(function*(S){const M=yield ya(S.swRegistration,S.vapidKey),L={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:M.endpoint,auth:Ci(M.getKey("auth")),p256dh:Ci(M.getKey("p256dh"))},z=yield G(S.firebaseDependencies);if(z){if(Vi(z.subscriptionOptions,L))return Date.now()>=z.createTime+Qr?gi(S,{token:z.token,createTime:Date.now(),subscriptionOptions:L}):z.token;try{yield Vt(S.firebaseDependencies,z.token)}catch(le){console.warn(le)}return qe(S.firebaseDependencies,L)}return qe(S.firebaseDependencies,L)})).apply(this,arguments)}function Hr(S){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,H.Z)(function*(S){const M=yield G(S.firebaseDependencies);M&&(yield Vt(S.firebaseDependencies,M.token),yield ge(S.firebaseDependencies));const L=yield S.swRegistration.pushManager.getSubscription();return!L||L.unsubscribe()})).apply(this,arguments)}function gi(S,M){return ys.apply(this,arguments)}function ys(){return(ys=(0,H.Z)(function*(S,M){try{const L=yield zn(S.firebaseDependencies,M),z=Object.assign(Object.assign({},M),{token:L,createTime:Date.now()});return yield we(S.firebaseDependencies,z),L}catch(L){throw yield Hr(S),L}})).apply(this,arguments)}function qe(S,M){return en.apply(this,arguments)}function en(){return(en=(0,H.Z)(function*(S,M){const z={token:yield rr(S,M),createTime:Date.now(),subscriptionOptions:M};return yield we(S,z),z.token})).apply(this,arguments)}function ya(S,M){return jt.apply(this,arguments)}function jt(){return(jt=(0,H.Z)(function*(S,M){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qo(M)})})).apply(this,arguments)}function Vi(S,M){return M.vapidKey===S.vapidKey&&M.endpoint===S.endpoint&&M.auth===S.auth&&M.p256dh===S.p256dh}function Do(S){const M={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function oi(S,M){if(!M.notification)return;S.notification={};const L=M.notification.title;L&&(S.notification.title=L);const z=M.notification.body;z&&(S.notification.body=z);const le=M.notification.image;le&&(S.notification.image=le)}(M,S),function Tu(S,M){!M.data||(S.data=M.data)}(M,S),function Jo(S,M){if(!M.fcmOptions)return;S.fcmOptions={};const L=M.fcmOptions.link;L&&(S.fcmOptions.link=L);const z=M.fcmOptions.analytics_label;z&&(S.fcmOptions.analyticsLabel=z)}(M,S),M}function cl(S){return"object"==typeof S&&!!S&&eo in S}function Wa(S,M){const L=[];for(let z=0;z<S.length;z++)L.push(S.charAt(z)),z<M.length&&L.push(M.charAt(z));return L.join("")}function to(S){return pt.create("missing-app-config-values",{valueName:S})}Wa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jr{constructor(M,L,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const le=function Ka(S){if(!S||!S.options)throw to("App Configuration Object");if(!S.name)throw to("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:L}=S;for(const z of M)if(!L[z])throw to(z);return{appName:S.name,projectId:L.projectId,apiKey:L.apiKey,appId:L.appId,senderId:L.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:le,installations:L,analyticsProvider:z}}_delete(){return Promise.resolve()}}function ai(S){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,H.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(ma,{scope:Ps}),S.swRegistration.update().catch(()=>{})}catch(M){throw pt.create("failed-service-worker-registration",{browserErrorMessage:M.message})}})).apply(this,arguments)}function no(S,M){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,H.Z)(function*(S,M){if(!M&&!S.swRegistration&&(yield ai(S)),M||!S.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw pt.create("invalid-sw-registration");S.swRegistration=M}})).apply(this,arguments)}function To(S,M){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,H.Z)(function*(S,M){M?S.vapidKey=M:S.vapidKey||(S.vapidKey=si)})).apply(this,arguments)}function Xi(){return(Xi=(0,H.Z)(function*(S,M){if(!navigator)throw pt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pt.create("permission-blocked");return yield To(S,null==M?void 0:M.vapidKey),yield no(S,null==M?void 0:M.serviceWorkerRegistration),Yi(S)})).apply(this,arguments)}function Ti(S,M,L){return ea.apply(this,arguments)}function ea(){return(ea=(0,H.Z)(function*(S,M,L){const z=Ja(M);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:L[eo],message_name:L[Co],message_time:L[ll],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ja(S){switch(S){case Fi.NOTIFICATION_CLICKED:return"notification_open";case Fi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function dl(){return(dl=(0,H.Z)(function*(S,M){const L=M.data;if(!L.isFirebaseMessaging)return;S.onMessageHandler&&L.messageType===Fi.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Do(L)):S.onMessageHandler.next(Do(L)));const z=L.data;cl(z)&&"1"===z[fd]&&(yield Ti(S,L.messageType,z))})).apply(this,arguments)}const jn="@firebase/messaging",Ui=S=>{const M=new Jr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",L=>function Xa(S,M){return dl.apply(this,arguments)}(M,L)),M},$r=S=>{const M=S.getProvider("messaging").getImmediate();return{getToken:z=>function Xo(S,M){return Xi.apply(this,arguments)}(M,z)}};function Au(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,H.Z)(function*(){try{yield(0,fe.eu)()}catch(S){return!1}return"undefined"!=typeof window&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function eu(){(0,ve._registerComponent)(new Me.wA("messaging",Ui,"PUBLIC")),(0,ve._registerComponent)(new Me.wA("messaging-internal",$r,"PRIVATE")),(0,ve.registerVersion)(jn,"0.9.12"),(0,ve.registerVersion)(jn,"0.9.12","esm2017")}();const Su="analytics",hl="firebase_id",va="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",B="https://www.googletagmanager.com/gtag/js",Z=new Ie.Yd("@firebase/analytics");function re(S){return Promise.all(S.map(M=>M.catch(L=>L)))}function Ue(S,M){const L=document.createElement("script");L.src=`${B}?l=${S}&id=${M}`,L.async=!0,document.head.appendChild(L)}function je(S,M,L,z,le,me){return We.apply(this,arguments)}function We(){return(We=(0,H.Z)(function*(S,M,L,z,le,me){const Xe=z[le];try{if(Xe)yield M[Xe];else{const It=(yield re(L)).find(tn=>tn.measurementId===le);It&&(yield M[It.appId])}}catch(et){Z.error(et)}S("config",le,me)})).apply(this,arguments)}function ot(S,M,L,z,le){return ut.apply(this,arguments)}function ut(){return(ut=(0,H.Z)(function*(S,M,L,z,le){try{let me=[];if(le&&le.send_to){let Xe=le.send_to;Array.isArray(Xe)||(Xe=[Xe]);const et=yield re(L);for(const It of Xe){const tn=et.find(an=>an.measurementId===It),yn=tn&&M[tn.appId];if(!yn){me=[];break}me.push(yn)}}0===me.length&&(me=Object.values(M)),yield Promise.all(me),S("event",z,le||{})}catch(me){Z.error(me)}})).apply(this,arguments)}function Zt(){const S=window.document.getElementsByTagName("script");for(const M of Object.values(S))if(M.src&&M.src.includes(B))return M;return null}const Kt=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jn=new class qn{constructor(M={},L=1e3){this.throttleMetadata=M,this.intervalMillis=L}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,L){this.throttleMetadata[M]=L}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function Hn(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function ta(S){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,H.Z)(function*(S){var M;const{appId:L,apiKey:z}=S,le={method:"GET",headers:Hn(z)},me=va.replace("{app-id}",L),Xe=yield fetch(me,le);if(200!==Xe.status&&304!==Xe.status){let et="";try{const It=yield Xe.json();(null===(M=It.error)||void 0===M?void 0:M.message)&&(et=It.error.message)}catch(It){}throw Kt.create("config-fetch-failed",{httpStatus:Xe.status,responseMessage:et})}return Xe.json()})).apply(this,arguments)}function Ai(S){return Os.apply(this,arguments)}function Os(){return(Os=(0,H.Z)(function*(S,M=Jn,L){const{appId:z,apiKey:le,measurementId:me}=S.options;if(!z)throw Kt.create("no-app-id");if(!le){if(me)return{measurementId:me,appId:z};throw Kt.create("no-api-key")}const Xe=M.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},et=new dc;return setTimeout((0,H.Z)(function*(){et.abort()}),void 0!==L?L:6e4),fl({appId:z,apiKey:le,measurementId:me},Xe,et,M)})).apply(this,arguments)}function fl(S,M,L){return ws.apply(this,arguments)}function ws(){return(ws=(0,H.Z)(function*(S,{throttleEndTimeMillis:M,backoffCount:L},z,le=Jn){const{appId:me,measurementId:Xe}=S;try{yield In(z,M)}catch(et){if(Xe)return Z.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${et.message}]`),{appId:me,measurementId:Xe};throw et}try{const et=yield ta(S);return le.deleteThrottleMetadata(me),et}catch(et){if(!gd(et)){if(le.deleteThrottleMetadata(me),Xe)return Z.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${et.message}]`),{appId:me,measurementId:Xe};throw et}const It=503===Number(et.customData.httpStatus)?(0,fe.$s)(L,le.intervalMillis,30):(0,fe.$s)(L,le.intervalMillis),tn={throttleEndTimeMillis:Date.now()+It,backoffCount:L+1};return le.setThrottleMetadata(me,tn),Z.debug(`Calling attemptFetch again in ${It} millis`),fl(S,tn,z,le)}})).apply(this,arguments)}function In(S,M){return new Promise((L,z)=>{const le=Math.max(M-Date.now(),0),me=setTimeout(L,le);S.addEventListener(()=>{clearTimeout(me),z(Kt.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function gd(S){if(!(S instanceof fe.ZR&&S.customData))return!1;const M=Number(S.customData.httpStatus);return 429===M||500===M||503===M||504===M}class dc{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}function md(){return wa.apply(this,arguments)}function wa(){return(wa=(0,H.Z)(function*(){if(!(0,fe.hl)())return Z.warn(Kt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(S){return Z.warn(Kt.create("indexeddb-unavailable",{errorInfo:S}).message),!1}return!0})).apply(this,arguments)}function So(){return(So=(0,H.Z)(function*(S,M,L,z,le,me,Xe){var et;const It=Ai(S);It.then(Tr=>{L[Tr.measurementId]=Tr.appId,S.options.measurementId&&Tr.measurementId!==S.options.measurementId&&Z.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Tr=>Z.error(Tr)),M.push(It);const tn=md().then(Tr=>{if(Tr)return z.getId()}),[yn,an]=yield Promise.all([It,tn]);Zt()||Ue(me,yn.measurementId),le("js",new Date);const Gr=null!==(et=null==Xe?void 0:Xe.config)&&void 0!==et?et:{};return Gr.origin="firebase",Gr.update=!0,null!=an&&(Gr[hl]=an),le("config",yn.measurementId,Gr),yn.measurementId})).apply(this,arguments)}class ru{constructor(M){this.app=M}_delete(){return delete bs[this.app.options.appId],Promise.resolve()}}let bs={},na=[];const xu={};let ra,so,io="dataLayer",fc=!1;function Fs(S,M,L){!function iu(){const S=[];if((0,fe.ru)()&&S.push("This is a browser extension environment."),(0,fe.zI)()||S.push("Cookies are not available."),S.length>0){const M=S.map((z,le)=>`(${le+1}) ${z}`).join(" "),L=Kt.create("invalid-analytics-context",{errorInfo:M});Z.warn(L.message)}}();const z=S.options.appId;if(!z)throw Kt.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Kt.create("no-api-key");Z.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bs[z])throw Kt.create("already-exists",{id:z});if(!fc){!function se(S){let M=[];Array.isArray(window[S])?M=window[S]:window[S]=M}(io);const{wrappedGtag:me,gtagCore:Xe}=function Ut(S,M,L,z,le){let me=function(...Xe){window[z].push(arguments)};return window[le]&&"function"==typeof window[le]&&(me=window[le]),window[le]=function Ht(S,M,L,z){function me(){return(me=(0,H.Z)(function*(Xe,et,It){try{"event"===Xe?yield ot(S,M,L,et,It):"config"===Xe?yield je(S,M,L,z,et,It):S("set",et)}catch(tn){Z.error(tn)}})).apply(this,arguments)}return function le(Xe,et,It){return me.apply(this,arguments)}}(me,S,M,L),{gtagCore:me,wrappedGtag:window[le]}}(bs,na,xu,io,"gtag");so=me,ra=Xe,fc=!0}return bs[z]=function Or(S,M,L,z,le,me,Xe){return So.apply(this,arguments)}(S,na,xu,M,ra,io,L),new ru(S)}function ou(){return(ou=(0,H.Z)(function*(S,M,L,z,le){if(le&&le.global)S("event",L,z);else{const me=yield M;S("event",L,Object.assign(Object.assign({},z),{send_to:me}))}})).apply(this,arguments)}function Cr(){return ia.apply(this,arguments)}function ia(){return(ia=(0,H.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(S){return!1}})).apply(this,arguments)}const sa="@firebase/analytics";!function Kp(){(0,ve._registerComponent)(new Me.wA(Su,(M,{options:L})=>Fs(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),L),"PUBLIC")),(0,ve._registerComponent)(new Me.wA("analytics-internal",function S(M){try{const L=M.getProvider(Su).getImmediate();return{logEvent:(z,le,me)=>function Wp(S,M,L,z){S=(0,fe.m9)(S),function su(S,M,L,z,le){return ou.apply(this,arguments)}(so,bs[S.app.options.appId],M,L,z).catch(le=>Z.error(le))}(L,z,le,me)}}catch(L){throw Kt.create("interop-component-reg-failed",{reason:L})}},"PRIVATE")),(0,ve.registerVersion)(sa,"0.7.8"),(0,ve.registerVersion)(sa,"0.7.8","esm2017")}();var oa=$(4408),pl=$(7565);const pc=new class _r extends pl.v{}(class Mo extends oa.o{constructor(M,L){super(M,L),this.scheduler=M,this.work=L}schedule(M,L=0){return L>0?super.schedule(M,L):(this.delay=L,this.state=M,this.scheduler.flush(this),this)}execute(M,L){return L>0||this.closed?super.execute(M,L):this._execute(M,L)}requestAsyncId(M,L,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(M,L,z):M.flush(this)}});var Yp=$(4986),gc=$(8505),mi=$(5363),Es=$(9468);const mc=new c.GfV("7.3.0"),Ro="__angularfire_symbol__analyticsIsSupportedValue",Us="__angularfire_symbol__analyticsIsSupported",ao="__angularfire_symbol__remoteConfigIsSupportedValue",Mu="__angularfire_symbol__remoteConfigIsSupported",yc="__angularfire_symbol__messagingIsSupportedValue",_c="__angularfire_symbol__messagingIsSupported";function aa(S,M,L){if(M){if(1===M.length)return M[0];const me=M.filter(Xe=>Xe.app===L);if(1===me.length)return me[0]}return L.container.getProvider(S).getImmediate({optional:!0})}globalThis[Us]||(globalThis[Us]=Cr().then(S=>globalThis[Ro]=S).catch(()=>globalThis[Ro]=!1)),globalThis[_c]||(globalThis[_c]=Au().then(S=>globalThis[yc]=S).catch(()=>globalThis[yc]=!1)),globalThis[Mu]||(globalThis[Mu]=Eo().then(S=>globalThis[ao]=S).catch(()=>globalThis[ao]=!1));const wd=(S,M)=>{const L=M?[M]:(0,te.C6)(),z=[];return L.forEach(le=>{le.container.getProvider(S).instances.forEach(Xe=>{z.includes(Xe)||z.push(Xe)})}),z};function ba(){}class gl{constructor(M,L=pc){this.zone=M,this.delegate=L}now(){return this.delegate.now()}schedule(M,L,z){const le=this.zone;return this.delegate.schedule(function(Xe){le.runGuarded(()=>{M.apply(this,[Xe])})},L,z)}}class uo{constructor(M){this.zone=M,this.task=null}call(M,L){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ba,{},ba,ba)),L.pipe((0,gc.b)({next:z,complete:z,error:z})).subscribe(M).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ml=(()=>{class S{constructor(L){this.ngZone=L,this.outsideAngular=L.runOutsideAngular(()=>new gl(Zone.current)),this.insideAngular=L.run(()=>new gl(Zone.current,Yp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(L){return new(L||S)(c.LFG(c.R0b))},S.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function lo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function qr(S){return S.pipe((0,mi.Q)(lo().outsideAngular))}function bc(S){return lo(),function Ea(S){return function(L){return(L=L.lift(new uo(S.ngZone))).pipe((0,Es.R)(S.outsideAngular),(0,mi.Q)(S.insideAngular))}}(lo())(S)}},2090:(Rt,Ze,$)=>{"use strict";$.d(Ze,{$s:()=>Pi,BH:()=>Ke,G6:()=>pe,L:()=>Te,LL:()=>Jt,Lj:()=>ln,Mn:()=>ct,Sg:()=>He,UG:()=>_e,US:()=>Ie,X3:()=>Lt,ZB:()=>de,ZR:()=>De,b$:()=>$e,d:()=>Ve,eu:()=>be,hl:()=>ue,jU:()=>bt,m9:()=>Ft,ne:()=>Qe,pd:()=>wi,r3:()=>kn,ru:()=>yt,tV:()=>X,uI:()=>xe,vZ:()=>Zs,w1:()=>D,xO:()=>ds,xb:()=>wr,z$:()=>Le,zI:()=>Ce,zd:()=>nr});var c=$(5861);const fe=function(Q){const W=[];let ne=0;for(let Se=0;Se<Q.length;Se++){let he=Q.charCodeAt(Se);he<128?W[ne++]=he:he<2048?(W[ne++]=he>>6|192,W[ne++]=63&he|128):55296==(64512&he)&&Se+1<Q.length&&56320==(64512&Q.charCodeAt(Se+1))?(he=65536+((1023&he)<<10)+(1023&Q.charCodeAt(++Se)),W[ne++]=he>>18|240,W[ne++]=he>>12&63|128,W[ne++]=he>>6&63|128,W[ne++]=63&he|128):(W[ne++]=he>>12|224,W[ne++]=he>>6&63|128,W[ne++]=63&he|128)}return W},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,W){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ne=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let he=0;he<Q.length;he+=3){const lt=Q[he],zt=he+1<Q.length,Sn=zt?Q[he+1]:0,ii=he+2<Q.length,Tn=ii?Q[he+2]:0;let Rn=(15&Sn)<<2|Tn>>6,kr=63&Tn;ii||(kr=64,zt||(Rn=64)),Se.push(ne[lt>>2],ne[(3&lt)<<4|Sn>>4],ne[Rn],ne[kr])}return Se.join("")},encodeString(Q,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(Q):this.encodeByteArray(fe(Q),W)},decodeString(Q,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(Q):function(Q){const W=[];let ne=0,Se=0;for(;ne<Q.length;){const he=Q[ne++];if(he<128)W[Se++]=String.fromCharCode(he);else if(he>191&&he<224){const lt=Q[ne++];W[Se++]=String.fromCharCode((31&he)<<6|63&lt)}else if(he>239&&he<365){const ii=((7&he)<<18|(63&Q[ne++])<<12|(63&Q[ne++])<<6|63&Q[ne++])-65536;W[Se++]=String.fromCharCode(55296+(ii>>10)),W[Se++]=String.fromCharCode(56320+(1023&ii))}else{const lt=Q[ne++],zt=Q[ne++];W[Se++]=String.fromCharCode((15&he)<<12|(63&lt)<<6|63&zt)}}return W.join("")}(this.decodeStringToByteArray(Q,W))},decodeStringToByteArray(Q,W){this.init_();const ne=W?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let he=0;he<Q.length;){const lt=ne[Q.charAt(he++)],Sn=he<Q.length?ne[Q.charAt(he)]:0;++he;const Tn=he<Q.length?ne[Q.charAt(he)]:64;++he;const cn=he<Q.length?ne[Q.charAt(he)]:64;if(++he,null==lt||null==Sn||null==Tn||null==cn)throw Error();Se.push(lt<<2|Sn>>4),64!==Tn&&(Se.push(Sn<<4&240|Tn>>2),64!==cn&&Se.push(Tn<<6&192|cn))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},Te=function(Q){return function(Q){const W=fe(Q);return Ie.encodeByteArray(W,!0)}(Q).replace(/\./g,"")},X=function(Q){try{return Ie.decodeString(Q,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function de(Q,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return W}for(const ne in W)!W.hasOwnProperty(ne)||!mt(ne)||(Q[ne]=de(Q[ne],W[ne]));return Q}function mt(Q){return"__proto__"!==Q}class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,ne)=>{this.resolve=W,this.reject=ne})}wrapCallback(W){return(ne,Se)=>{ne?this.reject(ne):this.resolve(Se),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(ne):W(ne,Se))}}}function He(Q,W){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=W||"demo-project",he=Q.iat||0,lt=Q.sub||Q.user_id;if(!lt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const zt=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:he,exp:he+3600,auth_time:he,sub:lt,user_id:lt,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(zt)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Q){return!1}}function bt(){return"object"==typeof self&&self.self===self}function yt(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){return Le().indexOf("Electron/")>=0}function D(){const Q=Le();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function ct(){return Le().indexOf("MSAppHost/")>=0}function pe(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"object"==typeof indexedDB}function be(){return new Promise((Q,W)=>{try{let ne=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",he=self.indexedDB.open(Se);he.onsuccess=()=>{he.result.close(),ne||self.indexedDB.deleteDatabase(Se),Q(!0)},he.onupgradeneeded=()=>{ne=!1},he.onerror=()=>{var lt;W((null===(lt=he.error)||void 0===lt?void 0:lt.message)||"")}}catch(ne){W(ne)}})}function Ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class De extends Error{constructor(W,ne,Se){super(ne),this.code=W,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jt.prototype.create)}}class Jt{constructor(W,ne,Se){this.service=W,this.serviceName=ne,this.errors=Se}create(W,...ne){const Se=ne[0]||{},he=`${this.service}/${W}`,lt=this.errors[W],zt=lt?function Nn(Q,W){return Q.replace(hr,(ne,Se)=>{const he=W[Se];return null!=he?String(he):`<${Se}?>`})}(lt,Se):"Error";return new De(he,`${this.serviceName}: ${zt} (${he}).`,Se)}}const hr=/\{\$([^}]+)}/g;function kn(Q,W){return Object.prototype.hasOwnProperty.call(Q,W)}function wr(Q){for(const W in Q)if(Object.prototype.hasOwnProperty.call(Q,W))return!1;return!0}function Zs(Q,W){if(Q===W)return!0;const ne=Object.keys(Q),Se=Object.keys(W);for(const he of ne){if(!Se.includes(he))return!1;const lt=Q[he],zt=W[he];if(pi(lt)&&pi(zt)){if(!Zs(lt,zt))return!1}else if(lt!==zt)return!1}for(const he of Se)if(!ne.includes(he))return!1;return!0}function pi(Q){return null!==Q&&"object"==typeof Q}function ds(Q){const W=[];for(const[ne,Se]of Object.entries(Q))Array.isArray(Se)?Se.forEach(he=>{W.push(encodeURIComponent(ne)+"="+encodeURIComponent(he))}):W.push(encodeURIComponent(ne)+"="+encodeURIComponent(Se));return W.length?"&"+W.join("&"):""}function nr(Q){const W={};return Q.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[he,lt]=Se.split("=");W[decodeURIComponent(he)]=decodeURIComponent(lt)}}),W}function wi(Q){const W=Q.indexOf("?");if(!W)return"";const ne=Q.indexOf("#",W);return Q.substring(W,ne>0?ne:void 0)}function Qe(Q,W){const ne=new Kn(Q,W);return ne.subscribe.bind(ne)}class Kn{constructor(W,ne){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(()=>{W(this)}).catch(Se=>{this.error(Se)})}next(W){this.forEachObserver(ne=>{ne.next(W)})}error(W){this.forEachObserver(ne=>{ne.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,ne,Se){let he;if(void 0===W&&void 0===ne&&void 0===Se)throw new Error("Missing Observer.");he=function Nr(Q,W){if("object"!=typeof Q||null===Q)return!1;for(const ne of W)if(ne in Q&&"function"==typeof Q[ne])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:ne,complete:Se},void 0===he.next&&(he.next=ki),void 0===he.error&&(he.error=ki),void 0===he.complete&&(he.complete=ki);const lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?he.error(this.finalError):he.complete()}catch(zt){}}),this.observers.push(he),lt}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let ne=0;ne<this.observers.length;ne++)this.sendOne(ne,W)}sendOne(W,ne){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{ne(this.observers[W])}catch(Se){"undefined"!=typeof console&&console.error&&console.error(Se)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ki(){}function Pi(Q,W=1e3,ne=2){const Se=W*Math.pow(ne,Q),he=Math.round(.5*Se*(Math.random()-.5)*2);return Math.min(144e5,Se+he)}function Ft(Q){return Q&&Q._delegate?Q._delegate:Q}function Yn(Q,W){return new Promise((ne,Se)=>{Q.onsuccess=he=>{ne(he.target.result)},Q.onerror=he=>{var lt;Se(`${W}: ${null===(lt=he.target.error)||void 0===lt?void 0:lt.message}`)}})}class Gt{constructor(W){this._db=W,this.objectStoreNames=this._db.objectStoreNames}transaction(W,ne="readonly"){return new _t(this._db.transaction.call(this._db,W,ne))}createObjectStore(W,ne){return new Ge(this._db.createObjectStore(W,ne))}close(){this._db.close()}}class _t{constructor(W){this._transaction=W,this.complete=new Promise((ne,Se)=>{this._transaction.oncomplete=function(){ne()},this._transaction.onerror=()=>{Se(this._transaction.error)},this._transaction.onabort=()=>{Se(this._transaction.error)}})}objectStore(W){return new Ge(this._transaction.objectStore(W))}}class Ge{constructor(W){this._store=W}index(W){return new wt(this._store.index(W))}createIndex(W,ne,Se){return new wt(this._store.createIndex(W,ne,Se))}get(W){return Yn(this._store.get(W),"Error reading from IndexedDB")}put(W,ne){return Yn(this._store.put(W,ne),"Error writing to IndexedDB")}delete(W){return Yn(this._store.delete(W),"Error deleting from IndexedDB")}clear(){return Yn(this._store.clear(),"Error clearing IndexedDB object store")}}class wt{constructor(W){this._index=W}get(W){return Yn(this._index.get(W),"Error reading from IndexedDB")}}function Lt(Q,W,ne){return new Promise((Se,he)=>{try{const lt=indexedDB.open(Q,W);lt.onsuccess=zt=>{Se(new Gt(zt.target.result))},lt.onerror=zt=>{var Sn;he(`Error opening indexedDB: ${null===(Sn=zt.target.error)||void 0===Sn?void 0:Sn.message}`)},lt.onupgradeneeded=zt=>{ne(new Gt(lt.result),zt.oldVersion,zt.newVersion,new _t(lt.transaction))}}catch(lt){he(`Error opening indexedDB: ${lt.message}`)}})}function ln(Q){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(Q){return new Promise((W,ne)=>{try{const Se=indexedDB.deleteDatabase(Q);Se.onsuccess=()=>{W()},Se.onerror=he=>{var lt;ne(`Error deleting indexedDB database "${Q}": ${null===(lt=he.target.error)||void 0===lt?void 0:lt.message}`)}}catch(Se){ne(`Error deleting indexedDB database "${Q}": ${Se.message}`)}})})).apply(this,arguments)}},8419:(Rt,Ze,$)=>{"use strict";var c=$(5e3);let te=null;function H(){return te}const Ie=new c.OlP("DocumentToken");let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Te(){return(0,c.LFG)(ee)}()},providedIn:"platform"}),n})();const X=new c.OlP("Location Initialized");let ee=(()=>{class n extends Re{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){de()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){de()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function mt(){return new ee((0,c.LFG)(Ie))}()},providedIn:"platform"}),n})();function de(){return!!window.history.pushState}function Ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function He(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function _e(n){const e=(0,c.LFG)(Ie).location;return new yt((0,c.LFG)(Re),e&&e.origin||"")}()},providedIn:"root"}),n})();const bt=new c.OlP("appBaseHref");let yt=(()=>{class n extends xe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Le(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const h=this.prepareExternalUrl(o+Le(u));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){const h=this.prepareExternalUrl(o+Le(u));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Re),c.LFG(bt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n extends xe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let h=this.prepareExternalUrl(o+Le(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){let h=this.prepareExternalUrl(o+Le(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Re),c.LFG(bt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=He(at(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Le(r))}normalize(t){return n.stripTrailingSlash(function ct(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,at(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Ke,n.stripTrailingSlash=He,n.\u0275fac=function(t){return new(t||n)(c.LFG(xe),c.LFG(Re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function D(){return new Ve((0,c.LFG)(xe),(0,c.LFG)(Re))}()},providedIn:"root"}),n})();function at(n){return n.replace(/\/index.html$/,"")}class Qs{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Br=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Qs(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const y=r.get(u);r.move(y,h),Ki(y,o)}});for(let o=0,u=r.length;o<u;o++){const y=r.get(o).context;y.index=o,y.count=u,y.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Ki(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ki(n,e){n.context.$implicit=e.item}let gr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Bn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Va("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Va("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Bn{constructor(){this.$implicit=null,this.ngIf=null}}function Va(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class Cu{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class $a{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const gs=new $a,ol=new Cu;let Du=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return gs;if((0,c.F4k)(t))return ol;throw function mr(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),Yo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Yr(n){return"server"===n}let A=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new k((0,c.LFG)(Ie),window)}),n})();class k{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function V(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=P(this.window.history)||P(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function P(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class we extends class oe extends class Me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){te||(te=n)}(new we)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ge(){return Pe=Pe||document.querySelector("base"),Pe?Pe.getAttribute("href"):null}();return null==t?null:function Et(n){ke=ke||document.createElement("a"),ke.setAttribute("href",n);const e=ke.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Er(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let ke,Pe=null;const Mt=new c.OlP("TRANSITION_ID"),rr=[{provide:c.ip1,useFactory:function pt(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=H(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[Mt,Ie,c.zs3],multi:!0}];class Pn{static init(){(0,c.VLi)(new Pn)}addToWindow(e){c.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const y=function(E){h=h||E,u--,0==u&&r(h)};o.forEach(function(E){E.whenStable(y)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let zn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Dn=new c.OlP("EventManagerPlugins");let Vt=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const h=o[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Dn),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class jr{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=H().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Xt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),On=(()=>{class n extends Xt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Li),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Li))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Li(n){H().remove(n)}const kt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qr=/%COMP%/g;function qe(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?qe(n,o,t):(o=o.replace(Qr,n),t.push(o))}return t}function en(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let jt=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Vi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Tu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case c.ifc.ShadowDom:return new Jo(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=qe(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vt),c.LFG(On),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Vi{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(kt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=kt[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=kt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,o&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,en(r)):this.eventManager.addEventListener(e,t,en(r))}}class Tu extends Vi{constructor(e,t,r,o){super(e),this.component=r;const u=qe(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function gi(n){return"_ngcontent-%COMP%".replace(Qr,n)}(o+"-"+r.id),this.hostAttr=function ys(n){return"_nghost-%COMP%".replace(Qr,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Jo extends Vi{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=qe(o.id,o.styles,[]);for(let h=0;h<u.length;h++){const y=document.createElement("style");y.textContent=u[h],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let cl=(()=>{class n extends jr{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Wa=["alt","control","meta","shift"],to={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ai={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ya=(()=>{class n extends jr{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let h="";if(Wa.forEach(E=>{const x=r.indexOf(E);x>-1&&(r.splice(x,1),h+=E+".")}),h+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=o,y.fullKey=h,y}static getEventFullKey(t){let r="",o=function no(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Jr.hasOwnProperty(e)&&(e=Jr[e]))}return to[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Wa.forEach(u=>{u!=o&&ai[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xi=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Ji(){we.makeCurrent(),Pn.init()},multi:!0},{provide:Ie,useFactory:function Qa(){return(0,c.RDi)(document),document},deps:[]}]),Ti=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function To(){return new c.qLn},deps:[]},{provide:Dn,useClass:cl,multi:!0,deps:[Ie,c.R0b,c.Lbi]},{provide:Dn,useClass:Ya,multi:!0,deps:[Ie]},{provide:jt,useClass:jt,deps:[Vt,On,c.AFp]},{provide:c.FYo,useExisting:jt},{provide:Xt,useExisting:On},{provide:On,useClass:On,deps:[Ie]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Vt,useClass:Vt,deps:[Dn,c.R0b]},{provide:class G{},useClass:zn,deps:[]}];let ea=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Mt,useExisting:c.AFp},rr]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ti,imports:[Yo,c.hGG]}),n})();"undefined"!=typeof window&&window;var At=$(8996),Kt=$(7669);function Je(...n){const e=(0,Kt.yG)(n);return(0,At.D)(n,e)}var An=$(7579);class qn extends An.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Jn=$(8306);const{isArray:Hn}=Array,{getPrototypeOf:ta,prototype:Fn,keys:Ai}=Object;function Os(n){if(1===n.length){const e=n[0];if(Hn(e))return{args:e,keys:null};if(function fl(n){return n&&"object"==typeof n&&ta(n)===Fn}(e)){const t=Ai(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ws=$(4671),In=$(4004);const{isArray:gd}=Array;function md(n){return(0,In.U)(e=>function dc(n,e){return gd(e)?n(...e):n(e)}(n,e))}function wa(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Or=$(5403),So=$(9672);function na(n,e,t){n?(0,So.f)(t,n,e):e()}var xu=$(576);function io(n,e){const t=(0,xu.m)(n)?n:()=>n,r=o=>o.error(t());return new Jn.y(e?o=>e.schedule(r,0,o):r)}const ra=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var so=$(8189);function yd(...n){return function fc(){return(0,so.J)(1)}()((0,At.D)(n,(0,Kt.yG)(n)))}var iu=$(8421);function Fs(n){return new Jn.y(e=>{(0,iu.Xf)(n()).subscribe(e)})}var su=$(515),ou=$(727),Si=$(4482);function Ls(){return(0,Si.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Or.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class _d extends Jn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Si.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ou.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Or.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ou.w0.EMPTY)}return e}refCount(){return Ls()(this)}}function yr(n,e){return(0,Si.e)((t,r)=>{let o=null,u=0,h=!1;const y=()=>h&&!o&&r.complete();t.subscribe((0,Or.x)(r,E=>{null==o||o.unsubscribe();let x=0;const F=u++;(0,iu.Xf)(n(E,F)).subscribe(o=(0,Or.x)(r,U=>r.next(e?e(E,U,F,x++):U),()=>{o=null,y()}))},()=>{h=!0,y()}))})}var au=$(5698);function Vs(...n){const e=(0,Kt.yG)(n);return(0,Si.e)((t,r)=>{(e?yd(n,t,e):yd(n,t)).subscribe(r)})}function uu(n,e,t,r,o){return(u,h)=>{let y=t,E=e,x=0;u.subscribe((0,Or.x)(h,F=>{const U=x++;E=y?n(E,F,U):(y=!0,F),r&&h.next(E)},o&&(()=>{y&&h.next(E),h.complete()})))}}function xi(n,e){return(0,Si.e)(uu(n,e,arguments.length>=2,!0))}function xo(n,e){return(0,Si.e)((t,r)=>{let o=0;t.subscribe((0,Or.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}function oo(n){return(0,Si.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Or.x)(t,void 0,void 0,h=>{u=(0,iu.Xf)(n(h,oo(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Cr=$(5577);function ia(n,e){return(0,xu.m)(e)?(0,Cr.z)(n,e,1):(0,Cr.z)(n,1)}function vd(n){return n<=0?()=>su.E:(0,Si.e)((e,t)=>{let r=[];e.subscribe((0,Or.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Dr(n=zp){return(0,Si.e)((e,t)=>{let r=!1;e.subscribe((0,Or.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function zp(){return new ra}function Zp(n){return(0,Si.e)((e,t)=>{let r=!1;e.subscribe((0,Or.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function sa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xo((o,u)=>n(o,u,r)):ws.y,(0,au.q)(1),t?Zp(e):Dr(()=>new ra))}var ts=$(8505);class oa{constructor(e,t){this.id=e,this.url=t}}class Mo extends oa{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pl extends oa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _r extends oa{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pc extends oa{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lu extends oa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yp extends oa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gc extends oa{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mi extends oa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Es extends oa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ro{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Us{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _c{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _n="primary";class vc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xr(n){return new vc(n)}const wc="ngNavigationCancelingError";function aa(n){const e=Error("NavigationCancelingError: "+n);return e[wc]=!0,e}function ba(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const h=r[u],y=n[u];if(h.startsWith(":"))o[h.substring(1)]=y;else if(h!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function uo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!ml(n[o],e[o]))return!1;return!0}function ml(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function lo(n){return Array.prototype.concat.apply([],n)}function bd(n){return n.length>0?n[n.length-1]:null}function qr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Is(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,At.D)(Promise.resolve(n)):Je(n)}const Ea={exact:function M(n,e,t){if(!yn(n.segments,e.segments)||!me(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!M(n.children[r],e.children[r],t))return!1;return!0},subset:z},cu={exact:function S(n,e){return uo(n,e)},subset:function L(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ml(n[t],e[t]))},ignored:()=>!0};function yl(n,e,t){return Ea[t.paths](n.root,e.root,t.matrixParams)&&cu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function z(n,e,t){return le(n,e,e.segments,t)}function le(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!yn(o,t)||e.hasChildren()||!me(o,t,r))}if(n.segments.length===t.length){if(!yn(n.segments,t)||!me(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!z(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(yn(n.segments,o)&&me(n.segments,o,r)&&n.children[_n])&&le(n.children[_n],e,u,r)}}function me(n,e,t){return e.every((r,o)=>cu[t](n[o].parameters,r.parameters))}class Xe{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xr(this.queryParams)),this._queryParamMap}toString(){return du.serialize(this)}}class et{constructor(e,t){this.segments=e,this.children=t,this.parent=null,qr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ia(this)}}class It{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xr(this.parameters)),this._parameterMap}toString(){return Ru(this)}}function yn(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Gr{}class Tr{parse(e){const t=new Id(e);return new Xe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Bi(e.root,!0)}`,r=function Ey(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Bs(t)}=${Bs(o)}`).join("&"):`${Bs(t)}=${Bs(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ca(n){return encodeURI(n)}(e.fragment)}`:""}`}}const du=new Tr;function Ia(n){return n.segments.map(e=>Ru(e)).join("/")}function Bi(n,e){if(!n.hasChildren())return Ia(n);if(e){const t=n.children[_n]?Bi(n.children[_n],!1):"",r=[];return qr(n.children,(o,u)=>{u!==_n&&r.push(`${u}:${Bi(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function an(n,e){let t=[];return qr(n.children,(r,o)=>{o===_n&&(t=t.concat(e(r,o)))}),qr(n.children,(r,o)=>{o!==_n&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===_n?[Bi(n.children[_n],!1)]:[`${o}:${Bi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_n]?`${Ia(n)}/${t[0]}`:`${Ia(n)}/(${t.join("//")})`}}function Cs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bs(n){return Cs(n).replace(/%3B/gi,";")}function Ed(n){return Cs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ec(n){return decodeURIComponent(n)}function Ic(n){return Ec(n.replace(/\+/g,"%20"))}function Ru(n){return`${Ed(n.path)}${function Qp(n){return Object.keys(n).map(e=>`;${Ed(e)}=${Ed(n[e])}`).join("")}(n.parameters)}`}const Iy=/^[^\/()?;=#]+/;function No(n){const e=n.match(Iy);return e?e[0]:""}const Cc=/^[^=?&#]+/,Dy=/^[^&#]+/;class Id{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new et([],{}):new et([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[_n]=new et(e,t)),r}parseSegment(){const e=No(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new It(Ec(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=No(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=No(this.remaining);o&&(r=o,this.capture(r))}e[Ec(t)]=Ec(r)}parseQueryParam(e){const t=function Cy(n){const e=n.match(Cc);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function Jp(n){const e=n.match(Dy);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Ic(t),u=Ic(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=No(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=_n);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[_n]:new et([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ty{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Vh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Vh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Uh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Uh(e,this._root).map(t=>t.value)}}function Vh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Vh(n,t);if(r)return r}return null}function Uh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Uh(n,t);if(r.length)return r.unshift(e),r}return[]}class Da{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ta(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Cd extends Ty{constructor(e,t){super(e),this.snapshot=t,Td(this,e)}toString(){return this.snapshot.toString()}}function Nu(n,e){const t=function Ay(n,e){const h=new _l([],{},{},"",{},_n,e,null,n.root,-1,{});return new Bh("",new Da(h,[]))}(n,e),r=new qn([new It("",{})]),o=new qn({}),u=new qn({}),h=new qn({}),y=new qn(""),E=new hu(r,o,h,y,u,_n,e,t.root);return E.snapshot=t.root,new Cd(new Da(E,[]),t)}class hu{constructor(e,t,r,o,u,h,y,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=y,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,In.U)(e=>Xr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,In.U)(e=>Xr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Dd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _l{constructor(e,t,r,o,u,h,y,E,x,F,U){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=y,this.routeConfig=E,this._urlSegment=x,this._lastPathIndex=F,this._resolve=U}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bh extends Ty{constructor(e,t){super(t),this.url=e,Td(this,t)}toString(){return Ad(this._root)}}function Td(n,e){e.value._routerState=n,e.children.forEach(t=>Td(n,t))}function Ad(n){const e=n.children.length>0?` { ${n.children.map(Ad).join(", ")} } `:"";return`${n.value}${e}`}function Sd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,uo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),uo(e.params,t.params)||n.params.next(t.params),function gl(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!uo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),uo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function jh(n,e){const t=uo(n.params,e.params)&&function tn(n,e){return yn(n,e)&&n.every((t,r)=>uo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||jh(n.parent,e.parent))}function Dc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Hh(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Dc(n,r,o);return Dc(n,r)})}(n,e,t);return new Da(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(y=>Dc(n,y)),h}}const r=function My(n){return new hu(new qn(n.url),new qn(n.params),new qn(n.queryParams),new qn(n.fragment),new qn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Dc(n,u));return new Da(r,o)}}function fu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vl(n){return"object"==typeof n&&null!=n&&n.outlets}function Xp(n,e,t,r,o){let u={};if(r&&qr(r,(y,E)=>{u[E]=Array.isArray(y)?y.map(x=>`${x}`):`${y}`}),n===e)return new Xe(t,u,o);const h=$h(n,e,t);return new Xe(h,u,o)}function $h(n,e,t){const r={};return qr(n.children,(o,u)=>{r[u]=o===e?t:$h(o,e,t)}),new et(n.segments,r)}class Ry{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&fu(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(vl);if(o&&o!==bd(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Oy(n,e,t){if(n||(n=new et([],{})),0===n.segments.length&&n.hasChildren())return la(n,e,t);const r=function B0(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const h=n.segments[o],y=t[r];if(vl(y))break;const E=`${y}`,x=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&x&&"object"==typeof x&&void 0===x.outlets){if(!js(E,x,h))return u;r+=2}else{if(!js(E,{},h))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new et(n.segments.slice(0,r.pathIndex),{});return u.children[_n]=new et(n.segments.slice(r.pathIndex),n.children),la(u,0,o)}return r.match&&0===o.length?new et(n.segments,{}):r.match&&!n.hasChildren()?Gh(n,e,t):r.match?la(n,0,o):Gh(n,e,t)}function la(n,e,t){if(0===t.length)return new et(n.segments,{});{const r=function Py(n){return vl(n[0])?n[0].outlets:{[_n]:n}}(t),o={};return qr(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[h]=Oy(n.children[h],e,u))}),qr(n.children,(u,h)=>{void 0===r[h]&&(o[h]=u)}),new et(n.segments,o)}}function Gh(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(vl(u)){const E=wl(u.outlets);return new et(r,E)}if(0===o&&fu(t[0])){r.push(new It(n.segments[e].path,zh(t[0]))),o++;continue}const h=vl(u)?u.outlets[_n]:`${u}`,y=o<t.length-1?t[o+1]:null;h&&y&&fu(y)?(r.push(new It(h,zh(y))),o+=2):(r.push(new It(h,{})),o++)}return new et(r,{})}function wl(n){const e={};return qr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Gh(new et([],{}),0,t))}),e}function zh(n){const e={};return qr(n,(t,r)=>e[r]=`${t}`),e}function js(n,e,t){return n==t.path&&uo(e,t.parameters)}class tg{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Sd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Ta(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],r),delete o[h]}),qr(o,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Ta(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(r&&r.outlet){const h=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:y})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Ta(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Ta(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new yc(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ao(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Sd(o),o===u)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const y=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(y.contexts),h.attachRef=y.componentRef,h.route=y.route.value,h.outlet&&h.outlet.attach(y.componentRef,y.route.value),Sd(y.route.value),this.activateChildRoutes(e,null,h.children)}else{const y=function xd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=y?y.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=E,h.outlet&&h.outlet.activateWith(o,E),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Md{constructor(e,t){this.routes=e,this.module=t}}function ku(n){return"function"==typeof n}function bl(n){return n instanceof Xe}const Ac=Symbol("INITIAL_VALUE");function pu(){return yr(n=>function ru(...n){const e=(0,Kt.yG)(n),t=(0,Kt.jO)(n),{args:r,keys:o}=Os(n);if(0===r.length)return(0,At.D)([],e);const u=new Jn.y(function bs(n,e,t=ws.y){return r=>{na(e,()=>{const{length:o}=n,u=new Array(o);let h=o,y=o;for(let E=0;E<o;E++)na(e,()=>{const x=(0,At.D)(n[E],e);let F=!1;x.subscribe((0,Or.x)(r,U=>{u[E]=U,F||(F=!0,y--),y||r.next(t(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>wa(o,h):ws.y));return t?u.pipe(md(t)):u}(n.map(e=>e.pipe((0,au.q)(1),Vs(Ac)))).pipe(xi((e,t)=>{let r=!1;return t.reduce((o,u,h)=>o!==Ac?o:(u===Ac&&(r=!0),r||!1!==u&&h!==t.length-1&&!bl(u)?o:u),e)},Ac),xo(e=>e!==Ac),(0,In.U)(e=>bl(e)?e:!0===e),(0,au.q)(1)))}class Fy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Sc,this.attachRef=null}}class Sc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Fy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let xc=(()=>{class n{constructor(t,r,o,u,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=u||_n,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,E=new Yh(t,y,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Sc),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Yh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===hu?this.route:e===Sc?this.childContexts:this.parent.get(e,t)}}let Qh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[xc],encapsulation:2}),n})();function Mc(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Rd(r,Jh(e,r))}}function Rd(n,e){n.children&&Mc(n.children,e)}function Jh(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Xh(n){const e=n.children&&n.children.map(Xh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_n&&(t.component=Qh),t}function Zn(n){return n.outlet||_n}function ef(n,e){const t=n.filter(r=>Zn(r)===e);return t.push(...n.filter(r=>Zn(r)!==e)),t}const rg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function El(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},rg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||ba)(t,n,e);if(!u)return Object.assign({},rg);const h={};qr(u.posParams,(E,x)=>{h[x]=E.path});const y=u.consumed.length>0?Object.assign(Object.assign({},h),u.consumed[u.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:y,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Rc(n,e,t,r,o="corrected"){if(t.length>0&&function Vy(n,e,t){return t.some(r=>kd(n,e,r)&&Zn(r)!==_n)}(n,t,r)){const h=new et(e,function Nd(n,e,t,r){const o={};o[_n]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Zn(u)!==_n){const h=new et([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[Zn(u)]=h}return o}(n,e,r,new et(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function ig(n,e,t){return t.some(r=>kd(n,e,r))}(n,t,r)){const h=new et(n.segments,function Ly(n,e,t,r,o,u){const h={};for(const y of r)if(kd(n,t,y)&&!o[Zn(y)]){const E=new et([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[Zn(y)]=E}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new et(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function kd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Uy(n,e,t,r){return!!(Zn(n)===r||r!==_n&&kd(e,t,n))&&("**"===n.path||El(e,n,t).matched)}function By(n,e,t){return 0===e.length&&!n.children[t]}class gu{constructor(e){this.segmentGroup=e||null}}class Mi{constructor(e){this.urlTree=e}}function Aa(n){return io(new gu(n))}function Nc(n){return io(new Mi(n))}class nf{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=Rc(this.urlTree.root,[],[],this.config).segmentGroup,t=new et(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,_n).pipe((0,In.U)(u=>this.createUrlTree(Ou(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oo(u=>{if(u instanceof Mi)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof gu?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,_n).pipe((0,In.U)(o=>this.createUrlTree(Ou(o),e.queryParams,e.fragment))).pipe(oo(o=>{throw o instanceof gu?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new et([],{[_n]:e}):e;return new Xe(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,In.U)(u=>new et([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,At.D)(o).pipe(ia(u=>{const h=r.children[u],y=ef(t,u);return this.expandSegmentGroup(e,y,h,u).pipe((0,In.U)(E=>({segment:E,outlet:u})))}),xi((u,h)=>(u[h.outlet]=h.segment,u),{}),function Wp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xo((o,u)=>n(o,u,r)):ws.y,vd(1),t?Zp(e):Dr(()=>new ra))}())}expandSegment(e,t,r,o,u,h){return(0,At.D)(r).pipe(ia(y=>this.expandSegmentAgainstRoute(e,t,r,y,o,u,h).pipe(oo(x=>{if(x instanceof gu)return Je(null);throw x}))),sa(y=>!!y),oo((y,E)=>{if(y instanceof ra||"EmptyError"===y.name)return By(t,o,u)?Je(new et([],{})):Aa(t);throw y}))}expandSegmentAgainstRoute(e,t,r,o,u,h,y){return Uy(o,t,u,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,h):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h):Aa(t):Aa(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Nc(u):this.lineralizeSegments(r,u).pipe((0,Cr.z)(h=>{const y=new et(h,{});return this.expandSegment(e,y,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){const{matched:y,consumedSegments:E,remainingSegments:x,positionalParamSegments:F}=El(t,o,u);if(!y)return Aa(t);const U=this.applyRedirectCommands(E,o.redirectTo,F);return o.redirectTo.startsWith("/")?Nc(U):this.lineralizeSegments(o,U).pipe((0,Cr.z)(Y=>this.expandSegment(e,t,r,Y.concat(x),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Je(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,In.U)(U=>(r._loadedConfig=U,new et(o,{})))):Je(new et(o,{}));const{matched:h,consumedSegments:y,remainingSegments:E}=El(t,r,o);return h?this.getChildConfig(e,r,o).pipe((0,Cr.z)(F=>{const U=F.module,Y=F.routes,{segmentGroup:ae,slicedSegments:ye}=Rc(t,y,E,Y),nt=new et(ae.segments,ae.children);if(0===ye.length&&nt.hasChildren())return this.expandChildren(U,Y,nt).pipe((0,In.U)(Qt=>new et(y,Qt)));if(0===Y.length&&0===ye.length)return Je(new et(y,{}));const ft=Zn(r)===u;return this.expandSegment(U,nt,Y,ye,ft?_n:u,!0).pipe((0,In.U)(pn=>new et(y.concat(pn.segments),pn.children)))})):Aa(t)}getChildConfig(e,t,r){return t.children?Je(new Md(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Je(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Cr.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,In.U)(u=>(t._loadedConfig=u,u))):function ji(n){return io(aa(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Je(new Md([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?Je(o.map(h=>{const y=e.get(h);let E;if(function Zh(n){return n&&ku(n.canLoad)}(y))E=y.canLoad(t,r);else{if(!ku(y))throw new Error("Invalid CanLoad guard");E=y(t,r)}return Is(E)})).pipe(pu(),(0,ts.b)(h=>{if(!bl(h))return;const y=aa(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw y.url=h,y}),(0,In.U)(h=>!0===h)):Je(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Je(r);if(o.numberOfChildren>1||!o.children[_n])return io(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[_n]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Xe(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return qr(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const y=o.substring(1);r[u]=t[y]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let h={};return qr(t.children,(y,E)=>{h[E]=this.createSegmentGroup(e,y,r,o)}),new et(u,h)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Ou(n){const e={};for(const r of Object.keys(n.children)){const u=Ou(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Hs(n){if(1===n.numberOfChildren&&n.children[_n]){const e=n.children[_n];return new et(n.segments.concat(e.segments),e.children)}return n}(new et(n.segments,e))}class sg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Fu{constructor(e,t){this.component=e,this.route=t}}function sf(n,e,t){const r=n._root;return Ds(r,e?e._root:null,t,[r.value])}function kc(n,e,t){const r=function jy(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Ds(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ta(e);return n.children.forEach(h=>{(function ag(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const E=function Hy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!yn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!yn(n.url,e.url)||!uo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jh(n,e)||!uo(n.queryParams,e.queryParams);default:return!jh(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new sg(r)):(u.data=h.data,u._resolvedData=h._resolvedData),Ds(n,e,u.component?y?y.children:null:t,r,o),E&&y&&y.outlet&&y.outlet.isActivated&&o.canDeactivateChecks.push(new Fu(y.outlet.component,h))}else h&&Lu(e,y,o),o.canActivateChecks.push(new sg(r)),Ds(n,null,u.component?y?y.children:null:t,r,o)})(h,u[h.value.outlet],t,r.concat([h.value]),o),delete u[h.value.outlet]}),qr(u,(h,y)=>Lu(h,t.getContext(y),o)),o}function Lu(n,e,t){const r=Ta(n),o=n.value;qr(r,(u,h)=>{Lu(u,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Fu(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class lf{}function cf(n){return new Jn.y(e=>e.error(n))}class df{constructor(e,t,r,o,u,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const e=Rc(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,_n);if(null===t)return null;const r=new _l([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_n,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Da(r,t),u=new Bh(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Sy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const h=t.children[u],y=ef(e,u),E=this.processSegmentGroup(y,h,u);if(null===E)return null;r.push(...E)}const o=lg(r);return function zy(n){n.sort((e,t)=>e.value.outlet===_n?-1:t.value.outlet===_n?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const h=this.processSegmentAgainstRoute(u,t,r,o);if(null!==h)return h}return By(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Uy(e,t,r,o))return null;let u,h=[],y=[];if("**"===e.path){const ae=r.length>0?bd(r).parameters:{};u=new _l(r,ae,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),Zn(e),e.component,e,f(t),m(t)+r.length,R(e))}else{const ae=El(t,e,r);if(!ae.matched)return null;h=ae.consumedSegments,y=ae.remainingSegments,u=new _l(h,ae.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,b(e),Zn(e),e.component,e,f(t),m(t)+h.length,R(e))}const E=function Zy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:x,slicedSegments:F}=Rc(t,h,y,E.filter(ae=>void 0===ae.redirectTo),this.relativeLinkResolution);if(0===F.length&&x.hasChildren()){const ae=this.processChildren(E,x);return null===ae?null:[new Da(u,ae)]}if(0===E.length&&0===F.length)return[new Da(u,[])];const U=Zn(e)===o,Y=this.processSegment(E,x,F,U?_n:o);return null===Y?null:[new Da(u,Y)]}}function Wy(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function lg(n){const e=[],t=new Set;for(const r of n){if(!Wy(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=lg(r.children);e.push(new Da(r.value,o))}return e.filter(r=>!t.has(r))}function f(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function m(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function b(n){return n.data||{}}function R(n){return n.resolve||{}}function Ct(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Pt(n){return yr(e=>{const t=n(e);return t?(0,At.D)(t).pipe((0,In.U)(()=>e)):Je(e)})}class Oc extends class ho{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Il=new c.OlP("ROUTES");class Cl{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,In.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=u.create(e);return new Md(lo(h.injector.get(Il,void 0,c.XFs.Self|c.XFs.Optional)).map(Xh),h)}),oo(u=>{throw t._loader$=void 0,u}));return t._loader$=new _d(o,()=>new An.x).pipe(Ls()),t._loader$}loadModuleFactory(e){return Is(e()).pipe((0,Cr.z)(t=>t instanceof c.YKP?Je(t):(0,At.D)(this.compiler.compileModuleAsync(t))))}}class Ky{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function mu(n){throw n}function Pd(n,e,t){return e.parse("/")}function Od(n,e){return Je(null)}const ff={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{class n{constructor(t,r,o,u,h,y,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new An.x,this.errorHandler=mu,this.malformedUriErrorHandler=Pd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Od,afterPreactivation:Od},this.urlHandlingStrategy=new Ky,this.routeReuseStrategy=new Oc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(c.h0i),this.console=h.get(c.c2e);const U=h.get(c.R0b);this.isNgZoneEnabled=U instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function bc(){return new Xe(new et([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Cl(h,y,Y=>this.triggerEvent(new mc(Y)),Y=>this.triggerEvent(new Ro(Y))),this.routerState=Nu(this.currentUrlTree,this.rootComponentType),this.transitions=new qn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(xo(o=>0!==o.id),(0,In.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yr(o=>{let u=!1,h=!1;return Je(o).pipe((0,ts.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yr(y=>{const E=this.browserUrlTree.toString(),x=!this.navigated||y.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||x)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return cg(y.source)&&(this.browserUrlTree=y.extractedUrl),Je(y).pipe(yr(U=>{const Y=this.transitions.getValue();return r.next(new Mo(U.id,this.serializeUrl(U.extractedUrl),U.source,U.restoredState)),Y!==this.transitions.getValue()?su.E:Promise.resolve(U)}),function rf(n,e,t,r){return yr(o=>function Pu(n,e,t,r,o){return new nf(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,In.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ts.b)(U=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:U.urlAfterRedirects})}),function j(n,e,t,r,o){return(0,Cr.z)(u=>function Gy(n,e,t,r,o="emptyOnly",u="legacy"){try{const h=new df(n,e,t,r,o,u).recognize();return null===h?cf(new lf):Je(h)}catch(h){return cf(h)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,In.U)(h=>Object.assign(Object.assign({},u),{targetSnapshot:h}))))}(this.rootComponentType,this.config,U=>this.serializeUrl(U),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ts.b)(U=>{if("eager"===this.urlUpdateStrategy){if(!U.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);this.setBrowserUrl(ae,U)}this.browserUrlTree=U.urlAfterRedirects}const Y=new lu(U.id,this.serializeUrl(U.extractedUrl),this.serializeUrl(U.urlAfterRedirects),U.targetSnapshot);r.next(Y)}));if(x&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Y,extractedUrl:ae,source:ye,restoredState:nt,extras:ft}=y,fn=new Mo(Y,this.serializeUrl(ae),ye,nt);r.next(fn);const pn=Nu(ae,this.rootComponentType).snapshot;return Je(Object.assign(Object.assign({},y),{targetSnapshot:pn,urlAfterRedirects:ae,extras:Object.assign(Object.assign({},ft),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),su.E}),Pt(y=>{const{targetSnapshot:E,id:x,extractedUrl:F,rawUrl:U,extras:{skipLocationChange:Y,replaceUrl:ae}}=y;return this.hooks.beforePreactivation(E,{navigationId:x,appliedUrlTree:F,rawUrlTree:U,skipLocationChange:!!Y,replaceUrl:!!ae})}),(0,ts.b)(y=>{const E=new Yp(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),(0,In.U)(y=>Object.assign(Object.assign({},y),{guards:sf(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function $y(n,e){return(0,Cr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?Je(Object.assign(Object.assign({},t),{guardsResult:!0})):function ug(n,e,t,r){return(0,At.D)(n).pipe((0,Cr.z)(o=>function Pc(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Je(u.map(y=>{const E=kc(y,e,o);let x;if(function j0(n){return n&&ku(n.canDeactivate)}(E))x=Is(E.canDeactivate(n,e,t,r));else{if(!ku(E))throw new Error("Invalid CanDeactivate guard");x=Is(E(n,e,t,r))}return x.pipe(sa())})).pipe(pu()):Je(!0)}(o.component,o.route,t,e,r)),sa(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Cr.z)(y=>y&&function ng(n){return"boolean"==typeof n}(y)?function Ri(n,e,t,r){return(0,At.D)(e).pipe(ia(o=>yd(function uf(n,e){return null!==n&&e&&e(new Us(n)),Je(!0)}(o.route.parent,r),function af(n,e){return null!==n&&e&&e(new Mu(n)),Je(!0)}(o.route,r),function Sa(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function og(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Fs(()=>Je(h.guards.map(E=>{const x=kc(E,h.node,t);let F;if(function Kh(n){return n&&ku(n.canActivateChild)}(x))F=Is(x.canActivateChild(r,n));else{if(!ku(x))throw new Error("Invalid CanActivateChild guard");F=Is(x(r,n))}return F.pipe(sa())})).pipe(pu())));return Je(u).pipe(pu())}(n,o.path,t),function qy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Je(!0);const o=r.map(u=>Fs(()=>{const h=kc(u,e,t);let y;if(function Wh(n){return n&&ku(n.canActivate)}(h))y=Is(h.canActivate(e,n));else{if(!ku(h))throw new Error("Invalid CanActivate guard");y=Is(h(e,n))}return y.pipe(sa())}));return Je(o).pipe(pu())}(n,o.route,t))),sa(o=>!0!==o,!0))}(r,u,n,e):Je(y)),(0,In.U)(y=>Object.assign(Object.assign({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,ts.b)(y=>{if(bl(y.guardsResult)){const x=aa(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw x.url=y.guardsResult,x}const E=new gc(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(E)}),xo(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),Pt(y=>{if(y.guards.canActivateChecks.length)return Je(y).pipe((0,ts.b)(E=>{const x=new mi(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(x)}),yr(E=>{let x=!1;return Je(E).pipe(function ie(n,e){return(0,Cr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Je(t);let u=0;return(0,At.D)(o).pipe(ia(h=>function Ae(n,e,t,r){return function dt(n,e,t,r){const o=Ct(n);if(0===o.length)return Je({});const u={};return(0,At.D)(o).pipe((0,Cr.z)(h=>function Wt(n,e,t,r){const o=kc(n,e,r);return Is(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,ts.b)(y=>{u[h]=y}))),vd(1),(0,Cr.z)(()=>Ct(u).length===o.length?Je(u):su.E))}(n._resolve,n,e,r).pipe((0,In.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Sy(n,t).resolve),null)))}(h.route,r,n,e)),(0,ts.b)(()=>u++),vd(1),(0,Cr.z)(h=>u===o.length?Je(t):su.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ts.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,ts.b)(E=>{const x=new Es(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(x)}))}),Pt(y=>{const{targetSnapshot:E,id:x,extractedUrl:F,rawUrl:U,extras:{skipLocationChange:Y,replaceUrl:ae}}=y;return this.hooks.afterPreactivation(E,{navigationId:x,appliedUrlTree:F,rawUrlTree:U,skipLocationChange:!!Y,replaceUrl:!!ae})}),(0,In.U)(y=>{const E=function xy(n,e,t){const r=Dc(n,e._root,t?t._root:void 0);return new Cd(r,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:E})}),(0,ts.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,In.U)(r=>(new tg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,ts.b)({next(){u=!0},complete(){u=!0}}),function Kp(n){return(0,Si.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var y;u||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===o.id&&(this.currentNavigation=null)}),oo(y=>{if(h=!0,function wd(n){return n&&n[wc]}(y)){const E=bl(y.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const x=new _r(o.id,this.serializeUrl(o.extractedUrl),y.message);r.next(x),E?setTimeout(()=>{const F=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),U={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cg(o.source)};this.scheduleNavigation(F,"imperative",null,U,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new pc(o.id,this.serializeUrl(o.extractedUrl),y);r.next(E);try{o.resolve(this.errorHandler(y))}catch(x){o.reject(x)}}return su.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},h=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(h){const E=Object.assign({},h);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const y=this.parseUrl(t.url);this.scheduleNavigation(y,r,h,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Mc(t),this.config=t.map(Xh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:y,preserveFragment:E}=r,x=o||this.routerState.root,F=E?this.currentUrlTree.fragment:h;let U=null;switch(y){case"merge":U=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=u||null}return null!==U&&(U=this.removeEmptyProps(U)),function ua(n,e,t,r,o){if(0===t.length)return Xp(e.root,e.root,e.root,r,o);const u=function Ny(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ry(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const y={};return qr(u.outlets,(E,x)=>{y[x]="string"==typeof E?E.split("/"):E}),[...o,{outlets:y}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((y,E)=>{0==E&&"."===y||(0==E&&""===y?t=!0:".."===y?e++:""!=y&&o.push(y))}),o):[...o,u]},[]);return new Ry(t,e,r)}(t);if(u.toRoot())return Xp(e.root,e.root,new et([],{}),r,o);const h=function eg(n,e,t){if(n.isAbsolute)return new qh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new qh(u,u===e.root,0)}const r=fu(n.commands[0])?0:1;return function ky(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new qh(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),y=h.processChildren?la(h.segmentGroup,h.index,u.commands):Oy(h.segmentGroup,h.index,u.commands);return Xp(e.root,h.segmentGroup,y,r,o)}(x,this.currentUrlTree,t,U,null!=F?F:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=bl(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function pf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},ff):!1===r?Object.assign({},Fd):r,bl(t))return yl(this.currentUrlTree,t,o);const u=this.parseUrl(t);return yl(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new pl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,h){var y,E;if(this.disposed)return Promise.resolve(!1);let x,F,U;h?(x=h.resolve,F=h.reject,U=h.promise):U=new Promise((ye,nt)=>{x=ye,F=nt});const Y=++this.navigationId;let ae;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ae=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):ae=0,this.setTransition({id:Y,targetPageId:ae,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:x,reject:F,promise:U,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),U.catch(ye=>Promise.reject(ye))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new _r(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function cg(n){return"imperative"!==n}let dg=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new An.x,this.subscription=t.events.subscribe(u=>{u instanceof pl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,h){if(0!==t||r||o||u||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const y={skipLocationChange:Ld(this.skipLocationChange),replaceUrl:Ld(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ld(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(yi),c.Y36(hu),c.Y36(xe))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Ld(n){return""===n||!!n}class Jy{}class $0{preload(e,t){return Je(null)}}let q0=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new Cl(o,r,E=>t.triggerEvent(new mc(E)),E=>t.triggerEvent(new Ro(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(xo(t=>t instanceof pl),ia(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const h=u._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,At.D)(o).pipe((0,so.J)(),(0,In.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Je(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Cr.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yi),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Jy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),hg=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Mo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _c&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new _c(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ko=new c.OlP("ROUTER_CONFIGURATION"),e_=new c.OlP("ROUTER_FORROOT_GUARD"),G0=[Ve,{provide:Gr,useClass:Tr},{provide:yi,useFactory:function n_(n,e,t,r,o,u,h={},y,E){const x=new yi(null,n,e,t,r,o,lo(u));return y&&(x.urlHandlingStrategy=y),E&&(x.routeReuseStrategy=E),function W0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,x),h.enableTracing&&x.events.subscribe(F=>{var U,Y;null===(U=console.group)||void 0===U||U.call(console,`Router Event: ${F.constructor.name}`),console.log(F.toString()),console.log(F),null===(Y=console.groupEnd)||void 0===Y||Y.call(console)}),x},deps:[Gr,Sc,Ve,c.zs3,c.Sil,Il,ko,[class hf{},new c.FiY],[class Ar{},new c.FiY]]},Sc,{provide:hu,useFactory:function fg(n){return n.routerState.root},deps:[yi]},q0,$0,class Xy{preload(e,t){return t().pipe(oo(()=>Je(null)))}},{provide:ko,useValue:{enableTracing:!1}}];function bI(){return new c.PXZ("Router",yi)}let gf=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[G0,t_(t),{provide:e_,useFactory:Z0,deps:[[yi,new c.FiY,new c.tp0]]},{provide:ko,useValue:r||{}},{provide:xe,useFactory:z0,deps:[Re,[new c.tBr(bt),new c.FiY],ko]},{provide:hg,useFactory:EI,deps:[yi,A,ko]},{provide:Jy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:$0},{provide:c.PXZ,multi:!0,useFactory:bI},[Vd,{provide:c.ip1,multi:!0,useFactory:K0,deps:[Vd]},{provide:i_,useFactory:r_,deps:[Vd]},{provide:c.tb,multi:!0,useExisting:i_}]]}}static forChild(t){return{ngModule:n,providers:[t_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(e_,8),c.LFG(yi,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function EI(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new hg(n,e,t)}function z0(n,e,t={}){return t.useHash?new $e(n,e):new yt(n,e)}function Z0(n){return"guarded"}function t_(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Il,multi:!0,useValue:n}]}let Vd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new An.x}appInitializer(){return this.injector.get(X,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(y=>r=y),u=this.injector.get(yi),h=this.injector.get(ko);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?Je(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(ko),o=this.injector.get(q0),u=this.injector.get(hg),h=this.injector.get(yi),y=this.injector.get(c.z2F);t===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),u.init(),h.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function K0(n){return n.appInitializer.bind(n)}function r_(n){return n.bootstrapListener.bind(n)}const i_=new c.OlP("Router Initializer");let II=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:24,vars:0,consts:[["tabindex","-1","uk-slideshow","",1,"uk-position-relative","uk-visible-toggle","uk-light"],[1,"uk-slideshow-items"],["src","https://i0.wp.com/www.smartprix.com/bytes/wp-content/uploads/2019/05/OnePlus-7-Pro-Review-India-with-Pros-and-cons-19.jpg?resize=1200%2C900&ssl=1","alt","","uk-cover",""],["src","https://i.gadgets360cdn.com/large/galaxynote20_onleaks_1590384704316.jpg","alt","","uk-cover",""],["src","https://w0.peakpx.com/wallpaper/362/98/HD-wallpaper-samsung-galaxy-a9-smartphones-2018-mobile-phones-close-up-samsung.jpg","alt","","uk-cover",""],["src","https://www.gizbot.com/images/2018-09/apple-iphone-xr_153716408900.jpg","alt","","uk-cover",""],["src","https://www.androidauthority.com/wp-content/uploads/2020/11/iPhone-12-in-hand-with-display-on.jpg","alt","","uk-cover",""],["href","#","uk-slidenav-previous","","uk-slideshow-item","previous",1,"uk-position-center-left","uk-position-small","uk-hidden-hover"],["href","#","uk-slidenav-next","","uk-slideshow-item","next",1,"uk-position-center-right","uk-position-small","uk-hidden-hover"],["src","https://yootheme.com/site/images/media/yootheme-pro.mp4","width","1800","height","1200","loop","","muted","","playsinline","","uk-video","autoplay: inview"]],template:function(t,r){1&t&&(c._UZ(0,"br"),c.TgZ(1,"div",0)(2,"ul",1)(3,"li"),c._UZ(4,"img",2),c.qZA(),c.TgZ(5,"li"),c._UZ(6,"img",3),c.qZA(),c.TgZ(7,"li"),c._UZ(8,"img",4),c.qZA(),c.TgZ(9,"li"),c._UZ(10,"img",5),c.qZA(),c.TgZ(11,"li"),c._UZ(12,"img",6),c.qZA()(),c._UZ(13,"a",7)(14,"a",8),c.qZA(),c.TgZ(15,"p"),c._uU(16,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed in tellus pellentesque, interdum mauris sit amet, fermentum diam. Vestibulum nec dui justo. Morbi pretium arcu vel lectus volutpat consectetur. Praesent a libero metus. Maecenas suscipit tellus sed nibh auctor maximus. Donec eget arcu congue, semper dolor a, porta augue. Sed vestibulum, massa nec ornare lobortis, lacus tortor pulvinar ligula, a fringilla magna velit in lacus. Cras nisi justo, imperdiet sed nibh luctus, efficitur placerat mi. Nulla dictum porta magna id tempus. Morbi interdum semper congue. Donec ullamcorper velit ut lorem viverra laoreet. Mauris lorem lacus, imperdiet non bibendum et, vehicula venenatis felis. In congue arcu sit amet nibh tincidunt, nec elementum elit placerat. Nulla finibus metus quis magna condimentum, id blandit diam pretium. Ut accumsan ipsum sed odio ultricies, nec molestie lorem aliquet. "),c.qZA(),c.TgZ(17,"p"),c._uU(18," In hac habitasse platea dictumst. Cras a risus pulvinar, tristique risus sodales, vehicula augue. Mauris vestibulum rutrum lobortis. Curabitur nulla dui, blandit sit amet tempor in, faucibus nec velit. Morbi nisl quam, varius nec ultricies vel, tempus sed ante. Pellentesque et fermentum leo. Integer dictum varius ornare. Etiam suscipit viverra aliquet. Mauris magna ex, eleifend ut fringilla vel, posuere at nisi. "),c.qZA(),c.TgZ(19,"p"),c._uU(20," Pellentesque auctor pharetra erat, in pretium justo venenatis vitae. Ut id interdum arcu. In sed nibh at sapien faucibus aliquet a at ex. In dapibus, risus vel posuere commodo, augue risus ornare nisl, sit amet pharetra neque urna a turpis. Donec eu magna tristique, venenatis tellus quis, vehicula arcu. Cras eu eros aliquet, egestas magna vel, lacinia neque. Donec vel est libero. Pellentesque consequat ligula felis. Cras sit amet finibus elit, suscipit vulputate ligula. Aliquam mattis risus in nibh lobortis, vitae viverra nunc ultrices. Donec vitae augue eget tortor pharetra rutrum eu id ligula. "),c.qZA(),c.TgZ(21,"p"),c._uU(22," Donec consectetur posuere purus, a consequat ante malesuada a. Fusce blandit commodo arcu, id suscipit sapien suscipit sit amet. Integer quis mauris sit amet metus scelerisque suscipit sit amet vel augue. Praesent malesuada finibus leo in sagittis. Pellentesque sed urna enim. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Maecenas consequat viverra lorem, a dictum leo hendrerit eu. Mauris viverra purus ac nunc efficitur blandit. "),c.qZA(),c._UZ(23,"video",9))},styles:[".amina[_ngcontent-%COMP%]{background-color:red;border-radius:30%}"]}),n})();var mf=$(8259);let CI=(()=>{class n{constructor(){}ngOnInit(){}loadData(){mf.get("https://api.thecatapi.com/v1/images/search",function(t){mf("#theImg").remove(),mf("#result").prepend('<img id="theImg" src="'+t[0].url+'"  height="200" width="400" />')})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-jquery-examples"]],decls:7,vars:0,consts:[[1,"btn","btn-outline-dark",3,"click"],["id","result"]],template:function(t,r){1&t&&(c.TgZ(0,"h3"),c._uU(1,"Example of Making GET Request using Ajax in jQuery"),c.qZA(),c.TgZ(2,"button",0),c.NdJ("click",function(){return r.loadData()}),c._uU(3,"Load image"),c.qZA(),c._UZ(4,"br")(5,"br")(6,"div",1))},styles:[""]}),n})();var Oe=$(5861),Y0=$(6451),Ud=$(5363),Q0=$(6063);class xA extends An.x{constructor(e=1/0,t=1/0,r=Q0.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;t||(r.push(e),!o&&r.push(u.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!e.closed;h+=r?1:2)e.next(u[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const h=t.now();let y=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)y=E;y&&r.splice(0,y+1)}}}var J0=$(3099);function X0(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,J0.B)({connector:()=>new xA(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function o_(n,e){return(0,xu.m)(e)?yr(()=>n,e):yr(()=>n)}var a_=$(9468),Fr=$(5813),Sr=$(2011);$(5867);var Po=$(9681),fo=$(4859),nn=$(2090),Vu=$(1877);const gg=new Map,kA={activated:!1,tokenObservers:[]},tw={initialized:!1,enabled:!1};function ns(n){return gg.get(n)||kA}function po(n,e){gg.set(n,e)}function Fc(){return tw}class OI{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Oe.Z)(function*(){t.stop();try{t.pending=new nn.BH,yield function FI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new nn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const go=new nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function LI(n){if(!ns(n).activated)throw go.create("use-before-activation",{appName:n.name})}function vf(n,e){return sw.apply(this,arguments)}function sw(){return(sw=(0,Oe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const U=yield o.getHeartbeatsHeader();U&&(r["X-Firebase-Client"]=U)}const u={method:"POST",body:JSON.stringify(e),headers:r};let h,y;try{h=yield fetch(n,u)}catch(U){throw go.create("fetch-network-error",{originalErrorMessage:U.message})}if(200!==h.status)throw go.create("fetch-status-error",{httpStatus:h.status});try{y=yield h.json()}catch(U){throw go.create("fetch-parse-error",{originalErrorMessage:U.message})}const E=y.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw go.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const x=1e3*Number(E[1]),F=Date.now();return{token:y.attestationToken,expireTimeMillis:F+x,issuedAtTimeMillis:F}})).apply(this,arguments)}function LA(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const vg="firebase-app-check-store";let h_=null;function UI(){return h_||(h_=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(go.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(vg,{keyPath:"compositeKey"})}}catch(t){e(go.create("storage-open",{originalErrorMessage:t.message}))}}),h_)}function bg(){return(bg=(0,Oe.Z)(function*(n,e){const r=(yield UI()).transaction(vg,"readwrite"),u=r.objectStore(vg).put({compositeKey:n,value:e});return new Promise((h,y)=>{u.onsuccess=E=>{h()},r.onerror=E=>{var x;y(go.create("storage-set",{originalErrorMessage:null===(x=E.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const Bd=new Vu.Yd("@firebase/app-check");function aw(n,e){return(0,nn.hl)()?function f_(n,e){return function wg(n,e){return bg.apply(this,arguments)}(function Uu(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Bd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function lw(){return Fc().enabled}function jd(){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,Oe.Z)(function*(){const n=Fc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Hd={error:"UNKNOWN_ERROR"};function bf(n){return nn.US.encodeString(JSON.stringify(n),!1)}function Bu(n){return y_.apply(this,arguments)}function y_(){return(y_=(0,Oe.Z)(function*(n,e=!1){const t=n.app;LI(t);const r=ns(t);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&Lc(E)&&(o=E)}if(!e&&o&&Lc(o))return{token:o.token};let y,h=!1;if(lw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=vf(LA(t,yield jd()),n.heartbeatServiceProvider).then(x=>(r.exchangeTokenPromise=void 0,x)),h=!0);const E=yield r.exchangeTokenPromise;return yield aw(t,E),po(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),h=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Bd.warn(E.message):Bd.error(E),u=E}return o?(y={token:o.token},po(t,Object.assign(Object.assign({},r),{token:o})),yield aw(t,o)):y=HI(u),h&&v_(t,y),y})).apply(this,arguments)}function Cg(n,e){const t=ns(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),po(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Dg(n){const{app:e}=n,t=ns(e);let r=t.tokenRefresher;r||(r=function __(n){const{app:e}=n;return new OI((0,Oe.Z)(function*(){let r;if(r=ns(e).token?yield Bu(n,!0):yield Bu(n),r.error)throw r.error}),()=>!0,()=>{const t=ns(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),po(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function v_(n,e){const t=ns(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Lc(n){return n.expireTimeMillis-Date.now()>0}function HI(n){return{token:bf(Hd),error:n}}class cw{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ns(this.app);for(const t of e)Cg(this.app,t.next);return Promise.resolve()}}const bw="app-check-internal";!function _u(){(0,Po._registerComponent)(new fo.wA("app-check",n=>function BA(n,e){return new cw(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bw).initialize()})),(0,Po._registerComponent)(new fo.wA(bw,n=>function dw(n){return{getToken:e=>Bu(n,e),addTokenListener:e=>function Ig(n,e,t,r){const{app:o}=n,u=ns(o),h={next:t,error:r,type:e};if(po(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&Lc(u.token)){const y=u.token;Promise.resolve().then(()=>{t({token:y.token}),Dg(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Dg(n))}(n,"INTERNAL",e),removeTokenListener:e=>Cg(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Po.registerVersion)("@firebase/app-check","0.5.6")}();class xg{constructor(){return(0,Fr.vb)("app-check")}}"undefined"!=typeof window&&window;var T_=$(127);const tC=new c.OlP("angularfire2.auth.use-emulator"),Cw=new c.OlP("angularfire2.auth.settings"),S_=new c.OlP("angularfire2.auth.tenant-id"),x_=new c.OlP("angularfire2.auth.langugage-code"),M_=new c.OlP("angularfire2.auth.use-device-language"),R_=new c.OlP("angularfire.auth.persistence"),N_=(n,e,t,r,o,u,h,y)=>(0,Sr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),h)for(const[x,F]of Object.entries(h))E.settings[x]=F;return y&&E.setPersistence(y),E},[t,r,o,u,h,y]);let Fo=(()=>{class n{constructor(t,r,o,u,h,y,E,x,F,U,Y,ae){const ye=new An.x,nt=Je(void 0).pipe((0,Ud.Q)(h.outsideAngular),yr(()=>u.runOutsideAngular(()=>Promise.resolve().then($.bind($,820)))),(0,In.U)(()=>(0,Sr.on)(t,u,r)),(0,In.U)(ft=>N_(ft,u,y,x,F,U,E,Y)),X0({bufferSize:1,refCount:!1}));if(Yr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Je(null);else{nt.pipe(sa()).subscribe();const fn=nt.pipe(yr(Bt=>Bt.getRedirectResult().then(wn=>wn,()=>null)),Fr.iC,X0({bufferSize:1,refCount:!1})),pn=nt.pipe(yr(Bt=>new Jn.y(wn=>({unsubscribe:u.runOutsideAngular(()=>Bt.onAuthStateChanged(Vn=>wn.next(Vn),Vn=>wn.error(Vn),()=>wn.complete()))})))),Qt=nt.pipe(yr(Bt=>new Jn.y(wn=>({unsubscribe:u.runOutsideAngular(()=>Bt.onIdTokenChanged(Vn=>wn.next(Vn),Vn=>wn.error(Vn),()=>wn.complete()))}))));this.authState=fn.pipe(o_(pn),(0,a_.R)(h.outsideAngular),(0,Ud.Q)(h.insideAngular)),this.user=fn.pipe(o_(Qt),(0,a_.R)(h.outsideAngular),(0,Ud.Q)(h.insideAngular)),this.idToken=this.user.pipe(yr(Bt=>Bt?(0,At.D)(Bt.getIdToken()):Je(null))),this.idTokenResult=this.user.pipe(yr(Bt=>Bt?(0,At.D)(Bt.getIdTokenResult()):Je(null))),this.credential=(0,Y0.T)(fn,ye,this.authState.pipe(xo(Bt=>!Bt))).pipe((0,In.U)(Bt=>(null==Bt?void 0:Bt.user)?Bt:null),(0,a_.R)(h.outsideAngular),(0,Ud.Q)(h.insideAngular))}return(0,Sr.pX)(this,nt,u,{spy:{apply:(ft,fn,pn)=>{(ft.startsWith("signIn")||ft.startsWith("createUser"))&&pn.then(Qt=>ye.next(Qt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sr.Dh),c.LFG(Sr.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Fr.HU),c.LFG(tC,8),c.LFG(Cw,8),c.LFG(S_,8),c.LFG(x_,8),c.LFG(M_,8),c.LFG(R_,8),c.LFG(xg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Rg=(()=>{class n{constructor(){T_.Z.registerVersion("angularfire",Fr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Fo]}),n})();var Dw=$(4986);function k_(){return(0,Si.e)((n,e)=>{let t,r=!1;n.subscribe((0,Or.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function P_(n,e){return n===e}$(820);var Dt,Ng=$(3942),Ef="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ju={},kg=kg||{},hn=Ef||self;function If(){}function O_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Vc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var F_="closure_uid_"+(1e9*Math.random()>>>0),Tw=0;function $d(n,e,t){return n.call.apply(n.bind,arguments)}function Aw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function rs(n,e,t){return(rs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$d:Aw).apply(null,arguments)}function Pg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ei(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var h=Array(arguments.length-2),y=2;y<arguments.length;y++)h[y-2]=arguments[y];return e.prototype[o].apply(r,h)}}function Al(){this.s=this.s,this.o=this.o}var sC={};Al.prototype.s=!1,Al.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function rC(n){return Object.prototype.hasOwnProperty.call(n,F_)&&n[F_]||(n[F_]=++Tw)}(this);delete sC[n]}},Al.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},xa=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function V_(n){return Array.prototype.concat.apply([],arguments)}function Og(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Cf(n){return/^[\s\xa0]*$/.test(n)}var qs,U_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function $s(n,e){return-1!=n.indexOf(e)}function B_(n,e){return n<e?-1:n>e?1:0}e:{var xw=hn.navigator;if(xw){var j_=xw.userAgent;if(j_){qs=j_;break e}}qs=""}function Mw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function H_(n){const e={};for(const t in n)e[t]=n[t];return e}var Rw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nw(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Rw.length;u++)t=Rw[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function kw(n){return kw[" "](n),n}kw[" "]=If;var G_,n,$_=$s(qs,"Opera"),qd=$s(qs,"Trident")||$s(qs,"MSIE"),q_=$s(qs,"Edge"),Fg=q_||qd,oC=$s(qs,"Gecko")&&!($s(qs.toLowerCase(),"webkit")&&!$s(qs,"Edge"))&&!($s(qs,"Trident")||$s(qs,"MSIE"))&&!$s(qs,"Edge"),Ma=$s(qs.toLowerCase(),"webkit")&&!$s(qs,"Edge");function aC(){var n=hn.document;return n?n.documentMode:void 0}e:{var Lg="",Vg=(n=qs,oC?/rv:([^\);]+)(\)|;)/.exec(n):q_?/Edge\/([\d\.]+)/.exec(n):qd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ma?/WebKit\/(\S+)/.exec(n):$_?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Vg&&(Lg=Vg?Vg[1]:""),qd){var Ug=aC();if(null!=Ug&&Ug>parseFloat(Lg)){G_=String(Ug);break e}}G_=Lg}var uC={};var lC=hn.document&&qd&&(aC()||parseInt(G_,10))||void 0,z_=function(){if(!hn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{hn.addEventListener("test",If,e),hn.removeEventListener("test",If,e)}catch(t){}return n}();function Ts(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Df(n,e){if(Ts.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(oC){e:{try{kw(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Df.Z.h.call(this)}}Ts.prototype.h=function(){this.defaultPrevented=!0},ei(Df,Ts);var cC={2:"touch",3:"pen",4:"mouse"};Df.prototype.h=function(){Df.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Tf="closure_listenable_"+(1e6*Math.random()|0),dC=0;function hC(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++dC,this.ca=this.fa=!1}function Uc(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Hu(n){this.src=n,this.g={},this.h=0}function Z_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=Sw(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Uc(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Bc(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}Hu.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=Bc(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new hC(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var W_="closure_lm_"+(1e6*Math.random()|0),K_={};function Hg(n,e,t,r,o){if(r&&r.once)return is(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Hg(n,e[u],t,r,o);return null}return t=Rl(t),n&&n[Tf]?n.N(e,t,Vc(r)?!!r.capture:!!r,o):Ra(n,e,t,!1,r,o)}function Ra(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var h=Vc(o)?!!o.capture:!!o,y=xl(n);if(y||(n[W_]=y=new Hu(n)),(t=y.add(e,t,r,h,u)).proxy)return t;if(r=function Af(){var e=Y_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)z_||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Lo(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function is(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)is(n,e[u],t,r,o);return null}return t=Rl(t),n&&n[Tf]?n.O(e,t,Vc(r)?!!r.capture:!!r,o):Ra(n,e,t,!0,r,o)}function Sl(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Sl(n,e[u],t,r,o);else r=Vc(r)?!!r.capture:!!r,t=Rl(t),n&&n[Tf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Bc(u=n.g[e],t,r,o))&&(Uc(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=xl(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Bc(e,t,r,o)),(t=-1<n?e[n]:null)&&Gd(t))}function Gd(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Tf])Z_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Lo(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xl(e))?(Z_(t,n),0==t.h&&(t.src=null,e[W_]=null)):Uc(n)}}}function Lo(n){return n in K_?K_[n]:K_[n]="on"+n}function Y_(n,e){if(n.ca)n=!0;else{e=new Df(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Gd(n),n=t.call(r,e)}return n}function xl(n){return(n=n[W_])instanceof Hu?n:null}var Ml="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rl(n){return"function"==typeof n?n:(n[Ml]||(n[Ml]=function(e){return n.handleEvent(e)}),n[Ml])}function zr(){Al.call(this),this.i=new Hu(this),this.P=this,this.I=null}function ti(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ts(e,n);else if(e instanceof Ts)e.target=e.target||n;else{var o=e;Nw(e=new Ts(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];o=$u(h,r,!0,e)&&o}if(o=$u(h=e.g=n,r,!0,e)&&o,o=$u(h,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=$u(h=e.g=t[u],r,!1,e)&&o}function $u(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ca&&h.capture==t){var y=h.listener,E=h.ia||h.src;h.fa&&Z_(n.i,h),o=!1!==y.call(E,r)&&o}}return o&&!r.defaultPrevented}ei(zr,Al),zr.prototype[Tf]=!0,zr.prototype.removeEventListener=function(n,e,t,r){Sl(this,n,e,t,r)},zr.prototype.M=function(){if(zr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Uc(t[r]);delete n.g[e],n.h--}}this.I=null},zr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Nl=hn.JSON.stringify;function zd(){var n=J_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var qg,Q_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Pw,n=>n.reset());class Pw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ow(n){hn.setTimeout(()=>{throw n},0)}function $g(n,e){qg||function Fw(){var n=hn.Promise.resolve(void 0);qg=function(){n.then(Lw)}}(),Gg||(qg(),Gg=!0),J_.add(n,e)}var Gg=!1,J_=new class Zd{constructor(){this.h=this.g=null}add(e,t){const r=Q_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Lw(){for(var n;n=zd();){try{n.h.call(n.g)}catch(t){Ow(t)}var e=Q_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Gg=!1}function zg(n,e){zr.call(this),this.h=n||1,this.g=e||hn,this.j=rs(this.kb,this),this.l=Date.now()}function Zg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function X_(n,e,t){if("function"==typeof n)t&&(n=rs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rs(n.handleEvent,n)}return 2147483647<Number(e)?-1:hn.setTimeout(n,e||0)}function ev(n){n.g=X_(()=>{n.g=null,n.i&&(n.i=!1,ev(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ei(zg,zr),(Dt=zg.prototype).da=!1,Dt.S=null,Dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ti(this,"tick"),this.da&&(Zg(this),this.start()))}},Dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.M=function(){zg.Z.M.call(this),Zg(this),delete this.g};class Vw extends Al{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ev(this)}M(){super.M(),this.g&&(hn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sf(n){Al.call(this),this.h=n,this.g={}}ei(Sf,Al);var Uw=[];function tv(n,e,t,r){Array.isArray(t)||(t&&(Uw[0]=t.toString()),t=Uw);for(var o=0;o<t.length;o++){var u=Hg(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Bw(n){Mw(n.g,function(e,t){this.g.hasOwnProperty(t)&&Gd(e)},n),n.g={}}function xf(){this.g=!0}function Mf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<o.length;h++)o[h]=""}}}return Nl(t)}catch(y){return e}}(n,t)+(r?" "+r:"")})}Sf.prototype.M=function(){Sf.Z.M.call(this),Bw(this)},Sf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xf.prototype.Aa=function(){this.g=!1},xf.prototype.info=function(){};var qu={},jw=null;function rv(){return jw=jw||new zr}function mC(n){Ts.call(this,qu.Ma,n)}function Wg(n){const e=rv();ti(e,new mC(e,n))}function Hw(n,e){Ts.call(this,qu.STAT_EVENT,n),this.stat=e}function As(n){const e=rv();ti(e,new Hw(e,n))}function yC(n,e){Ts.call(this,qu.Na,n),this.size=e}function Rf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return hn.setTimeout(function(){n()},e)}qu.Ma="serverreachability",ei(mC,Ts),qu.STAT_EVENT="statevent",ei(Hw,Ts),qu.Na="timingevent",ei(yC,Ts);var Gu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$w={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Kg(){}function iv(){}Kg.prototype.h=null;var ov,kl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sv(){Ts.call(this,"d")}function Yg(){Ts.call(this,"c")}function Qg(){}function Nf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Sf(this),this.P=_C,this.W=new zg(n=Fg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Gw}function Gw(){this.i=null,this.g="",this.h=!1}ei(sv,Ts),ei(Yg,Ts),ei(Qg,Kg),Qg.prototype.g=function(){return new XMLHttpRequest},Qg.prototype.i=function(){return{}},ov=new Qg;var _C=45e3,Jg={},Xg={};function em(n,e,t){n.K=1,n.v=Vf(vu(e)),n.s=t,n.U=!0,av(n,null)}function av(n,e){n.F=Date.now(),kf(n),n.A=vu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),pv(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Gw,n.g=ab(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Vw(rs(n.Ia,n,n.g),n.O)),tv(n.V,n.g,"readystatechange",n.gb),e=n.H?H_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Wg(1),function fC(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var h="",y=u.split("&"),E=0;E<y.length;E++){var x=y[E].split("=");if(1<x.length){var F=x[0];x=x[1];var U=F.split("_");h=2<=U.length&&"type"==U[1]?h+(F+"=")+x+"&":h+(F+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function tm(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function vC(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=uv(n,t),o==Xg){4==e&&(n.o=4,As(14),r=!1),Mf(n.j,n.m,null,"[Incomplete Response]");break}if(o==Jg){n.o=4,As(15),Mf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Mf(n.j,n.m,o,null),Pf(n,o)}tm(n)&&o!=Xg&&o!=Jg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,As(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),lm(e),e.L=!0,As(11))):(Mf(n.j,n.m,t,"[Invalid Chunked Response]"),zu(n),Wd(n))}function uv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Xg:(t=Number(e.substring(t,r)),isNaN(t)?Jg:(r+=1)+t>e.length?Xg:(e=e.substr(r,t),n.C=r+t,e))}function kf(n){n.Y=Date.now()+n.P,wC(n,n.P)}function wC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rf(rs(n.eb,n),e)}function Pl(n){n.B&&(hn.clearTimeout(n.B),n.B=null)}function Wd(n){0==n.l.G||n.I||Dv(n.l,n)}function zu(n){Pl(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Zg(n.W),Bw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Pf(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||mv(t.i,n)))if(t.I=n.N,!n.J&&mv(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(x){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Rf(rs(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;qf(t),sm(t)}um(t),As(18)}if(1>=gv(t.i)&&t.ka){try{t.ka()}catch(x){}t.ka=void 0}}else Ol(t,11)}else if((n.J||t.g==n)&&qf(t),!Cf(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let x=o[e];if(t.U=x[0],x=x[1],2==t.G)if("c"==x[0]){t.J=x[1],t.la=x[2];const F=x[3];null!=F&&(t.ma=F,t.h.info("VER="+t.ma));const U=x[4];null!=U&&(t.za=U,t.h.info("SVER="+t.za));const Y=x[5];null!=Y&&"number"==typeof Y&&0<Y&&(t.K=r=1.5*Y,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ae=n.g;if(ae){const ye=ae.g?ae.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var u=r.i;!u.g&&($s(ye,"spdy")||$s(ye,"quic")||$s(ye,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(ui(u,u.h),u.h=null))}if(r.D){const nt=ae.g?ae.g.getResponseHeader("X-HTTP-Session-Id"):null;nt&&(r.sa=nt,vr(r.F,r.D,nt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=ob(r,r.H?r.la:null,r.W),h.J){yv(r.i,h);var y=h,E=r.K;E&&y.setTimeout(E),y.B&&(Pl(y),kf(y)),r.g=h}else $f(r);0<t.l.length&&$c(t)}else"stop"!=x[0]&&"close"!=x[0]||Ol(t,7);else 3==t.G&&("stop"==x[0]||"close"==x[0]?"stop"==x[0]?Ol(t,7):im(t):"noop"!=x[0]&&t.j&&t.j.wa(x),t.A=0)}Wg(4)}catch(x){}}function Kd(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(O_(n)||"string"==typeof n)xa(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(O_(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function bC(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(O_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function Zu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Zu)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Of(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Yd(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Yd(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Yd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Dt=Nf.prototype).setTimeout=function(n){this.P=n},Dt.gb=function(n){n=n.target;const e=this.L;e&&3==Yu(n)?e.l():this.Ia(n)},Dt.Ia=function(n){try{if(n==this.g)e:{const F=Yu(this.g);var e=this.g.Da();const U=this.g.ba();if(!(3>F)&&(3!=F||Fg||this.g&&(this.h.h||this.g.ga()||ib(this.g)))){this.I||4!=F||7==e||Wg(8==e||0>=U?3:2),Pl(this);var t=this.g.ba();this.N=t;t:if(tm(this)){var r=ib(this.g);n="";var o=r.length,u=4==Yu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){zu(this),Wd(this);var h="";break t}this.h.i=new hn.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function pC(n,e,t,r,o,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.X,F,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,E=this.g;if((y=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cf(y)){var x=y;break t}}x=null}if(!(t=x)){this.i=!1,this.o=3,As(12),zu(this),Wd(this);break e}Mf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pf(this,t)}this.U?(vC(this,F,h),Fg&&this.i&&3==F&&(tv(this.V,this.W,"tick",this.fb),this.W.start())):(Mf(this.j,this.m,h,null),Pf(this,h)),4==F&&zu(this),this.i&&!this.I&&(4==F?Dv(this.l,this):(this.i=!1,kf(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,As(12)):(this.o=0,As(13)),zu(this),Wd(this)}}}catch(F){}},Dt.fb=function(){if(this.g){var n=Yu(this.g),e=this.g.ga();this.C<e.length&&(Pl(this),vC(this,n,e),this.i&&4!=n&&kf(this))}},Dt.cancel=function(){this.I=!0,zu(this)},Dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function gC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wg(3),As(17)),zu(this),this.o=2,Wd(this)):wC(this,this.Y-n)},(Dt=Zu.prototype).R=function(){Of(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Dt.T=function(){return Of(this),this.g.concat()},Dt.get=function(n,e){return Yd(this.h,n)?this.h[n]:e},Dt.set=function(n,e){Yd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Dt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var zw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Wu){this.g=void 0!==e?e:n.g,Ff(this,n.j),this.s=n.s,Qd(this,n.i),Lf(this,n.m),this.l=n.l,e=n.h;var t=new Xd;t.i=e.i,e.g&&(t.g=new Zu(e.g),t.h=e.h),cv(this,t),this.o=n.o}else n&&(t=String(n).match(zw))?(this.g=!!e,Ff(this,t[1]||"",!0),this.s=Jd(t[2]||""),Qd(this,t[3]||"",!0),Lf(this,t[4]),this.l=Jd(t[5]||"",!0),cv(this,t[6]||"",!0),this.o=Jd(t[7]||"")):(this.g=!!e,this.h=new Xd(null,this.g))}function vu(n){return new Wu(n)}function Ff(n,e,t){n.j=t?Jd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Qd(n,e,t){n.i=t?Jd(e,!0):e}function Lf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function cv(n,e,t){e instanceof Xd?(n.h=e,function Qw(n,e){e&&!n.j&&(Ku(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(hv(this,r),pv(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=jc(e,Yw)),n.h=new Xd(e,n.g))}function vr(n,e,t){n.h.set(e,t)}function Vf(n){return vr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function jc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Ww),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ww(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(jc(e,Kw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(jc(e,Kw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(jc(t,"/"==t.charAt(0)?CC:IC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",jc(t,dv)),n.join("")};var Kw=/[#\/\?@]/g,IC=/[#\?:]/g,CC=/[#\?]/g,Yw=/[#\?@]/g,dv=/#/g;function Xd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ku(n){n.g||(n.g=new Zu,n.h=0,n.i&&function lv(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hv(n,e){Ku(n),e=Hc(n,e),Yd(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Yd((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Of(n)))}function fv(n,e){return Ku(n),e=Hc(n,e),Yd(n.g.h,e)}function pv(n,e,t){hv(n,e),0<t.length&&(n.i=null,n.g.set(Hc(n,e),Og(t)),n.h+=t.length)}function Hc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function DC(n){this.l=n||TC,n=hn.PerformanceNavigationTiming?0<(n=hn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(hn.g&&hn.g.Ea&&hn.g.Ea()&&hn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=Xd.prototype).add=function(n,e){Ku(this),this.i=null,n=Hc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){Ku(this),this.g.forEach(function(t,r){xa(t,function(o){n.call(e,o,r,this)},this)},this)},Dt.T=function(){Ku(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},Dt.R=function(n){Ku(this);var e=[];if("string"==typeof n)fv(this,n)&&(e=V_(e,this.g.get(Hc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=V_(e,n[t])}return e},Dt.set=function(n,e){return Ku(this),this.i=null,fv(this,n=Hc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var h=o;""!==r[u]&&(h+="="+encodeURIComponent(String(r[u]))),n.push(h)}}return this.i=n.join("&")};var TC=10;function Xw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gv(n){return n.h?1:n.g?n.g.size:0}function mv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ui(n,e){n.g?n.g.add(e):n.h=e}function yv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function eb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Og(n.i)}function _v(){}function tb(){this.g=new _v}function AC(n,e,t){const r=t||"";try{Kd(n,function(o,u){let h=o;Vc(o)&&(h=Nl(o)),e.push(r+u+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Uf(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function wu(n){this.l=n.$b||null,this.j=n.ib||!1}function nm(n,e){zr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=vv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}DC.prototype.cancel=function(){if(this.i=eb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},_v.prototype.stringify=function(n){return hn.JSON.stringify(n,void 0)},_v.prototype.parse=function(n){return hn.JSON.parse(n,void 0)},ei(wu,Kg),wu.prototype.g=function(){return new nm(this.l,this.j)},wu.prototype.i=function(n){return function(){return n}}({}),ei(nm,zr);var vv=0;function wv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Bf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,eh(n)}function eh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=nm.prototype).open=function(n,e){if(this.readyState!=vv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,eh(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||hn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bf(this)),this.readyState=vv},Dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,eh(this)),this.g&&(this.readyState=3,eh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==hn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Bf(this):eh(this),3==this.readyState&&wv(this)}},Dt.Ua=function(n){this.g&&(this.response=this.responseText=n,Bf(this))},Dt.Ta=function(n){this.g&&(this.response=n,Bf(this))},Dt.ha=function(){this.g&&Bf(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(nm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var QA=hn.JSON.parse;function li(n){zr.call(this),this.headers=new Zu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rm,this.K=this.L=!1}ei(li,zr);var rm="",bu=/^https?$/i,SC=["POST","PUT"];function Eu(n){return"content-type"==n.toLowerCase()}function ca(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,da(n),jf(n)}function da(n){n.D||(n.D=!0,ti(n,"complete"),ti(n,"error"))}function bv(n){if(n.h&&void 0!==kg&&(!n.C[1]||4!=Yu(n)||2!=n.ba()))if(n.v&&4==Yu(n))X_(n.Fa,0,n);else if(ti(n,"readystatechange"),4==Yu(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===y){var o=String(n.H).match(zw)[1]||null;if(!o&&hn.self&&hn.self.location){var u=hn.self.location.protocol;o=u.substr(0,u.length-1)}r=!bu.test(o?o.toLowerCase():"")}t=r}if(t)ti(n,"complete"),ti(n,"success");else{n.m=6;try{var h=2<Yu(n)?n.g.statusText:""}catch(E){h=""}n.j=h+" ["+n.ba()+"]",da(n)}}finally{jf(n)}}}function jf(n,e){if(n.g){rb(n);const t=n.g,r=n.C[0]?If:null;n.g=null,n.C=null,e||ti(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function rb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(hn.clearTimeout(n.A),n.A=null)}function Yu(n){return n.g?n.g.readyState:0}function ib(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case rm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Hf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function MC(n){let e="";return Mw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vr(n,e,t))}function Qu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function sb(n){this.za=0,this.l=[],this.h=new xf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qu("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qu("baseRetryDelayMs",5e3,n),this.$a=Qu("retryDelaySeedMs",1e4,n),this.Ya=Qu("forwardChannelMaxRetries",2,n),this.ra=Qu("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new DC(n&&n.concurrentRequestLimit),this.Ca=new tb,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function im(n){if(Ev(n),3==n.G){var e=n.V++,t=vu(n.F);vr(t,"SID",n.J),vr(t,"RID",e),vr(t,"TYPE","terminate"),th(n,t),(e=new Nf(n,n.h,e,void 0)).K=2,e.v=Vf(vu(t)),t=!1,hn.navigator&&hn.navigator.sendBeacon&&(t=hn.navigator.sendBeacon(e.v.toString(),"")),!t&&hn.Image&&((new Image).src=e.v,t=!0),t||(e.g=ab(e.l,null),e.g.ea(e.v)),e.F=Date.now(),kf(e)}Av(n)}function sm(n){n.g&&(lm(n),n.g.cancel(),n.g=null)}function Ev(n){sm(n),n.u&&(hn.clearTimeout(n.u),n.u=null),qf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&hn.clearTimeout(n.m),n.m=null)}function om(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&$c(n)}function $c(n){Xw(n.i)||n.m||(n.m=!0,$g(n.Ha,n),n.C=0)}function Iv(n,e){var t;t=e?e.m:n.V++;const r=vu(n.F);vr(r,"SID",n.J),vr(r,"RID",t),vr(r,"AID",n.U),th(n,r),n.o&&n.s&&Hf(r,n.o,n.s),t=new Nf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=am(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),ui(n.i,t),em(t,r,e)}function th(n,e){n.j&&Kd({},function(t,r){vr(e,r,t)})}function am(n,e,t){t=Math.min(n.l.length,t);var r=n.j?rs(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=o[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let y=!0;for(let E=0;E<t;E++){let x=o[E].h;const F=o[E].g;if(x-=u,0>x)u=Math.max(0,o[E].h-100),y=!1;else try{AC(F,h,"req"+x+"_")}catch(U){r&&r(F)}}if(y){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function $f(n){n.g||n.u||(n.Y=1,$g(n.Ga,n),n.A=0)}function um(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Rf(rs(n.Ga,n),Tv(n,n.A)),n.A++,0))}function lm(n){null!=n.B&&(hn.clearTimeout(n.B),n.B=null)}function Cv(n){n.g=new Nf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=vu(n.oa);vr(e,"RID","rpc"),vr(e,"SID",n.J),vr(e,"CI",n.N?"0":"1"),vr(e,"AID",n.U),th(n,e),vr(e,"TYPE","xmlhttp"),n.o&&n.s&&Hf(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Vf(vu(e)),t.s=null,t.U=!0,av(t,n)}function qf(n){null!=n.v&&(hn.clearTimeout(n.v),n.v=null)}function Dv(n,e){var t=null;if(n.g==e){qf(n),lm(n),n.g=null;var r=2}else{if(!mv(n.i,e))return;t=e.D,yv(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ti(r=rv(),new yC(r,t,e,o)),$c(n)}else $f(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function RC(n,e){return!(gv(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Rf(rs(n.Ha,n,e),Tv(n,n.C)),n.C++,0)))}(n,e)||2==r&&um(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Ol(n,5);break;case 4:Ol(n,10);break;case 3:Ol(n,6);break;default:Ol(n,2)}}function Tv(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ol(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=rs(n.jb,n);t||(t=new Wu("//www.google.com/images/cleardot.gif"),hn.location&&"http"==hn.location.protocol||Ff(t,"https"),Vf(t)),function nb(n,e){const t=new xf;if(hn.Image){const r=new Image;r.onload=Pg(Uf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Pg(Uf,t,r,"TestLoadImage: error",!1,e),r.onabort=Pg(Uf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pg(Uf,t,r,"TestLoadImage: timeout",!1,e),hn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else As(2);n.G=0,n.j&&n.j.va(e),Av(n),Ev(n)}function Av(n){n.G=0,n.I=-1,n.j&&((0!=eb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Og(n.l),n.l.length=0),n.j.ua())}function ob(n,e,t){let r=function EC(n){return n instanceof Wu?vu(n):new Wu(n,void 0)}(t);if(""!=r.i)e&&Qd(r,e+"."+r.i),Lf(r,r.m);else{const o=hn.location;r=function Zw(n,e,t,r){var o=new Wu(null,void 0);return n&&Ff(o,n),e&&Qd(o,e),t&&Lf(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Mw(n.aa,function(o,u){vr(r,u,o)}),t=n.sa,(e=n.D)&&t&&vr(r,e,t),vr(r,"VER",n.ma),th(n,r),r}function ab(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new li(t&&n.Ba&&!n.qa?new wu({ib:!0}):n.qa)).L=n.H,e}function ub(){}function cm(){if(qd&&!(10<=Number(lC)))throw Error("Environmental error: no available transport.")}function Vo(n,e){zr.call(this),this.g=new sb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Cf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new nh(this)}function lb(n){sv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function cb(){Yg.call(this),this.status=1}function nh(n){this.g=n}(Dt=li.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ov.g(),this.C=function qw(n){return n.h||(n.h=n.i())}(this.u?this.u:ov),this.g.onreadystatechange=rs(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void ca(this,u)}n=t||"";const o=new Zu(this.headers);r&&Kd(r,function(u,h){o.set(h,u)}),r=function L_(n){e:{var e=Eu;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=hn.FormData&&n instanceof hn.FormData,!(0<=Sw(SC,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,h){this.g.setRequestHeader(h,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rb(this),0<this.B&&((this.K=function xC(n){return qd&&function YA(){return function KA(n){var e=uC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=U_(String(G_)).split("."),t=U_("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",u=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=B_(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||B_(0==o[2].length,0==u[2].length)||B_(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rs(this.pa,this)):this.A=X_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){ca(this,u)}},Dt.pa=function(){void 0!==kg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ti(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ti(this,"complete"),ti(this,"abort"),jf(this))},Dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jf(this,!0)),li.Z.M.call(this)},Dt.Fa=function(){this.s||(this.F||this.v||this.l?bv(this):this.cb())},Dt.cb=function(){bv(this)},Dt.ba=function(){try{return 2<Yu(this)?this.g.status:-1}catch(n){return-1}},Dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),QA(e)}},Dt.Da=function(){return this.m},Dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=sb.prototype).ma=8,Dt.G=1,Dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Nf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=H_(u),Nw(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=am(this,o,e),vr(t=vu(this.F),"RID",n),vr(t,"CVER",22),this.D&&vr(t,"X-HTTP-Session-Id",this.D),th(this,t),this.o&&u&&Hf(t,this.o,u),ui(this.i,o),this.Ra&&vr(t,"TYPE","init"),this.ja?(vr(t,"$req",e),vr(t,"SID","null"),o.$=!0,em(o,t,null)):em(o,t,e),this.G=2}}else 3==this.G&&(n?Iv(this,n):0==this.l.length||Xw(this.i)||Iv(this))},Dt.Ga=function(){if(this.u=null,Cv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Rf(rs(this.bb,this),n)}},Dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,As(10),sm(this),Cv(this))},Dt.ab=function(){null!=this.v&&(this.v=null,sm(this),um(this),As(19))},Dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),As(2)):(this.h.info("Failed to ping google.com"),As(1))},(Dt=ub.prototype).xa=function(){},Dt.wa=function(){},Dt.va=function(){},Dt.ua=function(){},Dt.Oa=function(){},cm.prototype.g=function(n,e){return new Vo(n,e)},ei(Vo,zr),Vo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),$g(rs(n.hb,n,e))),As(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ob(n,null,n.W),$c(n)},Vo.prototype.close=function(){im(this.g)},Vo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,om(this.g,e)}else this.v?((e={}).__data__=Nl(n),om(this.g,e)):om(this.g,n)},Vo.prototype.M=function(){this.g.j=null,delete this.j,im(this.g),delete this.g,Vo.Z.M.call(this)},ei(lb,sv),ei(cb,Yg),ei(nh,ub),nh.prototype.xa=function(){ti(this.g,"a")},nh.prototype.wa=function(n){ti(this.g,new lb(n))},nh.prototype.va=function(n){ti(this.g,new cb(n))},nh.prototype.ua=function(){ti(this.g,"b")},cm.prototype.createWebChannel=cm.prototype.g,Vo.prototype.send=Vo.prototype.u,Vo.prototype.open=Vo.prototype.m,Vo.prototype.close=Vo.prototype.close,Gu.NO_ERROR=0,Gu.TIMEOUT=8,Gu.HTTP_ERROR=6,$w.COMPLETE="complete",iv.EventType=kl,kl.OPEN="a",kl.CLOSE="b",kl.ERROR="c",kl.MESSAGE="d",zr.prototype.listen=zr.prototype.N,li.prototype.listenOnce=li.prototype.O,li.prototype.getLastError=li.prototype.La,li.prototype.getLastErrorCode=li.prototype.Da,li.prototype.getStatus=li.prototype.ba,li.prototype.getResponseJson=li.prototype.Qa,li.prototype.getResponseText=li.prototype.ga,li.prototype.send=li.prototype.ea;var NC=ju.createWebChannelTransport=function(){return new cm},kC=ju.getStatEventTarget=function(){return rv()},Sv=ju.ErrorCode=Gu,PC=ju.EventType=$w,OC=ju.Event=qu,db=ju.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},FC=ju.FetchXmlHttpFactory=wu,dm=ju.WebChannel=iv,LC=ju.XhrIo=li;const hb="@firebase/firestore";class Hi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hi.UNAUTHENTICATED=new Hi(null),Hi.GOOGLE_CREDENTIALS=new Hi("google-credentials-uid"),Hi.FIRST_PARTY=new Hi("first-party-uid"),Hi.MOCK_USER=new Hi("mock-user");let qc="9.6.11";const Ju=new Vu.Yd("@firebase/firestore");function hm(){return Ju.logLevel}function it(n,...e){if(Ju.logLevel<=Vu.in.DEBUG){const t=e.map(fm);Ju.debug(`Firestore (${qc}): ${n}`,...t)}}function ci(n,...e){if(Ju.logLevel<=Vu.in.ERROR){const t=e.map(fm);Ju.error(`Firestore (${qc}): ${n}`,...t)}}function rh(n,...e){if(Ju.logLevel<=Vu.in.WARN){const t=e.map(fm);Ju.warn(`Firestore (${qc}): ${n}`,...t)}}function fm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function St(n="Unexpected state"){const e=`FIRESTORE (${qc}) INTERNAL ASSERTION FAILED: `+n;throw ci(e),new Error(e)}function un(n,e){n||St()}function vt(n,e){return n}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends nn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ss{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class pm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Hi.UNAUTHENTICATED))}shutdown(){}}class pb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gb{constructor(e){this.t=e,this.currentUser=Hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=x=>this.i!==o?(o=this.i,t(x)):Promise.resolve();let h=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ss,e.enqueueRetryable(()=>u(this.currentUser))};const y=()=>{const x=h;e.enqueueRetryable((0,Oe.Z)(function*(){yield x.promise,yield u(r.currentUser)}))},E=x=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(x=>E(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?E(x):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ss)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(un("string"==typeof r.accessToken),new pm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return un(null===e||"string"==typeof e),new Hi(e)}}class XA{constructor(e,t,r){this.type="FirstParty",this.user=Hi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Yt{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new XA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VC{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.p;return this.p=u.token,it("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(un("string"==typeof t.token),this.p=t.token,new mb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ss{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function UC(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ss.A=-1;class Gf{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=UC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function mn(n,e){return n<e?-1:n>e?1:0}function dr(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function BC(n){return n+"\0"}class ni{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ye(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ni(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new ni(0,0))}static max(){return new rn(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function yb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ih{constructor(e,t,r){void 0===t?t=0:t>e.length&&St(),void 0===r?r=e.length-t:r>e.length-t&&St(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ih.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ih?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $n extends ih{construct(e,t,r){return new $n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ye(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new $n(t)}static emptyPath(){return new $n([])}}const jC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $i extends ih{construct(e,t,r){return new $i(e,t,r)}static isValidIdentifier(e){return jC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $i(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Ye(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const y=e[o];if("\\"===y){if(o+1===e.length)throw new Ye(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Ye(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===y?(h=!h,o++):"."!==y||h?(r+=y,o++):(u(),o++)}if(u(),h)throw new Ye(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $i(t)}static emptyPath(){return new $i([])}}class sh{constructor(e){this.fields=e,e.sort($i.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dr(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ni{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ni(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Ni(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const HC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ll(n){if(un(!!n),"string"==typeof n){let e=0;const t=HC.exec(n);if(un(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xr(n.seconds),nanos:xr(n.nanos)}}function xr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Vl(n){return"string"==typeof n?Ni.fromBase64String(n):Ni.fromUint8Array(n)}function gm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Mv(n){const e=n.mapValue.fields.__previous_value__;return gm(e)?Mv(e):e}function Zf(n){const e=Ll(n.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}class Wf{constructor(e,t,r,o,u,h,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=y,this.useFetchStreams=E}}class Uo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Uo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Uo&&e.projectId===this.projectId&&e.database===this.database}}function zc(n){return null==n}function Kf(n){return 0===n&&1/n==-1/0}function _b(n){return"number"==typeof n&&Number.isInteger(n)&&!Kf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class gt{constructor(e){this.path=e}static fromPath(e){return new gt($n.fromString(e))}static fromName(e){return new gt($n.fromString(e).popFirst(5))}static empty(){return new gt($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new $n(e.slice()))}}const Rv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nv={nullValue:"NULL_VALUE"};function Zc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gm(n)?4:Eb(n)?9:10:St()}function Na(n,e){if(n===e)return!0;const t=Zc(n);if(t!==Zc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zf(n).isEqual(Zf(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Ll(r.timestampValue),h=Ll(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Vl(n.bytesValue).isEqual(Vl(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return xr(r.geoPointValue.latitude)===xr(o.geoPointValue.latitude)&&xr(r.geoPointValue.longitude)===xr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return xr(r.integerValue)===xr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=xr(r.doubleValue),h=xr(o.doubleValue);return u===h?Kf(u)===Kf(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return dr(n.arrayValue.values||[],e.arrayValue.values||[],Na);case 10:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(yb(u)!==yb(h))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(void 0===h[y]||!Na(u[y],h[y])))return!1;return!0}(n,e);default:return St()}var o}function Yf(n,e){return void 0!==(n.values||[]).find(t=>Na(t,e))}function Ul(n,e){if(n===e)return 0;const t=Zc(n),r=Zc(e);if(t!==r)return mn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return mn(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=xr(o.integerValue||o.doubleValue),y=xr(u.integerValue||u.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1}(n,e);case 3:return $C(n.timestampValue,e.timestampValue);case 4:return $C(Zf(n),Zf(e));case 5:return mn(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Vl(o),y=Vl(u);return h.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),y=u.split("/");for(let E=0;E<h.length&&E<y.length;E++){const x=mn(h[E],y[E]);if(0!==x)return x}return mn(h.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=mn(xr(o.latitude),xr(u.latitude));return 0!==h?h:mn(xr(o.longitude),xr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const h=o.values||[],y=u.values||[];for(let E=0;E<h.length&&E<y.length;++E){const x=Ul(h[E],y[E]);if(x)return x}return mn(h.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const h=o.fields||{},y=Object.keys(h),E=u.fields||{},x=Object.keys(E);y.sort(),x.sort();for(let F=0;F<y.length&&F<x.length;++F){const U=mn(y[F],x[F]);if(0!==U)return U;const Y=Ul(h[y[F]],E[x[F]]);if(0!==Y)return Y}return mn(y.length,x.length)}(n.mapValue,e.mapValue);default:throw St()}}function $C(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return mn(n,e);const t=Ll(n),r=Ll(e),o=mn(t.seconds,r.seconds);return 0!==o?o:mn(t.nanos,r.nanos)}function Qf(n){return vb(n)}function vb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ll(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Vl(n.bytesValue).toBase64():"referenceValue"in n?gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const h of r.values||[])u?u=!1:o+=",",o+=vb(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const y of o)h?h=!1:u+=",",u+=`${y}:${vb(r.fields[y])}`;return u+"}"}(n.mapValue):St();var e}function oh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mm(n){return!!n&&"integerValue"in n}function Bl(n){return!!n&&"arrayValue"in n}function wb(n){return!!n&&"nullValue"in n}function bb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jf(n){return!!n&&"mapValue"in n}function Xu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Eb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qC(n){return"nullValue"in n?Nv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?oh(Uo.empty(),gt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:St()}function GC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?oh(Uo.empty(),gt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Rv:St()}function Ib(n,e){return void 0===n?e:void 0===e||Ul(n,e)>0?n:e}function Cb(n,e){return void 0===n?e:void 0===e||Ul(n,e)<0?n:e}class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xu(t)}setAll(e){let t=$i.emptyPath(),r={},o=[];e.forEach((h,y)=>{if(!t.isImmediateParentOf(y)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=y.popLast()}h?r[y.lastSegment()]=Xu(h):o.push(y.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Jf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Jf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Fl(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new os(Xu(this.value))}}function Db(n){const e=[];return Fl(n.fields,(t,r)=>{const o=new $i([t]);if(Jf(r)){const u=Db(r.mapValue).fields;if(0===u.length)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new sh(e)}class Mr{constructor(e,t,r,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Mr(e,0,rn.min(),rn.min(),os.empty(),0)}static newFoundDocument(e,t,r){return new Mr(e,1,t,rn.min(),r,0)}static newNoDocument(e,t){return new Mr(e,2,t,rn.min(),os.empty(),0)}static newUnknownDocument(e,t){return new Mr(e,3,t,rn.min(),os.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class el{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function kv(n){return n.fields.find(e=>2===e.kind)}function jl(n){return n.fields.filter(e=>2!==e.kind)}el.UNKNOWN_ID=-1;class ym{constructor(e,t){this.fieldPath=e,this.kind=t}}class ah{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ah(0,tl.min())}}function Tb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=rn.fromTimestamp(1e9===r?new ni(t+1,0):new ni(t,r));return new tl(o,gt.empty(),e)}function Ab(n){return new tl(n.readTime,n.key,-1)}class tl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new tl(rn.min(),gt.empty(),-1)}static max(){return new tl(rn.max(),gt.empty(),-1)}}function Pv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=gt.comparator(n.documentKey,e.documentKey),0!==t?t:mn(n.largestBatchId,e.largestBatchId))}class zC{constructor(e,t=null,r=[],o=[],u=null,h=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=y,this.P=null}}function Ov(n,e=null,t=[],r=[],o=null,u=null,h=null){return new zC(n,e,t,r,o,u,h)}function Hl(n){const e=vt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Qf(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),zc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qf(r)).join(",")),e.P=t}return e.P}function Xf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!eD(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Na(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Rb(n.startAt,e.startAt)&&Rb(n.endAt,e.endAt)}function _m(n){return gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function uh(n,e){return n.filters.filter(t=>t instanceof as&&t.field.isEqual(e))}function Sb(n,e,t){let r,o=!0;for(const u of uh(n,e)){let h,y=!0;switch(u.op){case"<":case"<=":h=qC(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,y=!1;break;case"!=":case"not-in":h=Nv}Ib(r,h)===h&&(r=h,o=y)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];Ib(r,h)===h&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}function Fv(n,e,t){let r,o=!0;for(const u of uh(n,e)){let h,y=!0;switch(u.op){case">=":case">":h=GC(u.value),y=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,y=!1;break;case"!=":case"not-in":h=Rv}Cb(r,h)===h&&(r=h,o=y)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];Cb(r,h)===h&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}class as extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new WC(e,t,r):"array-contains"===t?new QC(e,r):"in"===t?new JC(e,r):"not-in"===t?new XC(e,r):"array-contains-any"===t?new Mb(e,r):new as(e,t,r)}static V(e,t,r){return"in"===t?new KC(e,r):new YC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ul(t,this.value)):null!==t&&Zc(this.value)===Zc(t)&&this.v(Ul(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return St()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class WC extends as{constructor(e,t,r){super(e,t,r),this.key=gt.fromName(r.referenceValue)}matches(e){const t=gt.comparator(e.key,this.key);return this.v(t)}}class KC extends as{constructor(e,t){super(e,"in",t),this.keys=xb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YC extends as{constructor(e,t){super(e,"not-in",t),this.keys=xb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>gt.fromName(r.referenceValue))}class QC extends as{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bl(t)&&Yf(t.arrayValue,this.value)}}class JC extends as{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yf(this.value.arrayValue,t)}}class XC extends as{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Yf(this.value.arrayValue,t)}}class Mb extends as{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Yf(this.value.arrayValue,r))}}class nl{constructor(e,t){this.position=e,this.inclusive=t}}class lh{constructor(e,t="asc"){this.field=e,this.dir=t}}function eD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Lv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(r=u.field.isKeyField()?gt.comparator(gt.fromName(h.referenceValue),t.key):Ul(h,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Rb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Na(n.position[t],e.position[t]))return!1;return!0}class rl{constructor(e,t=null,r=[],o=[],u=null,h="F",y=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=y,this.endAt=E,this.D=null,this.C=null}}function Nb(n,e,t,r,o,u,h,y){return new rl(n,e,t,r,o,u,h,y)}function $l(n){return new rl(n)}function ch(n){return!zc(n.limit)&&"F"===n.limitType}function ep(n){return!zc(n.limit)&&"L"===n.limitType}function tp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Vv(n){for(const e of n.filters)if(e.S())return e.field;return null}function Uv(n){return null!==n.collectionGroup}function ql(n){const e=vt(n);if(null===e.D){e.D=[];const t=Vv(e),r=tp(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new lh(t)),e.D.push(new lh($i.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new lh($i.keyField(),u))}}}return e.D}function ha(n){const e=vt(n);if(!e.C)if("F"===e.limitType)e.C=Ov(e.path,e.collectionGroup,ql(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of ql(e))t.push(new lh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new nl(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new nl(e.startAt.position,!e.startAt.inclusive):null;e.C=Ov(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function Bv(n,e,t){return new rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function np(n,e){return Xf(ha(n),ha(e))&&n.limitType===e.limitType}function jv(n){return`${Hl(ha(n))}|lt:${n.limitType}`}function Hv(n){return`Query(target=${function ZC(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Qf(r.value)}`;var r}).join(", ")}]`),zc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Qf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Qf(t)).join(",")),`Target(${e})`}(ha(n))}; limitType=${n.limitType})`}function vm(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):gt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,h){const y=Lv(o,u,h);return o.inclusive?y<=0:y<0}(t.startAt,ql(t),r)||t.endAt&&!function(o,u,h){const y=Lv(o,u,h);return o.inclusive?y>=0:y>0}(t.endAt,ql(t),r)));var t,r}function tD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kb(n){return(e,t)=>{let r=!1;for(const o of ql(n)){const u=wm(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function wm(n,e,t){const r=n.field.isKeyField()?gt.comparator(e.key,t.key):function(o,u,h){const y=u.data.field(o),E=h.data.field(o);return null!==y&&null!==E?Ul(y,E):St()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}function Pb(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kf(e)?"-0":e}}function Wc(n){return{integerValue:""+n}}function dh(n,e){return _b(e)?Wc(e):Pb(n,e)}class bm{constructor(){this._=void 0}}function tS(n,e,t){return n instanceof hh?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Kc?Lb(n,e):n instanceof Gl?$v(n,e):function(r,o){const u=Fb(r,o),h=rp(u)+rp(r.k);return mm(u)&&mm(r.k)?Wc(h):Pb(r.M,h)}(n,e)}function Ob(n,e,t){return n instanceof Kc?Lb(n,e):n instanceof Gl?$v(n,e):t}function Fb(n,e){return n instanceof zl?mm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class hh extends bm{}class Kc extends bm{constructor(e){super(),this.elements=e}}function Lb(n,e){const t=fh(e);for(const r of n.elements)t.some(o=>Na(o,r))||t.push(r);return{arrayValue:{values:t}}}class Gl extends bm{constructor(e){super(),this.elements=e}}function $v(n,e){let t=fh(e);for(const r of n.elements)t=t.filter(o=>!Na(o,r));return{arrayValue:{values:t}}}class zl extends bm{constructor(e,t){super(),this.M=e,this.k=t}}function rp(n){return xr(n.integerValue||n.doubleValue)}function fh(n){return Bl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ip{constructor(e,t){this.field=e,this.transform=t}}class Ub{constructor(e,t){this.version=e,this.transformResults=t}}class _i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Em(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ph{}function nD(n,e,t){n instanceof gh?function(r,o,u){const h=r.value.clone(),y=qv(r.fieldTransforms,o,u.transformResults);h.setAll(y),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof fa?function(r,o,u){if(!Em(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=qv(r.fieldTransforms,o,u.transformResults),y=o.data;y.setAll(iD(r)),y.setAll(h),o.convertToFoundDocument(u.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bb(n,e,t){var o;n instanceof gh?function(r,o,u){if(!Em(r.precondition,o))return;const h=r.value.clone(),y=Hb(r.fieldTransforms,u,o);h.setAll(y),o.convertToFoundDocument(Yc(o),h).setHasLocalMutations()}(n,e,t):n instanceof fa?function(r,o,u){if(!Em(r.precondition,o))return;const h=Hb(r.fieldTransforms,u,o),y=o.data;y.setAll(iD(r)),y.setAll(h),o.convertToFoundDocument(Yc(o),y).setHasLocalMutations()}(n,e,t):Em(n.precondition,o=e)&&o.convertToNoDocument(rn.min())}function rD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=Fb(r.transform,o||null);null!=u&&(null==t&&(t=os.empty()),t.set(r.field,u))}return t||null}function jb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&dr(t,r,(o,u)=>function Vb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Kc&&r instanceof Kc||t instanceof Gl&&r instanceof Gl?dr(t.elements,r.elements,Na):t instanceof zl&&r instanceof zl?Na(t.k,r.k):t instanceof hh&&r instanceof hh);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Yc(n){return n.isFoundDocument()?n.version:rn.min()}class gh extends ph{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class fa extends ph{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function iD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function qv(n,e,t){const r=new Map;un(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],h=u.transform,y=e.data.field(u.field);r.set(u.field,Ob(h,y,t[o]))}return r}function Hb(n,e,t){const r=new Map;for(const o of n){const u=o.transform,h=t.data.field(o.field);r.set(o.field,tS(u,h,e))}return r}class Im extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Cm extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class nS{constructor(e){this.count=e}}var di,Ln;function $b(n){switch(n){default:return St();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function qb(n){if(void 0===n)return ci("GRPC error has no .code"),Ne.UNKNOWN;switch(n){case di.OK:return Ne.OK;case di.CANCELLED:return Ne.CANCELLED;case di.UNKNOWN:return Ne.UNKNOWN;case di.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case di.INTERNAL:return Ne.INTERNAL;case di.UNAVAILABLE:return Ne.UNAVAILABLE;case di.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case di.NOT_FOUND:return Ne.NOT_FOUND;case di.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case di.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case di.ABORTED:return Ne.ABORTED;case di.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case di.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case di.DATA_LOSS:return Ne.DATA_LOSS;default:return St()}}(Ln=di||(di={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";class Zl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return xv(this.inner)}size(){return this.innerSize}}class hi{constructor(e,t){this.comparator=e,this.root=t||us.EMPTY}insert(e,t){return new hi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,us.BLACK,null,null))}remove(e){return new hi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dm(this.root,e,this.comparator,!0)}}class Dm{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class us{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:us.RED,this.left=null!=o?o:us.EMPTY,this.right=null!=u?u:us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new us(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return us.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}us.EMPTY=null,us.RED=!0,us.BLACK=!1,us.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(n,e,t,r,o){return this}insert(n,e,t){return new us(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rr{constructor(e){this.comparator=e,this.data=new hi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gb(this.data.getIterator())}getIteratorFrom(e){return new Gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rr(this.comparator);return t.data=e,t}}class Gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mh(n){return n.hasNext()?n.getNext():void 0}const sD=new hi(gt.comparator);function xs(){return sD}const zb=new hi(gt.comparator);function Tm(){return zb}function yh(){return new Zl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Zb=new hi(gt.comparator),Wb=new Rr(gt.comparator);function er(...n){let e=Wb;for(const t of n)e=e.add(t);return e}const oD=new Rr(mn);function sp(){return oD}class op{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,ap.createSynthesizedTargetChangeForCurrentChange(e,t)),new op(rn.min(),r,sp(),xs(),er())}}class ap{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ap(Ni.EMPTY_BYTE_STRING,t,er(),er(),er())}}class Am{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class Kb{constructor(e,t){this.targetId=e,this.$=t}}class _h{constructor(e,t,r=Ni.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Yb{constructor(){this.B=0,this.L=Qb(),this.U=Ni.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=er(),t=er(),r=er();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:St()}}),new ap(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Qb()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Gv{constructor(e){this.nt=e,this.st=new Map,this.it=xs(),this.rt=ka(),this.ot=new Rr(mn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:St()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(_m(u))if(0===r){const h=new gt(u.path);this.ct(t,h,Mr.newNoDocument(h,rn.min()))}else un(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,h)=>{const y=this.wt(h);if(y){if(u.current&&_m(y.target)){const E=new gt(y.target.path);null!==this.it.get(E)||this.It(h,E)||this.ct(h,E,Mr.newNoDocument(E,e))}u.j&&(t.set(h,u.H()),u.J())}});let r=er();this.rt.forEach((u,h)=>{let y=!0;h.forEachWhile(E=>{const x=this.wt(E);return!x||2===x.purpose||(y=!1,!1)}),y&&(r=r.add(u))}),this.it.forEach((u,h)=>h.setReadTime(e));const o=new op(e,t,this.ot,this.it,r);return this.it=xs(),this.rt=ka(),this.ot=new Rr(mn),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Yb,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Rr(mn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||it("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Yb),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function ka(){return new hi(gt.comparator)}function Qb(){return new hi(gt.comparator)}const zv={asc:"ASCENDING",desc:"DESCENDING"},up={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class aD{constructor(e,t){this.databaseId=e,this.N=t}}function lp(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jb(n,e){return n.N?e.toBase64():e.toUint8Array()}function Sm(n,e){return lp(n,e.toTimestamp())}function fi(n){return un(!!n),rn.fromTimestamp(function(e){const t=Ll(e);return new ni(t.seconds,t.nanos)}(n))}function Zv(n,e){return(t=n,new $n(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Xb(n){const e=$n.fromString(n);return un(lE(e)),e}function vh(n,e){return Zv(n.databaseId,e.path)}function Pa(n,e){const t=Xb(e);if(t.get(1)!==n.databaseId.projectId)throw new Ye(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ye(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new gt(eE(t))}function cp(n,e){return Zv(n.databaseId,e)}function Wv(n){const e=Xb(n);return 4===e.length?$n.emptyPath():eE(e)}function dp(n){return new $n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eE(n){return un(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uD(n,e,t){return{name:vh(n,e),fields:t.value.mapValue.fields}}function xm(n,e,t){const r=Pa(n,e.name),o=fi(e.updateTime),u=new os({mapValue:{fields:e.fields}}),h=Mr.newFoundDocument(r,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Qc(n,e){let t;if(e instanceof gh)t={update:uD(n,e.key,e.value)};else if(e instanceof Im)t={delete:vh(n,e.key)};else if(e instanceof fa)t={update:uD(n,e.key,e.data),updateMask:uE(e.fieldMask)};else{if(!(e instanceof Cm))return St();t={verify:vh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof hh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Gl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zl)return{fieldPath:u.field.canonicalString(),increment:h.k};throw St()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Sm(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:St()),t;var o}function hp(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?_i.updateTime(fi(o.updateTime)):void 0!==o.exists?_i.exists(o.exists):_i.none():_i.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,h){let y=null;"setToServerValue"in h?(un("REQUEST_TIME"===h.setToServerValue),y=new hh):"appendMissingElements"in h?y=new Kc(h.appendMissingElements.values||[]):"removeAllFromArray"in h?y=new Gl(h.removeAllFromArray.values||[]):"increment"in h?y=new zl(u,h.increment):St();const E=$i.fromServerFormat(h.fieldPath);return new ip(E,y)}(n,o)):[];var o;if(e.update){const o=Pa(n,e.update.name),u=new os({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new sh((e.updateMask.fieldPaths||[]).map(x=>$i.fromServerFormat(x)));return new fa(o,u,h,t,r)}return new gh(o,u,t,r)}if(e.delete){const o=Pa(n,e.delete);return new Im(o,t)}if(e.verify){const o=Pa(n,e.verify);return new Cm(o,t)}return St()}function nE(n,e){return{documents:[cp(n,e.path)]}}function rE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=cp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=cp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const x=E.map(F=>function(U){if("=="===U.op){if(bb(U.value))return{unaryFilter:{field:Jc(U.field),op:"IS_NAN"}};if(wb(U.value))return{unaryFilter:{field:Jc(U.field),op:"IS_NULL"}}}else if("!="===U.op){if(bb(U.value))return{unaryFilter:{field:Jc(U.field),op:"IS_NOT_NAN"}};if(wb(U.value))return{unaryFilter:{field:Jc(U.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jc(U.field),op:cD(U.op),value:U.value}}}(F));return 1===x.length?x[0]:{compositeFilter:{op:"AND",filters:x}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(x=>{return{field:Jc((F=x).field),direction:oE(F.dir)};var F})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(x=e.limit,n.N||zc(x)?x:{value:x});var x,y,E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(y=e.startAt).inclusive,values:y.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function iE(n){let e=Wv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){un(1===r);const F=t.from[0];F.allDescendants?o=F.collectionId:e=e.child(F.collectionId)}let u=[];t.where&&(u=Mm(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(F=>{return new lh(Xc((U=F).field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let y=null;t.limit&&(y=function(F){let U;return U="object"==typeof F?F.value:F,zc(U)?null:U}(t.limit));let E=null;var F;t.startAt&&(E=new nl((F=t.startAt).values||[],!!F.before));let x=null;return t.endAt&&(x=function(F){return new nl(F.values||[],!F.before)}(t.endAt)),Nb(e,o,h,u,y,"F",E,x)}function Mm(n){return n?void 0!==n.unaryFilter?[aE(n)]:void 0!==n.fieldFilter?[dD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Mm(e)).reduce((e,t)=>e.concat(t)):St():[]}function oE(n){return zv[n]}function cD(n){return up[n]}function Jc(n){return{fieldPath:n.canonicalString()}}function Xc(n){return $i.fromServerFormat(n.fieldPath)}function dD(n){return as.create(Xc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(n.fieldFilter.op),n.fieldFilter.value)}function aE(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Xc(n.unaryFilter.field);return as.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Xc(n.unaryFilter.field);return as.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xc(n.unaryFilter.field);return as.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xc(n.unaryFilter.field);return as.create(o,"!=",{nullValue:"NULL_VALUE"});default:return St()}}function uE(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ms(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rs(e)),e=hD(n.get(t),e);return Rs(e)}function hD(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Rs(n){return n+"\x01\x01"}function Gs(n){const e=n.length;if(un(e>=2),2===e)return un("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),$n.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&St(),n.charAt(h+1)){case"\x01":const y=n.substring(u,h);let E;0===o.length?E=y:(o+=y,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,h),o+="\0";break;case"\x11":o+=n.substring(u,h+1);break;default:St()}u=h+2}return new $n(r)}const cE=["userId","batchId"];function Rm(n,e){return[n,Ms(e)]}function fD(n,e,t){return[n,Ms(e),t]}const fp={},pD=["prefixPath","collectionGroup","readTime","documentId"],Yv=["prefixPath","collectionGroup","documentId"],gD=["collectionGroup","readTime","prefixPath","documentId"],dE=["canonicalId","targetId"],mD=["targetId","path"],yD=["path","targetId"],Qv=["collectionId","parent"],hE=["indexId","uid"],fE=["uid","sequenceNumber"],Nm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Jv=["indexId","uid","orderedDocumentKey"],rS=["userId","collectionPath","documentId"],pE=["userId","collectionPath","largestBatchId"],_D=["userId","collectionGroup","largestBatchId"],Xv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],km=[...Xv,"documentOverlays"],e0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vD=[...e0,"indexConfiguration","indexState","indexEntries"],Pm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Om{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fe((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Fe?t:Fe.resolve(t)}catch(t){return Fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.reject(t)}static resolve(e){return new Fe((t,r)=>{t(e)})}static reject(e){return new Fe((t,r)=>{r(e)})}static waitFor(e){return new Fe((t,r)=>{let o=0,u=0,h=!1;e.forEach(y=>{++o,y.next(()=>{++u,h&&u===o&&t()},E=>r(E))}),h=!0,u===o&&t()})}static or(e){let t=Fe.resolve(!1);for(const r of e)t=t.next(o=>o?Fe.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class Fm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ss,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new wh(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=t0(r.target.error);this.At.reject(new wh(e,o))}}static open(e,t,r,o){try{return new Fm(t,e.transaction(o,r))}catch(u){throw new wh(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(it("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mE(t)}}class Oa{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===Oa.Vt((0,nn.z$)())&&ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return it("SimpleDb","Removing database:",e),Wl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,nn.hl)())return!1;if(Oa.St())return!0;const e=(0,nn.z$)(),t=Oa.Vt(e),r=0<t&&t<10,o=Oa.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Oe.Z)(function*(){return t.db||(it("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{r(h.target.result)},u.onblocked=()=>{o(new wh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const y=h.target.error;o("VersionError"===y.name?new Ye(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new Ye(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new wh(e,y))},u.onupgradeneeded=h=>{it("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.bt.kt(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{it("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,Oe.Z)(function*(){const h="readonly"===t;let y=0;for(;;){++y;try{u.db=yield u.Nt(e);const E=Fm.open(u.db,e,h?"readonly":"readwrite",r),x=o(E).next(F=>(E.Pt(),F)).catch(F=>(E.abort(F),Fe.reject(F))).toPromise();return x.catch(()=>{}),yield E.Rt,x}catch(E){const x="FirebaseError"!==E.name&&y<3;if(it("SimpleDb","Transaction failed with error:",E.message,"Retrying:",x),u.close(),!x)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gE{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Wl(this.Ft.delete())}}class wh extends Ye{constructor(e,t){super(Ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ed(n){return"IndexedDbTransactionError"===n.name}class mE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(it("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(it("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wl(r)}add(e){return it("SimpleDb","ADD",this.store.name,e,e),Wl(this.store.add(e))}get(e){return Wl(this.store.get(e)).next(t=>(void 0===t&&(t=null),it("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return it("SimpleDb","DELETE",this.store.name,e),Wl(this.store.delete(e))}count(){return it("SimpleDb","COUNT",this.store.name),Wl(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Kt(o,(h,y)=>{u.push(y)}).next(()=>u)}{const o=this.store.getAll(r.range);return new Fe((u,h)=>{o.onerror=y=>{h(y.target.error)},o.onsuccess=y=>{u(y.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Fe((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Qt(e,t){it("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(u,h,y)=>y.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}zt(e){const t=this.cursor({});return new Fe((r,o)=>{t.onerror=u=>{const h=t0(u.target.error);o(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(y=>{y?h.continue():r()}):r()}})}Kt(e,t){const r=[];return new Fe((o,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const y=h.target.result;if(!y)return void o();const E=new gE(y),x=t(y.primaryKey,y.value,E);if(x instanceof Fe){const F=x.catch(U=>(E.done(),Fe.reject(U)));r.push(F)}E.isDone?o():null===E.Lt?y.continue():y.continue(E.Lt)}}).next(()=>Fe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wl(n){return new Fe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=t0(r.target.error);t(o)}})}let yE=!1;function t0(n){const e=Oa.Vt((0,nn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yE||(yE=!0,setTimeout(()=>{throw r},0)),r}}return n}class n0 extends Om{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function qi(n,e){const t=vt(n);return Oa.xt(t.Ht,e)}class Lm{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&nD(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Bb(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Bb(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(rn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),er())}isEqual(e){return this.batchId===e.batchId&&dr(this.mutations,e.mutations,(t,r)=>jb(t,r))&&dr(this.baseMutations,e.baseMutations,(t,r)=>jb(t,r))}}class Vm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){un(e.mutations.length===r.length);let o=Zb;const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Vm(e,t,r,o)}}class Um{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class il{constructor(e,t,r,o,u=rn.min(),h=rn.min(),y=Ni.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=y}withSequenceNumber(e){return new il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new il(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class _E{constructor(e){this.Jt=e}}function bD(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:pp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:vh(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:lp(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bh(e.version)};else{if(!e.isUnknownDocument())return St();r.unknownDocument={path:t.path.toArray(),version:bh(e.version)}}var o,u;return r}function pp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function bh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Eh(n){const e=new ni(n.seconds,n.nanoseconds);return rn.fromTimestamp(e)}function gp(n,e){const t=(e.baseMutations||[]).map(u=>hp(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>hp(n.Jt,u)),o=ni.fromMillis(e.localWriteTimeMs);return new Lm(e.batchId,o,t,r)}function Bm(n){const e=Eh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Eh(n.lastLimboFreeSnapshotVersion):rn.min();let r;var o;return void 0!==n.query.documents?(un(1===(o=n.query).documents.length),r=ha($l(Wv(o.documents[0])))):r=ha(iE(n.query)),new il(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ni.fromBase64String(n.resumeToken))}function ED(n,e){const t=bh(e.snapshotVersion),r=bh(e.lastLimboFreeSnapshotVersion);let o;o=_m(e.target)?nE(n.Jt,e.target):rE(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Hl(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function vE(n){const e=iE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Bv(e,e.limit,"L"):e}function wE(n,e){return new Um(e.largestBatchId,hp(n.Jt,e.overlayMutation))}function ID(n,e){const t=e.path.lastSegment();return[n,Ms(e.path.popLast()),t]}class jm{getBundleMetadata(e,t){return CD(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Eh(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return CD(e).put({bundleId:(r=t).id,createTime:bh(fi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return r0(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:vE(o.bundledQuery),readTime:Eh(o.readTime)};var o})}saveNamedQuery(e,t){return r0(e).put({name:(r=t).name,readTime:bh(fi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function CD(n){return qi(n,"bundles")}function r0(n){return qi(n,"namedQueries")}class mp{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new mp(e,t.uid||"")}getOverlay(e,t){return Ih(e).get(ID(this.userId,t)).next(r=>r?wE(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,h)=>{const y=new Um(t,h);o.push(this.Xt(e,y))}),Fe.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(Ms(h.getCollectionPath())));const u=[];return o.forEach(h=>{const y=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);u.push(Ih(e).Qt("collectionPathOverlayIndex",y))}),Fe.waitFor(u)}getOverlaysForCollection(e,t,r){const o=yh(),u=Ms(t),h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Ih(e).qt("collectionPathOverlayIndex",h).next(y=>{for(const E of y){const x=wE(this.M,E);o.set(x.getKey(),x)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=yh();let h;const y=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ih(e).Wt({index:"collectionGroupOverlayIndex",range:y},(E,x,F)=>{const U=wE(this.M,x);u.size()<o||U.largestBatchId===h?(u.set(U.getKey(),U),h=U.largestBatchId):F.done()}).next(()=>u)}Xt(e,t){return Ih(e).put(function(r,o,u){const[h,y,E]=ID(o,u.mutation.key);return{userId:o,collectionPath:y,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Qc(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function Ih(n){return qi(n,"documentOverlays")}class Kl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(xr(e.integerValue));else if("doubleValue"in e){const r=xr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Kf(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Vl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Eb(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):St()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),gt.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function iS(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Hm(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=iS(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Kl.fe=new Kl;class bE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=Hm(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=Hm(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class DD{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class EE{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class $m{constructor(){this.De=new bE,this.Ce=new DD(this.De),this.xe=new EE(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Yl{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Yl(this.indexId,this.documentKey,this.arrayValue,r)}}function td(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=qm(n.arrayValue,e.arrayValue),0!==t?t:(t=qm(n.directionalValue,e.directionalValue),0!==t?t:gt.comparator(n.documentKey,e.documentKey)))}function qm(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class TD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=kv(e);if(void 0!==t&&!this.Be(t))return!1;const r=jl(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const h=r[o];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[u++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class sS{constructor(){this.qe=new IE}addToCollectionParentIndex(e,t){return this.qe.add(t),Fe.resolve()}getCollectionParents(e,t){return Fe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Fe.resolve()}deleteFieldIndex(e,t){return Fe.resolve()}getDocumentsMatchingTarget(e,t){return Fe.resolve(null)}getFieldIndex(e,t){return Fe.resolve(null)}getFieldIndexes(e,t){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}updateCollectionGroup(e,t,r){return Fe.resolve()}updateIndexEntries(e,t){return Fe.resolve()}}class IE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Rr($n.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Rr($n.comparator)).toArray()}}const yp=new Uint8Array(0);class AD{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new IE,this.Ge=new Zl(r=>Hl(r),(r,o)=>Xf(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:Ms(o)};return CE(e).put(u)}return Fe.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[BC(t),""],!1,!0);return CE(e).qt(o).next(u=>{for(const h of u){if(h.collectionId!==t)break;r.push(Gs(h.parent))}return r})}addFieldIndex(e,t){const r=s0(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=s0(e),o=Gm(e),u=_p(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=_p(e);let o=!0;const u=new Map;return Fe.forEach(this.Qe(t),h=>this.getFieldIndex(e,h).next(y=>{o&&(o=!!y),u.set(h,y)})).next(()=>{if(o){let h=er();const y=[];return Fe.forEach(u,(E,x)=>{var F;it("IndexedDbIndexManager",`Using index ${F=E,`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(Qt=>`${Qt.fieldPath}:${Qt.kind}`).join(",")}`} to execute ${Hl(t)}`);const U=function(Qt,Bt){const wn=kv(Bt);if(void 0===wn)return null;for(const Vn of uh(Qt,wn.fieldPath))switch(Vn.op){case"array-contains-any":return Vn.value.arrayValue.values||[];case"array-contains":return[Vn.value]}return null}(x,E),Y=function(Qt,Bt){const wn=new Map;for(const Vn of jl(Bt))for(const zi of uh(Qt,Vn.fieldPath))switch(zi.op){case"==":case"in":wn.set(Vn.fieldPath.canonicalString(),zi.value);break;case"not-in":case"!=":return wn.set(Vn.fieldPath.canonicalString(),zi.value),Array.from(wn.values())}return null}(x,E),ae=function(Qt,Bt){const wn=[];let Vn=!0;for(const zi of jl(Bt)){const La=0===zi.kind?Sb(Qt,zi.fieldPath,Qt.startAt):Fv(Qt,zi.fieldPath,Qt.startAt);if(!La.value)return null;wn.push(La.value),Vn&&(Vn=La.inclusive)}return new nl(wn,Vn)}(x,E),ye=function(Qt,Bt){const wn=[];let Vn=!0;for(const zi of jl(Bt)){const La=0===zi.kind?Fv(Qt,zi.fieldPath,Qt.endAt):Sb(Qt,zi.fieldPath,Qt.endAt);if(!La.value)return null;wn.push(La.value),Vn&&(Vn=La.inclusive)}return new nl(wn,Vn)}(x,E),nt=this.je(E,x,ae),ft=this.je(E,x,ye),fn=this.We(E,x,Y),pn=this.ze(E.indexId,U,nt,!!ae&&ae.inclusive,ft,!!ye&&ye.inclusive,fn);return Fe.forEach(pn,Qt=>r.Gt(Qt,t.limit).next(Bt=>{Bt.forEach(wn=>{const Vn=gt.fromSegments(wn.documentKey);h.has(Vn)||(h=h.add(Vn),y.push(Vn))})}))}).next(()=>y)}return Fe.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,o,u,h,y){const E=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),x=E/(null!=t?t.length:1),F=[];for(let U=0;U<E;++U){const Y=t?this.He(t[U/x]):yp,ae=r?this.Je(e,Y,r[U%x],o):this.Ye(e),ye=u?this.Xe(e,Y,u[U%x],h):this.Ye(e+1);F.push(...this.createRange(ae,ye,y.map(nt=>this.Je(e,Y,nt,!0))))}return F}Je(e,t,r,o){const u=new Yl(e,gt.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new Yl(e,gt.empty(),t,r);return o?u.ke():u}Ye(e){return new Yl(e,gt.empty(),yp,yp)}getFieldIndex(e,t){const r=new TD(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{const h=u.filter(y=>r.$e(y));return h.sort((y,E)=>E.fields.length-y.fields.length),h.length>0?h[0]:null})}Ze(e,t){const r=new $m;for(const o of jl(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const h=r.Ne(o.kind);Kl.fe.Zt(u,h)}return r.Se()}He(e){const t=new $m;return Kl.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new $m;return Kl.fe.Zt(oh(this.databaseId,t),r.Ne(function(o){const u=jl(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new $m);let u=0;for(const h of jl(e)){const y=r[u++];for(const E of o)if(this.en(t,h.fieldPath)&&Bl(y))o=this.nn(o,h,y);else{const x=E.Ne(h.kind);Kl.fe.Zt(y,x)}}return this.sn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const o=[...e],u=[];for(const h of r.arrayValue.values||[])for(const y of o){const E=new $m;E.seed(y.Se()),Kl.fe.Zt(h,E.Ne(t.kind)),u.push(E)}return u}en(e,t){return!!e.filters.find(r=>r instanceof as&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=s0(e),o=Gm(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const h=[];return Fe.forEach(u,y=>o.get([y.indexId,this.uid]).next(E=>{h.push(function(x,F){const U=F?new ah(F.sequenceNumber,new tl(Eh(F.readTime),new gt(Gs(F.documentKey)),F.largestBatchId)):ah.empty(),Y=x.fields.map(([ae,ye])=>new ym($i.fromServerFormat(ae),ye));return new el(x.indexId,x.collectionGroup,Y,U)}(y,E))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:mn(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=s0(e),u=Gm(e);return this.rn(e).next(h=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(y=>Fe.forEach(y,E=>{return u.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:bh((Y=r).readTime),documentKey:Ms(Y.documentKey.path),largestBatchId:Y.largestBatchId});var Y})))}updateIndexEntries(e,t){const r=new Map;return Fe.forEach(t,(o,u)=>{const h=r.get(o.collectionGroup);return(h?Fe.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(y=>(r.set(o.collectionGroup,y),Fe.forEach(y,E=>this.on(e,o,E).next(x=>{const F=this.un(u,E);return x.isEqual(F)?Fe.resolve():this.an(e,u,E,x,F)}))))})}cn(e,t,r,o){return _p(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,o){return _p(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const o=_p(e);let u=new Rr(td);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(h,y)=>{u=u.add(new Yl(r.indexId,t,y.arrayValue,y.directionalValue))}).next(()=>u)}un(e,t){let r=new Rr(td);const o=this.Ze(t,e);if(null==o)return r;const u=kv(t);if(null!=u){const h=e.data.field(u.fieldPath);if(Bl(h))for(const y of h.arrayValue.values||[])r=r.add(new Yl(t.indexId,e.key,this.He(y),o))}else r=r.add(new Yl(t.indexId,e.key,yp,o));return r}an(e,t,r,o,u){it("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(y,E,x,F,U){const Y=y.getIterator(),ae=E.getIterator();let ye=mh(Y),nt=mh(ae);for(;ye||nt;){let ft=!1,fn=!1;if(ye&&nt){const pn=x(ye,nt);pn<0?fn=!0:pn>0&&(ft=!0)}else null!=ye?fn=!0:ft=!0;ft?(F(nt),nt=mh(ae)):fn?(U(ye),ye=mh(Y)):(ye=mh(Y),nt=mh(ae))}}(o,u,td,y=>{h.push(this.cn(e,t,r,y))},y=>{h.push(this.hn(e,t,r,y))}),Fe.waitFor(h)}rn(e){let t=1;return Gm(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,y)=>td(h,y)).filter((h,y,E)=>!y||0!==td(h,E[y-1]));const o=[];o.push(e);for(const h of r){const y=td(h,e),E=td(h,t);if(0===y)o[0]=e.ke();else if(y>0&&E<0)o.push(h),o.push(h.ke());else if(E>0)break}o.push(t);const u=[];for(let h=0;h<o.length;h+=2)u.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,yp,[]],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,yp,[]]));return u}}function CE(n){return qi(n,"collectionParents")}function _p(n){return qi(n,"indexEntries")}function s0(n){return qi(n,"indexConfiguration")}function Gm(n){return qi(n,"indexState")}const zm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mo(e,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function pa(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],h=IDBKeyRange.only(t.batchId);let y=0;const E=r.Wt({range:h},(F,U,Y)=>(y++,Y.delete()));u.push(E.next(()=>{un(1===y)}));const x=[];for(const F of t.mutations){const U=fD(e,F.key.path,t.batchId);u.push(o.delete(U)),x.push(F.key)}return Fe.waitFor(u).next(()=>x)}function Zm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw St();e=n.noDocument}return JSON.stringify(e).length}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class vp{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.ln={}}static Yt(e,t,r,o){un(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new vp(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ql(e).Wt({index:"userMutationsIndex",range:r},(o,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Jl(e),h=Ql(e);return h.add({}).next(y=>{un("number"==typeof y);const E=new Lm(y,t,r,o),x=function(Y,ae,ye){const nt=ye.baseMutations.map(fn=>Qc(Y.Jt,fn)),ft=ye.mutations.map(fn=>Qc(Y.Jt,fn));return{userId:ae,batchId:ye.batchId,localWriteTimeMs:ye.localWriteTime.toMillis(),baseMutations:nt,mutations:ft}}(this.M,this.userId,E),F=[];let U=new Rr((Y,ae)=>mn(Y.canonicalString(),ae.canonicalString()));for(const Y of o){const ae=fD(this.userId,Y.key.path,y);U=U.add(Y.key.path.popLast()),F.push(h.put(x)),F.push(u.put(ae,fp))}return U.forEach(Y=>{F.push(this.indexManager.addToCollectionParentIndex(e,Y))}),e.addOnCommittedListener(()=>{this.ln[y]=E.keys()}),Fe.waitFor(F).next(()=>E)})}lookupMutationBatch(e,t){return Ql(e).get(t).next(r=>r?(un(r.userId===this.userId),gp(this.M,r)):null)}fn(e,t){return this.ln[t]?Fe.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.ln[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Ql(e).Wt({index:"userMutationsIndex",range:o},(h,y,E)=>{y.userId===this.userId&&(un(y.batchId>=r),u=gp(this.M,y)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ql(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,h)=>{r=u.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ql(e).qt("userMutationsIndex",t).next(r=>r.map(o=>gp(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Rm(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Jl(e).Wt({range:o},(h,y,E)=>{const[x,F,U]=h,Y=Gs(F);if(x===this.userId&&t.path.isEqual(Y))return Ql(e).get(U).next(ae=>{if(!ae)throw St();un(ae.userId===this.userId),u.push(gp(this.M,ae))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rr(mn);const o=[];return t.forEach(u=>{const h=Rm(this.userId,u.path),y=IDBKeyRange.lowerBound(h),E=Jl(e).Wt({range:y},(x,F,U)=>{const[Y,ae,ye]=x,nt=Gs(ae);Y===this.userId&&u.path.isEqual(nt)?r=r.add(ye):U.done()});o.push(E)}),Fe.waitFor(o).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Rm(this.userId,r),h=IDBKeyRange.lowerBound(u);let y=new Rr(mn);return Jl(e).Wt({range:h},(E,x,F)=>{const[U,Y,ae]=E,ye=Gs(Y);U===this.userId&&r.isPrefixOf(ye)?ye.length===o&&(y=y.add(ae)):F.done()}).next(()=>this.dn(e,y))}dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Ql(e).get(u).next(h=>{if(null===h)throw St();un(h.userId===this.userId),r.push(gp(this.M,h))}))}),Fe.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return pa(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Fe.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Fe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Jl(e).Wt({range:r},(u,h,y)=>{if(u[0]===this.userId){const E=Gs(u[1]);o.push(E)}else y.done()}).next(()=>{un(0===o.length)})})}containsKey(e,t){return DE(e,this.userId,t)}wn(e){return o0(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DE(n,e,t){const r=Rm(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return Jl(n).Wt({range:u,jt:!0},(y,E,x)=>{const[F,U,Y]=y;F===e&&U===o&&(h=!0),x.done()}).next(()=>h)}function Ql(n){return qi(n,"mutations")}function Jl(n){return qi(n,"documentMutations")}function o0(n){return qi(n,"mutationQueues")}class Xl{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Xl(0)}static yn(){return new Xl(-1)}}class SD{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Xl(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>rn.fromTimestamp(new ni(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.In(e,o)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>nd(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(un(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return nd(e).Wt((h,y)=>{const E=Bm(y);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>Fe.waitFor(u)).next(()=>o)}forEachTarget(e,t){return nd(e).Wt((r,o)=>{const u=Bm(o);t(u)})}pn(e){return TE(e).get("targetGlobalKey").next(t=>(un(null!==t),t))}In(e,t){return TE(e).put("targetGlobalKey",t)}Tn(e,t){return nd(e).put(ED(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Hl(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return nd(e).Wt({range:o,index:"queryTargetsIndex"},(h,y,E)=>{const x=Bm(y);Xf(t,x.target)&&(u=x,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=ec(e);return t.forEach(h=>{const y=Ms(h.path);o.push(u.put({targetId:r,path:y})),o.push(this.referenceDelegate.addReference(e,r,h))}),Fe.waitFor(o)}removeMatchingKeys(e,t,r){const o=ec(e);return Fe.forEach(t,u=>{const h=Ms(u.path);return Fe.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=ec(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=ec(e);let u=er();return o.Wt({range:r,jt:!0},(h,y,E)=>{const x=Gs(h[1]),F=new gt(x);u=u.add(F)}).next(()=>u)}containsKey(e,t){const r=Ms(t.path),o=IDBKeyRange.bound([r],[BC(r)],!1,!0);let u=0;return ec(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([h,y],E,x)=>{0!==h&&(u++,x.done())}).next(()=>u>0)}Et(e,t){return nd(e).get(t).next(r=>r?Bm(r):null)}}function nd(n){return qi(n,"targets")}function TE(n){return qi(n,"targetGlobal")}function ec(n){return qi(n,"targetDocuments")}function rd(n){return wp.apply(this,arguments)}function wp(){return wp=(0,Oe.Z)(function*(n){if(n.code!==Ne.FAILED_PRECONDITION||n.message!==Pm)throw n;it("LocalStore","Unexpectedly lost primary lease")}),wp.apply(this,arguments)}function ga([n,e],[t,r]){const o=mn(n,t);return 0===o?mn(e,r):o}class xD{constructor(e){this.An=e,this.buffer=new Rr(ga),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ga(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oS{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;it("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Oe.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){ed(o)?it("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield rd(o)}yield t.Sn(e)}))}}class MD{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Fe.resolve(Ss.A);const r=new xD(t);return this.Dn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Dn.xn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(zm)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zm):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,o,u,h,y,E,x;const F=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),o=this.params.maximumSequenceNumbersToCollect):o=U,h=Date.now(),this.nthSequenceNumber(e,o))).next(U=>(r=U,y=Date.now(),this.removeTargets(e,r,t))).next(U=>(u=U,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(U=>(x=Date.now(),hm()<=Vu.in.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-F}ms\n\tDetermined least recently used ${o} in `+(y-h)+`ms\n\tRemoved ${u} targets in `+(E-y)+`ms\n\tRemoved ${U} documents in `+(x-E)+`ms\nTotal Duration: ${x-F}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:U})))}}class AE{constructor(e,t){this.db=e,this.garbageCollector=new MD(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,o)=>t(o))}addReference(e,t,r){return Wm(e,r)}removeReference(e,t,r){return Wm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Wm(e,t)}On(e,t){return function(r,o){let u=!1;return o0(r).zt(h=>DE(r,h,o).next(y=>(y&&(u=!0),Fe.resolve(!y)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Mn(e,(h,y)=>{if(y<=t){const E=this.On(e,h).next(x=>{if(!x)return u++,r.getEntry(e,h).next(()=>(r.removeEntry(h,rn.min()),ec(e).delete([0,Ms(h.path)])))});o.push(E)}}).next(()=>Fe.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Wm(e,t)}Mn(e,t){const r=ec(e);let o,u=Ss.A;return r.Wt({index:"documentTargetsIndex"},([h,y],{path:E,sequenceNumber:x})=>{0===h?(u!==Ss.A&&t(new gt(Gs(o)),u),u=x,o=E):u=Ss.A}).next(()=>{u!==Ss.A&&t(new gt(Gs(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wm(n,e){return ec(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ms(e.path),sequenceNumber:r}));var r}class SE{constructor(){this.changes=new Zl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xE{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return tc(e).put(r)}removeEntry(e,t,r){return tc(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],pp(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Mr.newInvalidDocument(t);return tc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(bp(t))},(o,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:Mr.newInvalidDocument(t)};return tc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(bp(t))},(o,u)=>{r={document:this.$n(t,u),size:Zm(u)}}).next(()=>r)}getEntries(e,t){let r=xs();return this.Ln(e,t,(o,u)=>{const h=this.$n(o,u);r=r.insert(o,h)}).next(()=>r)}Un(e,t){let r=xs(),o=new hi(gt.comparator);return this.Ln(e,t,(u,h)=>{const y=this.$n(u,h);r=r.insert(u,y),o=o.insert(u,Zm(h))}).next(()=>({documents:r,qn:o}))}Ln(e,t,r){if(t.isEmpty())return Fe.resolve();let o=new Rr(RE);t.forEach(E=>o=o.add(E));const u=IDBKeyRange.bound(bp(o.first()),bp(o.last())),h=o.getIterator();let y=h.getNext();return tc(e).Wt({index:"documentKeyIndex",range:u},(E,x,F)=>{const U=gt.fromSegments([...x.prefixPath,x.collectionGroup,x.documentId]);for(;y&&RE(y,U)<0;)r(y,null),y=h.getNext();y&&y.isEqual(U)&&(r(y,x),y=h.hasNext()?h.getNext():null),y?F.Ut(bp(y)):F.done()}).next(()=>{for(;y;)r(y,null),y=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),pp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tc(e).qt(IDBKeyRange.bound(o,u,!0)).next(h=>{let y=xs();for(const E of h){const x=this.$n(gt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);y=y.insert(x.key,x)}return y})}getAllFromCollectionGroup(e,t,r,o){let u=xs();const h=ME(t,r),y=ME(t,tl.max());return tc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,y,!0)},(E,x,F)=>{const U=this.$n(gt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);u=u.insert(U.key,U),u.size===o&&F.done()}).next(()=>u)}newChangeBuffer(e){return new RD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ND(e).get("remoteDocumentGlobalKey").next(t=>(un(!!t),t))}Fn(e,t){return ND(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function wD(n,e){let t;if(e.document)t=xm(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=gt.fromSegments(e.noDocument.path),o=Eh(e.noDocument.readTime);t=Mr.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return St();{const r=gt.fromSegments(e.unknownDocument.path),o=Eh(e.unknownDocument.version);t=Mr.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new ni(r[0],r[1]);return rn.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(rn.min()))return r}return Mr.newInvalidDocument(e)}}class RD extends SE{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Zl(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Rr((u,h)=>mn(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const y=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,y.readTime)),h.isValidDocument()){const E=bD(this.Kn.M,h);o=o.add(u.path.popLast()),r+=Zm(E)-y.size,t.push(this.Kn.addEntry(e,u,E))}else if(r-=y.size,this.trackRemovals){const E=bD(this.Kn.M,h.convertToNoDocument(rn.min()));t.push(this.Kn.addEntry(e,u,E))}}),o.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),Fe.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:o})=>(o.forEach((u,h)=>{this.Gn.set(u,{size:h,readTime:r.get(u).readTime})}),r))}}function ND(n){return qi(n,"remoteDocumentGlobal")}function tc(n){return qi(n,"remoteDocumentsV14")}function bp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ME(n,e){const t=e.documentKey.path.toArray();return[n,pp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function RE(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=mn(t[u],r[u]),o)return o;return o=mn(t.length,r.length),o||(o=mn(t[t.length-2],r[r.length-2]),o||mn(t[t.length-1],r[r.length-1]))}class NE{constructor(e){this.M=e}kt(e,t,r,o){const u=new Fm("createOrUpgrade",t);var y;r<1&&o>=1&&(e.createObjectStore("owner"),(y=e).createObjectStore("mutationQueues",{keyPath:"userId"}),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cE,{unique:!0}),y.createObjectStore("documentMutations"),Km(e),function(y){y.createObjectStore("remoteDocuments")}(e));let h=Fe.resolve();return r<3&&o>=3&&(0!==r&&(function(y){y.deleteObjectStore("targetDocuments"),y.deleteObjectStore("targets"),y.deleteObjectStore("targetGlobal")}(e),Km(e)),h=h.next(()=>function(y){const E=y.store("targetGlobal"),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rn.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",x)}(u))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(y,E){return E.store("mutations").qt().next(x=>{y.deleteObjectStore("mutations"),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cE,{unique:!0});const F=E.store("mutations"),U=x.map(Y=>F.put(Y));return Fe.waitFor(U)})}(e,u))),h=h.next(()=>{!function(y){y.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Qn(u))),r<6&&o>=6&&(h=h.next(()=>(function(y){y.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&o>=7&&(h=h.next(()=>this.Wn(u))),r<8&&o>=8&&(h=h.next(()=>this.zn(e,u))),r<9&&o>=9&&(h=h.next(()=>{!function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.Hn(u))),r<11&&o>=11&&(h=h.next(()=>{(function(y){y.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(y){y.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(y){const E=y.createObjectStore("documentOverlays",{keyPath:rS});E.createIndex("collectionPathOverlayIndex",pE,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",_D,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(y){const E=y.createObjectStore("remoteDocumentsV14",{keyPath:pD});E.createIndex("documentKeyIndex",Yv),E.createIndex("collectionGroupIndex",gD)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>{!function(y){y.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),y.createObjectStore("indexState",{keyPath:hE}).createIndex("sequenceNumberIndex",fE,{unique:!1}),y.createObjectStore("indexEntries",{keyPath:Nm}).createIndex("documentKeyIndex",Jv,{unique:!1})}(e)})),h}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=Zm(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>Fe.forEach(o,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",h).next(y=>Fe.forEach(y,E=>{un(E.userId===u.userId);const x=gp(this.M,E);return pa(e,u.userId,x).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((h,y)=>{const E=new $n(h),x=[0,Ms(E)];u.push(t.get(x).next(F=>F?Fe.resolve():t.put({targetId:0,path:Ms(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Fe.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Qv});const r=t.store("collectionParents"),o=new IE,u=h=>{if(o.add(h)){const y=h.lastSegment(),E=h.popLast();return r.put({collectionId:y,parent:Ms(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,y)=>{const E=new $n(h);return u(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,y,E],x)=>{const F=Gs(y);return u(F.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=Bm(o),h=ED(this.M,u);return t.put(h)})}Jn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,h)=>{const y=t.store("remoteDocumentsV14"),E=(x=h,x.document?new gt($n.fromString(x.document.name).popFirst(5)):x.noDocument?gt.fromSegments(x.noDocument.path):x.unknownDocument?gt.fromSegments(x.unknownDocument.path):St()).path.toArray();var x;const F={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(y.put(F))}).next(()=>Fe.waitFor(o))}}function Km(n){n.createObjectStore("targetDocuments",{keyPath:mD}).createIndex("documentTargetsIndex",yD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",dE,{unique:!0}),n.createObjectStore("targetGlobal")}const Ep="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ym{constructor(e,t,r,o,u,h,y,E,x,F,U=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=h,this.document=y,this.Xn=x,this.Zn=F,this.ts=U,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Y=>Promise.resolve(),!Ym.vt())throw new Ye(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AE(this,o),this.hs=t+"main",this.M=new _E(E),this.ls=new Oa(this.hs,this.ts,new NE(this.M)),this.fs=new SD(this.referenceDelegate,this.M),this.ds=new xE(this.M),this._s=new jm,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===F&&ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ye(Ne.FAILED_PRECONDITION,Ep);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ss(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Oe.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Oe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Oe.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Cp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(ed(e))return it("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return it("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Ip(e).get("owner").next(t=>Fe.resolve(this.bs(t)))}Vs(e){return Cp(e).delete(this.clientId)}vs(){var e=this;return(0,Oe.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=qi(r,"clientMetadata");return o.qt().next(u=>{const h=e.Ds(u,18e5),y=u.filter(E=>-1===h.indexOf(E));return Fe.forEach(y,E=>o.delete(E.clientId)).next(()=>y)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Fe.resolve(!0):Ip(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ye(Ne.FAILED_PRECONDITION,Ep);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cp(e).qt().next(r=>void 0===this.Ds(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,y=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&it("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Oe.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new n0(t,Ss.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Cp(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return vp.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new AD(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return mp.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){it("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(h=this.ts)?vD:13===h?e0:12===h?km:11===h?Xv:void St();var h;let y;return this.ls.runTransaction(e,o,u,E=>(y=new n0(E,this.es?this.es.next():Ss.A),"readwrite-primary"===t?this.Es(y).next(x=>!!x||this.As(y)).next(x=>{if(!x)throw ci(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ye(Ne.FAILED_PRECONDITION,Pm);return r(y)}).next(x=>this.Ps(y).next(()=>x)):this.$s(y).next(()=>r(y)))).then(E=>(y.raiseOnCommittedEvent(),E))}$s(e){return Ip(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ye(Ne.FAILED_PRECONDITION,Ep)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ip(e).put("owner",t)}static vt(){return Oa.vt()}Rs(e){const t=Ip(e);return t.get("owner").next(r=>this.bs(r)?(it("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Fe.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(ci(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,nn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return it("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ci("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){ci("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ip(n){return qi(n,"owner")}function Cp(n){return qi(n,"clientMetadata")}function Qm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class kD{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}qs(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return gt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.js(e,t.path):Uv(t)?this.Ws(e,t,r):this.zs(e,t,r);var o}js(e,t){return this.Ls(e,new gt(t)).next(r=>{let o=Tm();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ws(e,t,r){const o=t.collectionGroup;let u=Tm();return this.indexManager.getCollectionParents(e,o).next(h=>Fe.forEach(h,y=>{const E=(x=t,F=y.child(o),new rl(F,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,F;return this.zs(e,E,r).next(x=>{x.forEach((F,U)=>{u=u.insert(F,U)})})}).next(()=>u))}zs(e,t,r){let o;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const h of u)for(const y of h.mutations){const E=y.key;let x=o.get(E);null==x&&(x=Mr.newInvalidDocument(E),o=o.insert(E,x)),Bb(y,x,h.localWriteTime),x.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((u,h)=>{vm(t,h)||(o=o.remove(u))}),o))}}class a0{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=o}static Ys(e,t){let r=er(),o=er();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new a0(e,t.fromCache,r,o)}}class PD{Xs(e){this.Zs=e}Qs(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(rn.min())?this.ti(e,t):this.Zs.Ks(e,o).next(u=>{const h=this.ei(t,u);return(ch(t)||ep(t))&&this.ni(t.limitType,h,o,r)?this.ti(e,t):(hm()<=Vu.in.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hv(t)),this.Zs.Qs(e,t,Tb(r,-1)).next(y=>(h.forEach(E=>{y=y.insert(E.key,E)}),y)))});var u}ei(e,t){let r=new Rr(kb(e));return t.forEach((o,u)=>{vm(e,u)&&(r=r.add(u))}),r}ni(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ti(e,t){return hm()<=Vu.in.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Hv(t)),this.Zs.Qs(e,t,tl.min())}}class aS{constructor(e,t,r,o){this.persistence=e,this.si=t,this.M=o,this.ii=new hi(mn),this.ri=new Zl(u=>Hl(u),Xf),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new kD(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function u0(n,e,t,r){return new aS(n,e,t,r)}function kE(n,e){return l0.apply(this,arguments)}function l0(){return l0=(0,Oe.Z)(function*(n,e){const t=vt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.Bs.getAllMutationBatches(r).next(u=>(o=u,t.ai(e),t.Bs.getAllMutationBatches(r))).next(u=>{const h=[],y=[];let E=er();for(const x of o){h.push(x.batchId);for(const F of x.mutations)E=E.add(F.key)}for(const x of u){y.push(x.batchId);for(const F of x.mutations)E=E.add(F.key)}return t.ci.Ks(r,E).next(x=>({hi:x,removedBatchIds:h,addedBatchIds:y}))})})}),l0.apply(this,arguments)}function OD(n,e){const t=vt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.ui.newChangeBuffer({trackRemovals:!0});return function(h,y,E,x){const F=E.batch,U=F.keys();let Y=Fe.resolve();return U.forEach(ae=>{Y=Y.next(()=>x.getEntry(y,ae)).next(ye=>{const nt=E.docVersions.get(ae);un(null!==nt),ye.version.compareTo(nt)<0&&(F.applyToRemoteDocument(ye,E),ye.isValidDocument()&&(ye.setReadTime(E.commitVersion),x.addEntry(ye)))})}),Y.next(()=>h.Bs.removeMutationBatch(y,F))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,o))})}function FD(n){const e=vt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function uS(n,e){const t=vt(n),r=e.snapshotVersion;let o=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ui.newChangeBuffer({trackRemovals:!0});o=t.ii;const y=[];e.targetChanges.forEach((x,F)=>{const U=o.get(F);if(!U)return;y.push(t.fs.removeMatchingKeys(u,x.removedDocuments,F).next(()=>t.fs.addMatchingKeys(u,x.addedDocuments,F)));let Y=U.withSequenceNumber(u.currentSequenceNumber);var ae,ye,nt;e.targetMismatches.has(F)?Y=Y.withResumeToken(Ni.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):x.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(x.resumeToken,r)),o=o.insert(F,Y),ye=Y,nt=x,(0===(ae=U).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0)&&y.push(t.fs.updateTargetData(u,Y))});let E=xs();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(u,x))}),y.push(LD(u,h,e.documentUpdates).next(x=>{E=x})),!r.isEqual(rn.min())){const x=t.fs.getLastRemoteSnapshotVersion(u).next(F=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));y.push(x)}return Fe.waitFor(y).next(()=>h.apply(u)).next(()=>t.ci.Gs(u,E)).next(()=>E)}).then(u=>(t.ii=o,u))}function LD(n,e,t){let r=er();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=xs();return t.forEach((h,y)=>{const E=o.get(h);y.isNoDocument()&&y.version.isEqual(rn.min())?(e.removeEntry(h,y.readTime),u=u.insert(h,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),u=u.insert(h,y)):it("LocalStore","Ignoring outdated watch update for ",h,". Current version:",E.version," Watch version:",y.version)}),u})}function lS(n,e){const t=vt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Dp(n,e){const t=vt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.fs.getTargetData(r,e).next(u=>u?(o=u,Fe.resolve(o)):t.fs.allocateTargetId(r).next(h=>(o=new il(e,h,0,r.currentSequenceNumber),t.fs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.ii.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Ch(n,e,t){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,Oe.Z)(function*(n,e,t){const r=vt(n),o=r.ii.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ed(h))throw h;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.ii=r.ii.remove(e),r.ri.delete(o.target)}),Dh.apply(this,arguments)}function Jm(n,e,t){const r=vt(n);let o=rn.min(),u=er();return r.persistence.runTransaction("Execute query","readonly",h=>function(y,E,x){const F=vt(y),U=F.ri.get(x);return void 0!==U?Fe.resolve(F.ii.get(U)):F.fs.getTargetData(E,x)}(r,h,ha(e)).next(y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(h,y.targetId).next(E=>{u=E})}).next(()=>r.si.Qs(h,e,t?o:rn.min(),t?u:er())).next(y=>(nc(r,tD(e),y),{documents:y,li:u})))}function PE(n,e){const t=vt(n),r=vt(t.fs),o=t.ii.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(h=>h?h.target:null))}function c0(n,e){const t=vt(n),r=t.oi.get(e)||rn.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.ui.getAllFromCollectionGroup(o,e,Tb(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(nc(t,e,o),o))}function nc(n,e,t){let r=rn.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.oi.set(e,r)}function Tp(){return Tp=(0,Oe.Z)(function*(n,e,t,r){const o=vt(n);let u=er(),h=xs();for(const x of t){const F=e.fi(x.metadata.name);x.document&&(u=u.add(F));const U=e.di(x);U.setReadTime(e._i(x.metadata.readTime)),h=h.insert(F,U)}const y=o.ui.newChangeBuffer({trackRemovals:!0}),E=yield Dp(o,(x=r,ha($l($n.fromString(`__bundle__/docs/${x}`)))));var x;return o.persistence.runTransaction("Apply bundle documents","readwrite",x=>LD(x,y,h).next(F=>(y.apply(x),F)).next(F=>o.fs.removeMatchingKeysForTargetId(x,E.targetId).next(()=>o.fs.addMatchingKeys(x,u,E.targetId)).next(()=>o.ci.Gs(x,F)).next(()=>F)))}),Tp.apply(this,arguments)}function d0(n,e){return h0.apply(this,arguments)}function h0(){return h0=(0,Oe.Z)(function*(n,e,t=er()){const r=yield Dp(n,ha(vE(e.bundledQuery))),o=vt(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const h=fi(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o._s.saveNamedQuery(u,e);const y=r.withResumeToken(Ni.EMPTY_BYTE_STRING,h);return o.ii=o.ii.insert(y.targetId,y),o.fs.updateTargetData(u,y).next(()=>o.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.fs.addMatchingKeys(u,t,r.targetId)).next(()=>o._s.saveNamedQuery(u,e))})}),h0.apply(this,arguments)}class f0{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return Fe.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:fi(r.createTime)}),Fe.resolve()}getNamedQuery(e,t){return Fe.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:vE(r.bundledQuery),readTime:fi(r.readTime)}),Fe.resolve();var r}}class p0{constructor(){this.overlays=new hi(gt.comparator),this.gi=new Map}getOverlay(e,t){return Fe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),Fe.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.gi.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.gi.delete(r)),Fe.resolve()}getOverlaysForCollection(e,t,r){const o=yh(),u=t.length+1,h=new gt(t.child("")),y=this.overlays.getIteratorFrom(h);for(;y.hasNext();){const E=y.getNext().value,x=E.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return Fe.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new hi((x,F)=>x-F);const h=this.overlays.getIterator();for(;h.hasNext();){const x=h.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>r){let F=u.get(x.largestBatchId);null===F&&(F=yh(),u=u.insert(x.largestBatchId,F)),F.set(x.getKey(),x)}}const y=yh(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((x,F)=>y.set(x,F)),!(y.size()>=o)););return Fe.resolve(y)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const h=this.gi.get(o.largestBatchId).delete(r.key);this.gi.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new Um(t,r));let u=this.gi.get(t);void 0===u&&(u=er(),this.gi.set(t,u)),this.gi.set(t,u.add(r.key))}}class Th{constructor(){this.yi=new Rr(ls.pi),this.Ii=new Rr(ls.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new ls(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new ls(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new gt(new $n([])),r=new ls(t,e),o=new ls(t,e+1),u=[];return this.Ii.forEachInRange([r,o],h=>{this.Ai(h),u.push(h.key)}),u}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new gt(new $n([])),r=new ls(t,e),o=new ls(t,e+1);let u=er();return this.Ii.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new ls(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ls{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return gt.comparator(e.key,t.key)||mn(e.vi,t.vi)}static Ti(e,t){return mn(e.vi,t.vi)||gt.comparator(e.key,t.key)}}class cS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Rr(ls.pi)}checkEmpty(e){return Fe.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,o){const u=this.Si;this.Si++;const h=new Lm(u,t,r,o);this.Bs.push(h);for(const y of o)this.Di=this.Di.add(new ls(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Fe.resolve(h)}lookupMutationBatch(e,t){return Fe.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.xi(t+1),u=o<0?0:o;return Fe.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return Fe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ls(t,0),o=new ls(t,Number.POSITIVE_INFINITY),u=[];return this.Di.forEachInRange([r,o],h=>{const y=this.Ci(h.vi);u.push(y)}),Fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rr(mn);return t.forEach(o=>{const u=new ls(o,0),h=new ls(o,Number.POSITIVE_INFINITY);this.Di.forEachInRange([u,h],y=>{r=r.add(y.vi)})}),Fe.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;gt.isDocumentKey(u)||(u=u.child(""));const h=new ls(new gt(u),0);let y=new Rr(mn);return this.Di.forEachWhile(E=>{const x=E.key.path;return!!r.isPrefixOf(x)&&(x.length===o&&(y=y.add(E.vi)),!0)},h),Fe.resolve(this.Ni(y))}Ni(e){const t=[];return e.forEach(r=>{const o=this.Ci(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){un(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return Fe.forEach(t.mutations,o=>{const u=new ls(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new ls(t,0),o=this.Di.firstAfterOrEqual(r);return Fe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Fe.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class dS{constructor(e){this.Mi=e,this.docs=new hi(gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,h=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Fe.resolve(r?r.document.mutableCopy():Mr.newInvalidDocument(t))}getEntries(e,t){let r=xs();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Mr.newInvalidDocument(o))}),Fe.resolve(r)}getAllFromCollection(e,t,r){let o=xs();const u=new gt(t.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:y,value:{document:E}}=h.getNext();if(!t.isPrefixOf(y.path))break;y.path.length>t.length+1||Pv(Ab(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return Fe.resolve(o)}getAllFromCollectionGroup(e,t,r,o){St()}Oi(e,t){return Fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hS(this)}getSize(e){return Fe.resolve(this.size)}}class hS extends SE{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Kn.addEntry(e,o)):this.Kn.removeEntry(r)}),Fe.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class FE{constructor(e){this.persistence=e,this.Fi=new Zl(t=>Hl(t),Xf),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Th,this.targetCount=0,this.Li=Xl.gn()}forEachTarget(e,t){return this.Fi.forEach((r,o)=>t(o)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),Fe.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Xl(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Fe.resolve()}updateTargetData(e,t){return this.Tn(t),Fe.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Fi.forEach((h,y)=>{y.sequenceNumber<=t&&null===r.get(y.targetId)&&(this.Fi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)}),Fe.waitFor(u).next(()=>o)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return Fe.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),Fe.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Fe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),Fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return Fe.resolve(r)}containsKey(e,t){return Fe.resolve(this.Bi.containsKey(t))}}class VD{constructor(e,t){this.Ui={},this.overlays={},this.es=new Ss(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new FE(this),this.indexManager=new sS,this.ds=new dS(r=>this.referenceDelegate.qi(r)),this.M=new _E(t),this._s=new f0(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new p0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new cS(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){it("MemoryPersistence","Starting transaction:",e);const o=new UD(this.es.next());return this.referenceDelegate.Ki(),r(o).next(u=>this.referenceDelegate.Gi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Qi(e,t){return Fe.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class UD extends Om{constructor(e){super(),this.currentSequenceNumber=e}}class g0{constructor(e){this.persistence=e,this.ji=new Th,this.Wi=null}static zi(e){return new g0(e)}get Hi(){if(this.Wi)return this.Wi;throw St()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),Fe.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),Fe.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),Fe.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(o=>this.Hi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Hi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.Hi,r=>{const o=gt.fromPath(r);return this.Ji(e,o).next(u=>{u||t.removeEntry(o,rn.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return Fe.or([()=>Fe.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function LE(n,e){return`firestore_clients_${n}_${e}`}function m0(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Xm(n,e){return`firestore_targets_${n}_${e}`}class Ap{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Yi(e,t,r){const o=JSON.parse(r);let u,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new Ye(o.error.code,o.error.message))),h?new Ap(e,t,o.state,u):(ci("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ye(r.error.code,r.error.message))),u?new Sp(e,r.state,o):(ci("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ey{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=sp();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=_b(r.activeTargetIds[h]),u=u.add(r.activeTargetIds[h]);return o?new ey(e,u):(ci("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ty{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ty(t.clientId,t.onlineState):(ci("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xp{constructor(){this.activeTargetIds=sp()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VE{constructor(e,t,r,o,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new hi(mn),this.started=!1,this.rr=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ur=LE(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new xp),this.cr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(y){return`firestore_bundle_loaded_v2_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.syncEngine.Fs();for(const o of t){if(o===e.er)continue;const u=e.getItem(LE(e.persistenceKey,o));if(u){const h=ey.Yi(o,u);h&&(e.ir=e.ir.insert(h.clientId,h))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const o=e.mr(r);o&&e.gr(o)}for(const o of e.rr)e.sr(o);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Xm(this.persistenceKey,e));if(r){const o=Sp.Yi(e,r);o&&(t=o.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xm(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ir(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return it("SharedClientState","READ",e,t),t}setItem(e,t){it("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){it("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(it("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Oe.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Pr(r.key);return t.br(o,null)}{const o=t.Vr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Sr(o)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(r.key===t.dr){if(null!==r.newValue){const o=t.mr(r.newValue);if(o)return t.gr(o)}}else if(r.key===t.ar){const o=function(u){let h=Ss.A;if(null!=u)try{const y=JSON.parse(u);un("number"==typeof y),h=y}catch(y){ci("SharedClientState","Failed to read sequence number from WebStorage",y)}return h}(r.newValue);o!==Ss.A&&t.sequenceNumberHandler(o)}else if(r.key===t._r){const o=t.Nr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.kr(u)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const o=new Ap(this.currentUser,e,t,r),u=m0(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Xi())}Ir(e){const t=m0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const o=Xm(this.persistenceKey,e),u=new Sp(e,t,r);this.setItem(o,u.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return ey.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Ap.Yi(new Hi(void 0!==r[2]?r[2]:null),o,t)}Dr(e,t){const r=this.lr.exec(e),o=Number(r[1]);return Sp.Yi(o,t)}mr(e){return ty.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);it("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),o=this.yr(this.ir),u=this.yr(r),h=[],y=[];return u.forEach(E=>{o.has(E)||h.push(E)}),o.forEach(E=>{u.has(E)||y.push(E)}),this.syncEngine.Fr(h,y).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=sp();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class y0{constructor(){this.$r=new xp,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new xp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _0{Lr(e){}shutdown(){}}class UE{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class fS{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class pS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,o,u){const h=this.uo(e,t);it("RestConnection","Sending: ",h,r);const y={};return this.ao(y,o,u),this.co(e,h,y,r).then(E=>(it("RestConnection","Received: ",E),E),E=>{throw rh("RestConnection",`${e} failed with error: `,E,"url: ",h,"request:",r),E})}ho(e,t,r,o,u){return this.oo(e,t,r,o,u)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}uo(e,t){return`${this.io}/v1/${t}:${BD[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((u,h)=>{const y=new LC;y.listenOnce(PC.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Sv.NO_ERROR:const x=y.getResponseJson();it("Connection","XHR received:",JSON.stringify(x)),u(x);break;case Sv.TIMEOUT:it("Connection",'RPC "'+e+'" timed out'),h(new Ye(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case Sv.HTTP_ERROR:const F=y.getStatus();if(it("Connection",'RPC "'+e+'" failed with status:',F,"response text:",y.getResponseText()),F>0){const U=y.getResponseJson().error;if(U&&U.status&&U.message){const Y=function(ae){const ye=ae.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(ye)>=0?ye:Ne.UNKNOWN}(U.status);h(new Ye(Y,U.message))}else h(new Ye(Ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else h(new Ye(Ne.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{it("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);y.send(t,"POST",E,r,15)})}lo(e,t,r){const o=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=NC(),h=kC(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new FC({})),this.ao(y.initMessageHeaders,t,r),(0,nn.uI)()||(0,nn.b$)()||(0,nn.d)()||(0,nn.w1)()||(0,nn.Mn)()||(0,nn.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");it("Connection","Creating WebChannel: "+E,y);const x=u.createWebChannel(E,y);let F=!1,U=!1;const Y=new fS({Wr:ye=>{U?it("Connection","Not sending because WebChannel is closed:",ye):(F||(it("Connection","Opening WebChannel transport."),x.open(),F=!0),it("Connection","WebChannel sending:",ye),x.send(ye))},zr:()=>x.close()}),ae=(ye,nt,ft)=>{ye.listen(nt,fn=>{try{ft(fn)}catch(pn){setTimeout(()=>{throw pn},0)}})};return ae(x,dm.EventType.OPEN,()=>{U||it("Connection","WebChannel transport opened.")}),ae(x,dm.EventType.CLOSE,()=>{U||(U=!0,it("Connection","WebChannel transport closed"),Y.no())}),ae(x,dm.EventType.ERROR,ye=>{U||(U=!0,rh("Connection","WebChannel transport errored:",ye),Y.no(new Ye(Ne.UNAVAILABLE,"The operation could not be completed")))}),ae(x,dm.EventType.MESSAGE,ye=>{var nt;if(!U){const ft=ye.data[0];un(!!ft);const fn=ft,pn=fn.error||(null===(nt=fn[0])||void 0===nt?void 0:nt.error);if(pn){it("Connection","WebChannel received error:",pn);const Qt=pn.status;let Bt=function(Vn){const zi=di[Vn];if(void 0!==zi)return qb(zi)}(Qt),wn=pn.message;void 0===Bt&&(Bt=Ne.INTERNAL,wn="Unknown error status: "+Qt+" with message "+pn.message),U=!0,Y.no(new Ye(Bt,wn)),x.close()}else it("Connection","WebChannel received:",ft),Y.so(ft)}}),ae(h,OC.STAT_EVENT,ye=>{ye.stat===db.PROXY?it("Connection","Detected buffering proxy"):ye.stat===db.NOPROXY&&it("Connection","Detected no buffering proxy")}),setTimeout(()=>{Y.eo()},0),Y}}function BE(){return"undefined"!=typeof window?window:null}function ny(){return"undefined"!=typeof document?document:null}function ry(n){return new aD(n,!0)}class jE{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=o,this.wo=u,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),o=Math.max(0,t-r);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class jD{constructor(e,t,r,o,u,h,y,E){this.Yn=e,this.Ro=r,this.Po=o,this.bo=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=y,this.listener=E,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new jE(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Oe.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Oe.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,Oe.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===Ne.RESOURCE_EXHAUSTED?(ci(t.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===Ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Vo===t&&this.qo(r,o)},r=>{e(()=>{const o=new Ye(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(o)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(o=>{r(()=>this.Ko(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}No(){var e=this;this.state=5,this.Do.To((0,Oe.Z)(function*(){e.state=0,e.start()}))}Ko(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gS extends jD{constructor(e,t,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.M=u}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function tE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:St(),o=e.targetChange.targetIds||[],u=function(E,x){return E.N?(un(void 0===x||"string"==typeof x),Ni.fromBase64String(x||"")):(un(void 0===x||x instanceof Uint8Array),Ni.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,y=h&&function(E){const x=void 0===E.code?Ne.UNKNOWN:qb(E.code);return new Ye(x,E.message||"")}(h);t=new _h(r,o,u,y||null)}else if("documentChange"in e){const r=e.documentChange,o=Pa(n,r.document.name),u=fi(r.document.updateTime),h=new os({mapValue:{fields:r.document.fields}}),y=Mr.newFoundDocument(o,u,h);t=new Am(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,o=Pa(n,r.document),u=r.readTime?fi(r.readTime):rn.min(),h=Mr.newNoDocument(o,u);t=new Am([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Pa(n,r.document);t=new Am([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return St();{const r=e.filter,u=new nS(r.count||0);t=new Kb(r.targetId,u)}}var E;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return rn.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?rn.min():u.readTime?fi(u.readTime):rn.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=dp(this.M),t.addTarget=function(o,u){let h;const y=u.target;return h=_m(y)?{documents:nE(o,y)}:{query:rE(o,y)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=Jb(o,u.resumeToken):u.snapshotVersion.compareTo(rn.min())>0&&(h.readTime=lp(o,u.snapshotVersion.toTimestamp())),h}(this.M,e);const r=function sE(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return St()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=dp(this.M),t.removeTarget=e,this.Fo(t)}}class mS extends jD{constructor(e,t,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.M=u,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(un(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function lD(n,e){return n&&n.length>0?(un(void 0!==e),n.map(t=>function(r,o){let u=fi(r.updateTime?r.updateTime:o);return u.isEqual(rn.min())&&(u=fi(o)),new Ub(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=fi(e.commitTime);return this.listener.Yo(r,t)}return un(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=dp(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Qc(this.M,r))};this.Fo(t)}}class HD extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.tu=!1}eu(){if(this.tu)throw new Ye(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.oo(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ye(Ne.UNKNOWN,o.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ho(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ye(Ne.UNKNOWN,o.toString())})}terminate(){this.tu=!0}}class yS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(ci(t),this.iu=!1):it("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class _S{constructor(e,t,r,o,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=u,this._u.Lr(y=>{r.enqueueAndForget((0,Oe.Z)(function*(){var E;T(h)&&(it("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,Oe.Z)(function*(x){const F=vt(x);F.fu.add(4),yield i(F),F.wu.set("Unknown"),F.fu.delete(4),yield iy(F)}),function(x){return E.apply(this,arguments)})(h))}))}),this.wu=new yS(r,o)}}function iy(n){return HE.apply(this,arguments)}function HE(){return HE=(0,Oe.Z)(function*(n){if(T(n))for(const e of n.du)yield e(!0)}),HE.apply(this,arguments)}function i(n){return s.apply(this,arguments)}function s(){return s=(0,Oe.Z)(function*(n){for(const e of n.du)yield e(!1)}),s.apply(this,arguments)}function a(n,e){const t=vt(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),I(t)?v(t):oy(t).xo()&&d(t,e))}function l(n,e){const t=vt(n),r=oy(t);t.lu.delete(e),r.xo()&&g(t,e),0===t.lu.size&&(r.xo()?r.Mo():T(t)&&t.wu.set("Unknown"))}function d(n,e){n.mu.Z(e.targetId),oy(n).jo(e)}function g(n,e){n.mu.Z(e),oy(n).Wo(e)}function v(n){n.mu=new Gv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),oy(n).start(),n.wu.ru()}function I(n){return T(n)&&!oy(n).Co()&&n.lu.size>0}function T(n){return 0===vt(n).fu.size}function N(n){n.mu=void 0}function O(n){return q.apply(this,arguments)}function q(){return q=(0,Oe.Z)(function*(n){n.lu.forEach((e,t)=>{d(n,e)})}),q.apply(this,arguments)}function J(n,e){return ce.apply(this,arguments)}function ce(){return ce=(0,Oe.Z)(function*(n,e){N(n),I(n)?(n.wu.au(e),v(n)):n.wu.set("Unknown")}),ce.apply(this,arguments)}function Be(n,e,t){return st.apply(this,arguments)}function st(){return st=(0,Oe.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof _h&&2===e.state&&e.cause)try{yield(r=(0,Oe.Z)(function*(o,u){const h=u.cause;for(const y of u.targetIds)o.lu.has(y)&&(yield o.remoteSyncer.rejectListen(y,h),o.lu.delete(y),o.mu.removeTarget(y))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ht(n,r)}else if(e instanceof Am?n.mu.ut(e):e instanceof Kb?n.mu._t(e):n.mu.ht(e),!t.isEqual(rn.min()))try{const r=yield FD(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const h=o.mu.yt(u);return h.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const x=o.lu.get(E);x&&o.lu.set(E,x.withResumeToken(y.resumeToken,u))}}),h.targetMismatches.forEach(y=>{const E=o.lu.get(y);if(!E)return;o.lu.set(y,E.withResumeToken(Ni.EMPTY_BYTE_STRING,E.snapshotVersion)),g(o,y);const x=new il(E.target,y,1,E.sequenceNumber);d(o,x)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){it("RemoteStore","Failed to raise snapshot:",r),yield ht(n,r)}var r}),st.apply(this,arguments)}function ht(n,e,t){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,Oe.Z)(function*(n,e,t){if(!ed(e))throw e;n.fu.add(1),yield i(n),n.wu.set("Offline"),t||(t=()=>FD(n.localStore)),n.asyncQueue.enqueueRetryable((0,Oe.Z)(function*(){it("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield iy(n)}))}),Tt.apply(this,arguments)}function ze(n,e){return e().catch(t=>ht(n,t,e))}function Ot(n){return xn.apply(this,arguments)}function xn(){return xn=(0,Oe.Z)(function*(n){const e=vt(n),t=Ah(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;tr(e);)try{const o=yield lS(e.localStore,r);if(null===o){0===e.hu.length&&t.Mo();break}r=o.batchId,Bo(e,o)}catch(o){yield ht(e,o)}rc(e)&&sy(e)}),xn.apply(this,arguments)}function tr(n){return T(n)&&n.hu.length<10}function Bo(n,e){n.hu.push(e);const t=Ah(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function rc(n){return T(n)&&!Ah(n).Co()&&n.hu.length>0}function sy(n){Ah(n).start()}function v0(n){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,Oe.Z)(function*(n){Ah(n).Zo()}),Mp.apply(this,arguments)}function w0(n){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,Oe.Z)(function*(n){const e=Ah(n);for(const t of n.hu)e.Jo(t.mutations)}),Rp.apply(this,arguments)}function b0(n,e,t){return Np.apply(this,arguments)}function Np(){return Np=(0,Oe.Z)(function*(n,e,t){const r=n.hu.shift(),o=Vm.from(r,e,t);yield ze(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Ot(n)}),Np.apply(this,arguments)}function E0(n,e){return kp.apply(this,arguments)}function kp(){return kp=(0,Oe.Z)(function*(n,e){var t;e&&Ah(n).Ho&&(yield(t=(0,Oe.Z)(function*(r,o){if($b(u=o.code)&&u!==Ne.ABORTED){const h=r.hu.shift();Ah(r).ko(),yield ze(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Ot(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),rc(n)&&sy(n)}),kp.apply(this,arguments)}function vS(n,e){return $D.apply(this,arguments)}function $D(){return $D=(0,Oe.Z)(function*(n,e){const t=vt(n);t.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const r=T(t);t.fu.add(3),yield i(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield iy(t)}),$D.apply(this,arguments)}function qD(n,e){return GD.apply(this,arguments)}function GD(){return GD=(0,Oe.Z)(function*(n,e){const t=vt(n);e?(t.fu.delete(2),yield iy(t)):e||(t.fu.add(2),yield i(t),t.wu.set("Unknown"))}),GD.apply(this,arguments)}function oy(n){return n.gu||(n.gu=function(e,t,r){const o=vt(e);return o.eu(),new gS(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:O.bind(null,n),Yr:J.bind(null,n),Qo:Be.bind(null,n)}),n.du.push(function(){var e=(0,Oe.Z)(function*(t){t?(n.gu.ko(),I(n)?v(n):n.wu.set("Unknown")):(yield n.gu.stop(),N(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Ah(n){return n.yu||(n.yu=function(e,t,r){const o=vt(e);return o.eu(),new mS(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:v0.bind(null,n),Yr:E0.bind(null,n),Xo:w0.bind(null,n),Yo:b0.bind(null,n)}),n.du.push(function(){var e=(0,Oe.Z)(function*(t){t?(n.yu.ko(),yield Ot(n)):(yield n.yu.stop(),n.hu.length>0&&(it("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class zD{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,u){const h=Date.now()+r,y=new zD(e,t,h,o,u);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ye(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(n,e){if(ci("AsyncQueue",`${e}: ${n}`),ed(n))return new Ye(Ne.UNAVAILABLE,`${e}: ${n}`);throw n}class uy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||gt.comparator(t.key,r.key):(t,r)=>gt.comparator(t.key,r.key),this.keyedMap=Tm(),this.sortedSet=new hi(this.comparator)}static emptySet(e){return new uy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new uy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class wS{constructor(){this.pu=new hi(gt.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):St():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ly{constructor(e,t,r,o,u,h,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=y,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new ly(e,t,uy.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class D1{constructor(){this.Tu=void 0,this.listeners=[]}}class T1{constructor(){this.queries=new Zl(e=>jv(e),np),this.onlineState="Unknown",this.Eu=new Set}}function ZD(n,e){return WD.apply(this,arguments)}function WD(){return WD=(0,Oe.Z)(function*(n,e){const t=vt(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new D1),o)try{u.Tu=yield t.onListen(r)}catch(h){const y=ay(h,`Initialization of query '${Hv(e.query)}' failed`);return void e.onError(y)}t.queries.set(r,u),u.listeners.push(e),e.Au(t.onlineState),u.Tu&&e.Ru(u.Tu)&&QD(t)}),WD.apply(this,arguments)}function KD(n,e){return YD.apply(this,arguments)}function YD(){return YD=(0,Oe.Z)(function*(n,e){const t=vt(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),YD.apply(this,arguments)}function A1(n,e){const t=vt(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const y of h.listeners)y.Ru(o)&&(r=!0);h.Tu=o}}r&&QD(t)}function S1(n,e,t){const r=vt(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function QD(n){n.Eu.forEach(e=>{e.next()})}class JD{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new ly(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=ly.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class x1{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class bS{constructor(e){this.M=e}fi(e){return Pa(this.M,e)}di(e){return e.metadata.exists?xm(this.M,e.document,!1):Mr.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return fi(e)}}class M1{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ES(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=$n.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new bS(this.M);for(const o of e)if(o.metadata.queries){const u=r.fi(o.metadata.name);for(const h of o.metadata.queries){const y=(t.get(h)||er()).add(u);t.set(h,y)}}return t}complete(){var e=this;return(0,Oe.Z)(function*(){const t=yield function OE(n,e,t,r){return Tp.apply(this,arguments)}(e.localStore,new bS(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const o of e.queries)yield d0(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function ES(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class IS{constructor(e){this.key=e}}class CS{constructor(e){this.key=e}}class DS{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=er(),this.mutatedKeys=er(),this.Uu=kb(e),this.qu=new uy(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new wS,o=t?t.qu:this.qu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,y=!1;const E=ch(this.query)&&o.size===this.query.limit?o.last():null,x=ep(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((F,U)=>{const Y=o.get(F),ae=vm(this.query,U)?U:null,ye=!!Y&&this.mutatedKeys.has(Y.key),nt=!!ae&&(ae.hasLocalMutations||this.mutatedKeys.has(ae.key)&&ae.hasCommittedMutations);let ft=!1;Y&&ae?Y.data.isEqual(ae.data)?ye!==nt&&(r.track({type:3,doc:ae}),ft=!0):this.ju(Y,ae)||(r.track({type:2,doc:ae}),ft=!0,(E&&this.Uu(ae,E)>0||x&&this.Uu(ae,x)<0)&&(y=!0)):!Y&&ae?(r.track({type:0,doc:ae}),ft=!0):Y&&!ae&&(r.track({type:1,doc:Y}),ft=!0,(E||x)&&(y=!0)),ft&&(ae?(h=h.add(ae),u=nt?u.add(F):u.delete(F)):(h=h.delete(F),u=u.delete(F)))}),ch(this.query)||ep(this.query))for(;h.size>this.query.limit;){const F=ch(this.query)?h.last():h.first();h=h.delete(F.key),u=u.delete(F.key),r.track({type:1,doc:F})}return{qu:h,Qu:r,ni:y,mutatedKeys:u}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const u=e.Qu.Iu();u.sort((x,F)=>function(U,Y){const ae=ye=>{switch(ye){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return ae(U)-ae(Y)}(x.type,F.type)||this.Uu(x.doc,F.doc)),this.Wu(r);const h=t?this.zu():[],y=0===this.Lu.size&&this.current?1:0,E=y!==this.Bu;return this.Bu=y,0!==u.length||E?{snapshot:new ly(this.query,e.qu,o,u,e.mutatedKeys,0===y,E,!1),Hu:h}:{Hu:h}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new wS,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=er(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new CS(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new IS(r))}),t}Yu(e){this.$u=e.li,this.Lu=er();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return ly.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class R1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class N1{constructor(e){this.key=e,this.Zu=!1}}class k1{constructor(e,t,r,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.ta={},this.ea=new Zl(y=>jv(y),np),this.na=new Map,this.sa=new Set,this.ia=new hi(gt.comparator),this.ra=new Map,this.oa=new Th,this.ua={},this.aa=new Map,this.ca=Xl.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function P1(n,e){return XD.apply(this,arguments)}function XD(){return XD=(0,Oe.Z)(function*(n,e){const t=ET(n);let r,o;const u=t.ea.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Xu();else{const h=yield Dp(t.localStore,ha(e));t.isPrimaryClient&&a(t.remoteStore,h);const y=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield eT(t,e,r,"current"===y)}return o}),XD.apply(this,arguments)}function eT(n,e,t,r){return tT.apply(this,arguments)}function tT(){return tT=(0,Oe.Z)(function*(n,e,t,r){n.la=(F,U,Y)=>{return(ae=(0,Oe.Z)(function*(ye,nt,ft,fn){let pn=nt.view.Gu(ft);pn.ni&&(pn=yield Jm(ye.localStore,nt.query,!1).then(({documents:wn})=>nt.view.Gu(wn,pn)));const Qt=fn&&fn.targetChanges.get(nt.targetId),Bt=nt.view.applyChanges(pn,ye.isPrimaryClient,Qt);return dT(ye,nt.targetId,Bt.Hu),Bt.snapshot}),function(ye,nt,ft,fn){return ae.apply(this,arguments)})(n,F,U,Y);var ae};const o=yield Jm(n.localStore,e,!0),u=new DS(e,o.li),h=u.Gu(o.documents),y=ap.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=u.applyChanges(h,n.isPrimaryClient,y);dT(n,t,E.Hu);const x=new R1(e,t,u);return n.ea.set(e,x),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),E.snapshot}),tT.apply(this,arguments)}function O1(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,Oe.Z)(function*(n,e){const t=vt(n),r=t.ea.get(e),o=t.na.get(r.targetId);if(o.length>1)return t.na.set(r.targetId,o.filter(u=>!np(u,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ch(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),l(t.remoteStore,r.targetId),cy(t,r.targetId)}).catch(rd))):(cy(t,r.targetId),yield Ch(t.localStore,r.targetId,!0))}),nT.apply(this,arguments)}function rT(){return rT=(0,Oe.Z)(function*(n,e,t){const r=IT(n);try{const o=yield function(u,h){const y=vt(u),E=ni.now(),x=h.reduce((U,Y)=>U.add(Y.key),er());let F;return y.persistence.runTransaction("Locally write mutations","readwrite",U=>y.ci.Ks(U,x).next(Y=>{F=Y;const ae=[];for(const ye of h){const nt=rD(ye,F.get(ye.key));null!=nt&&ae.push(new fa(ye.key,nt,Db(nt.value.mapValue),_i.exists(!0)))}return y.Bs.addMutationBatch(U,E,ae,h)})).then(U=>(U.applyToLocalDocumentSet(F),{batchId:U.batchId,changes:F}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,y){let E=u.ua[u.currentUser.toKey()];E||(E=new hi(mn)),E=E.insert(h,y),u.ua[u.currentUser.toKey()]=E}(r,o.batchId,t),yield id(r,o.changes),yield Ot(r.remoteStore)}catch(o){const u=ay(o,"Failed to persist write");t.reject(u)}}),rT.apply(this,arguments)}function TS(n,e){return iT.apply(this,arguments)}function iT(){return iT=(0,Oe.Z)(function*(n,e){const t=vt(n);try{const r=yield uS(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.ra.get(u);h&&(un(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Zu=!0:o.modifiedDocuments.size>0?un(h.Zu):o.removedDocuments.size>0&&(un(h.Zu),h.Zu=!1))}),yield id(t,r,e)}catch(r){yield rd(r)}}),iT.apply(this,arguments)}function AS(n,e,t){const r=vt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ea.forEach((u,h)=>{const y=h.view.Au(e);y.snapshot&&o.push(y.snapshot)}),function(u,h){const y=vt(u);y.onlineState=h;let E=!1;y.queries.forEach((x,F)=>{for(const U of F.listeners)U.Au(h)&&(E=!0)}),E&&QD(y)}(r.eventManager,e),o.length&&r.ta.Qo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function L1(n,e,t){return sT.apply(this,arguments)}function sT(){return sT=(0,Oe.Z)(function*(n,e,t){const r=vt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ra.get(e),u=o&&o.key;if(u){let h=new hi(gt.comparator);h=h.insert(u,Mr.newNoDocument(u,rn.min()));const y=er().add(u),E=new op(rn.min(),new Map,new Rr(mn),h,y);yield TS(r,E),r.ia=r.ia.remove(u),r.ra.delete(e),hT(r)}else yield Ch(r.localStore,e,!1).then(()=>cy(r,e,t)).catch(rd)}),sT.apply(this,arguments)}function V1(n,e){return oT.apply(this,arguments)}function oT(){return oT=(0,Oe.Z)(function*(n,e){const t=vt(n),r=e.batch.batchId;try{const o=yield OD(t.localStore,e);cT(t,r,null),lT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield id(t,o)}catch(o){yield rd(o)}}),oT.apply(this,arguments)}function U1(n,e,t){return aT.apply(this,arguments)}function aT(){return aT=(0,Oe.Z)(function*(n,e,t){const r=vt(n);try{const o=yield function(u,h){const y=vt(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let x;return y.Bs.lookupMutationBatch(E,h).next(F=>(un(null!==F),x=F.keys(),y.Bs.removeMutationBatch(E,F))).next(()=>y.Bs.performConsistencyCheck(E)).next(()=>y.ci.Ks(E,x))})}(r.localStore,e);cT(r,e,t),lT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield id(r,o)}catch(o){yield rd(o)}}),aT.apply(this,arguments)}function uT(){return uT=(0,Oe.Z)(function*(n,e){const t=vt(n);T(t.remoteStore)||it("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const h=vt(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>h.Bs.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const o=t.aa.get(r)||[];o.push(e),t.aa.set(r,o)}catch(r){const o=ay(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),uT.apply(this,arguments)}function lT(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function cT(n,e,t){const r=vt(n);let o=r.ua[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ua[r.currentUser.toKey()]=o}}function cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||SS(n,r)})}function SS(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(l(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),hT(n))}function dT(n,e,t){for(const r of t)r instanceof IS?(n.oa.addReference(r.key,e),j1(n,r)):r instanceof CS?(it("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||SS(n,r.key)):St()}function j1(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(it("SyncEngine","New document in limbo: "+t),n.sa.add(r),hT(n))}function hT(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new gt($n.fromString(e)),r=n.ca.next();n.ra.set(r,new N1(t)),n.ia=n.ia.insert(t,r),a(n.remoteStore,new il(ha($l(t.path)),r,2,Ss.A))}}function id(n,e,t){return fT.apply(this,arguments)}function fT(){return fT=(0,Oe.Z)(function*(n,e,t){const r=vt(n),o=[],u=[],h=[];var y;r.ea.isEmpty()||(r.ea.forEach((y,E)=>{h.push(r.la(E,e,t).then(x=>{if(x){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,x.fromCache?"not-current":"current"),o.push(x);const F=a0.Ys(E.targetId,x);u.push(F)}}))}),yield Promise.all(h),r.ta.Qo(o),yield(y=(0,Oe.Z)(function*(E,x){const F=vt(E);try{yield F.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>Fe.forEach(x,Y=>Fe.forEach(Y.Hs,ae=>F.persistence.referenceDelegate.addReference(U,Y.targetId,ae)).next(()=>Fe.forEach(Y.Js,ae=>F.persistence.referenceDelegate.removeReference(U,Y.targetId,ae)))))}catch(U){if(!ed(U))throw U;it("LocalStore","Failed to update sequence numbers: "+U)}for(const U of x){const Y=U.targetId;if(!U.fromCache){const ae=F.ii.get(Y),nt=ae.withLastLimboFreeSnapshotVersion(ae.snapshotVersion);F.ii=F.ii.insert(Y,nt)}}}),function(E,x){return y.apply(this,arguments)})(r.localStore,u))}),fT.apply(this,arguments)}function H1(n,e){return pT.apply(this,arguments)}function pT(){return pT=(0,Oe.Z)(function*(n,e){const t=vt(n);if(!t.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const r=yield kE(t.localStore,e);t.currentUser=e,(o=t).aa.forEach(h=>{h.forEach(y=>{y.reject(new Ye(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield id(t,r.hi)}var o}),pT.apply(this,arguments)}function $1(n,e){const t=vt(n),r=t.ra.get(e);if(r&&r.Zu)return er().add(r.key);{let o=er();const u=t.na.get(e);if(!u)return o;for(const h of u){const y=t.ea.get(h);o=o.unionWith(y.view.Ku)}return o}}function q1(n,e){return gT.apply(this,arguments)}function gT(){return gT=(0,Oe.Z)(function*(n,e){const t=vt(n),r=yield Jm(t.localStore,e.query,!0),o=e.view.Yu(r);return t.isPrimaryClient&&dT(t,e.targetId,o.Hu),o}),gT.apply(this,arguments)}function G1(n,e){return mT.apply(this,arguments)}function mT(){return mT=(0,Oe.Z)(function*(n,e){const t=vt(n);return c0(t.localStore,e).then(r=>id(t,r))}),mT.apply(this,arguments)}function z1(n,e,t,r){return yT.apply(this,arguments)}function yT(){return yT=(0,Oe.Z)(function*(n,e,t,r){const o=vt(n),u=yield function(h,y){const E=vt(h),x=vt(E.Bs);return E.persistence.runTransaction("Lookup mutation documents","readonly",F=>x.fn(F,y).next(U=>U?E.ci.Ks(F,U):Fe.resolve(null)))}(o.localStore,e);var y;null!==u?("pending"===t?yield Ot(o.remoteStore):"acknowledged"===t||"rejected"===t?(cT(o,e,r||null),lT(o,e),y=e,vt(vt(o.localStore).Bs)._n(y)):St(),yield id(o,u)):it("SyncEngine","Cannot apply mutation batch with id: "+e)}),yT.apply(this,arguments)}function _T(){return _T=(0,Oe.Z)(function*(n,e){const t=vt(n);if(ET(t),IT(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield xS(t,r.toArray());t.ha=!0,yield qD(t.remoteStore,!0);for(const u of o)a(t.remoteStore,u)}else if(!1===e&&!1!==t.ha){const r=[];let o=Promise.resolve();t.na.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(cy(t,h),Ch(t.localStore,h,!0))),l(t.remoteStore,h)}),yield o,yield xS(t,r),function(u){const h=vt(u);h.ra.forEach((y,E)=>{l(h.remoteStore,E)}),h.oa.bi(),h.ra=new Map,h.ia=new hi(gt.comparator)}(t),t.ha=!1,yield qD(t.remoteStore,!1)}}),_T.apply(this,arguments)}function xS(n,e,t){return vT.apply(this,arguments)}function vT(){return vT=(0,Oe.Z)(function*(n,e,t){const r=vt(n),o=[],u=[];for(const h of e){let y;const E=r.na.get(h);if(E&&0!==E.length){y=yield Dp(r.localStore,ha(E[0]));for(const x of E){const F=r.ea.get(x),U=yield q1(r,F);U.snapshot&&u.push(U.snapshot)}}else{const x=yield PE(r.localStore,h);y=yield Dp(r.localStore,x),yield eT(r,MS(x),h,!1)}o.push(y)}return r.ta.Qo(u),o}),vT.apply(this,arguments)}function MS(n){return Nb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function W1(n){const e=vt(n);return vt(vt(e.localStore).persistence).Fs()}function K1(n,e,t,r){return wT.apply(this,arguments)}function wT(){return wT=(0,Oe.Z)(function*(n,e,t,r){const o=vt(n);if(o.ha)return void it("SyncEngine","Ignoring unexpected query state notification.");const u=o.na.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const h=yield c0(o.localStore,tD(u[0])),y=op.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield id(o,h,y);break}case"rejected":yield Ch(o.localStore,e,!0),cy(o,e,r);break;default:St()}}),wT.apply(this,arguments)}function Y1(n,e,t){return bT.apply(this,arguments)}function bT(){return bT=(0,Oe.Z)(function*(n,e,t){const r=ET(n);if(r.ha){for(const o of e){if(r.na.has(o)){it("SyncEngine","Adding an already active target "+o);continue}const u=yield PE(r.localStore,o),h=yield Dp(r.localStore,u);yield eT(r,MS(u),h.targetId,!1),a(r.remoteStore,h)}for(const o of t)r.na.has(o)&&(yield Ch(r.localStore,o,!1).then(()=>{l(r.remoteStore,o),cy(r,o)}).catch(rd))}}),bT.apply(this,arguments)}function ET(n){const e=vt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L1.bind(null,e),e.ta.Qo=A1.bind(null,e.eventManager),e.ta.fa=S1.bind(null,e.eventManager),e}function IT(n){const e=vt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U1.bind(null,e),e}class RS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Oe.Z)(function*(){t.M=ry(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return u0(this.persistence,new PD,e.initialUser,this.M)}wa(e){return new VD(g0.zi,this.M)}_a(e){return new y0}terminate(){var e=this;return(0,Oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class NS extends RS{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Oe.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield IT(r.ya.syncEngine),yield Ot(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return u0(this.persistence,new PD,e.initialUser,this.M)}ma(e){return new oS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=Qm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new Ym(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,BE(),ny(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new y0}}class J1 extends NS{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Oe.Z)(function*(){yield t().call(r,e);const o=r.ya.syncEngine;r.sharedClientState instanceof VE&&(r.sharedClientState.syncEngine={Mr:z1.bind(null,o),Or:K1.bind(null,o),Fr:Y1.bind(null,o),Fs:W1.bind(null,o),kr:G1.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,Oe.Z)(function*(h){yield function Z1(n,e){return _T.apply(this,arguments)}(r.ya.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}_a(e){const t=BE();if(!VE.vt(t))throw new Ye(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Qm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new VE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class CT{initialize(e,t){var r=this;return(0,Oe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>AS(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=H1.bind(null,r.syncEngine),yield qD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new T1}createDatastore(e){const t=ry(e.databaseInfo.databaseId),r=new pS(e.databaseInfo);return new HD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=y=>AS(this.syncEngine,y,0),h=UE.vt()?new UE:new _0,new _S(t,r,o,u,h);var t,r,o,u,h}createSyncEngine(e,t){return function(r,o,u,h,y,E,x){const F=new k1(r,o,u,h,y,E);return x&&(F.ha=!0),F}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Oe.Z)(function*(t){const r=vt(t);it("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield i(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function kS(n,e=10240){let t=0;return{read:()=>(0,Oe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $E{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class X1{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new ss,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Oe.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Oe.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),o=Number(r);isNaN(o)&&e.Pa(`length string (${r}) is not valid number`);const u=yield e.ba(o);return new x1(JSON.parse(u),t.length+o)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Oe.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class eR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ye(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Oe.Z)(function*(u,h){const y=vt(u),E=dp(y.M)+"/documents",x={documents:h.map(ae=>vh(y.M,ae))},F=yield y.ho("BatchGetDocuments",E,x),U=new Map;F.forEach(ae=>{const ye=function Kv(n,e){return"found"in e?function(t,r){un(!!r.found);const o=Pa(t,r.found.name),u=fi(r.found.updateTime),h=new os({mapValue:{fields:r.found.fields}});return Mr.newFoundDocument(o,u,h)}(n,e):"missing"in e?function(t,r){un(!!r.missing),un(!!r.readTime);const o=Pa(t,r.missing),u=fi(r.readTime);return Mr.newNoDocument(o,u)}(n,e):St()}(y.M,ae);U.set(ye.key.toString(),ye)});const Y=[];return h.forEach(ae=>{const ye=U.get(ae.toString());un(!!ye),Y.push(ye)}),Y}),function(u,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Im(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=gt.fromPath(o);e.mutations.push(new Cm(u,e.precondition(u)))}),yield(r=(0,Oe.Z)(function*(o,u){const h=vt(o),y=dp(h.M)+"/documents",E={writes:u.map(x=>Qc(h.M,x))};yield h.oo("Commit",y,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw St();t=rn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ye(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?_i.updateTime(t):_i.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rn.min()))throw new Ye(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _i.updateTime(t)}return _i.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class tR{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.Sa=5,this.Do=new jE(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Oe.Z)(function*(){const t=new eR(e.datastore),r=e.Ca(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.xa(u)}))}).catch(o=>{e.xa(o)})}))}Ca(e){try{const t=this.updateFunction(e);return!zc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!$b(t)}return!1}}class nR{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Hi.UNAUTHENTICATED,this.clientId=Gf.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,Oe.Z)(function*(y){it("FirestoreClient","Received user=",y.uid),yield u.authCredentialListener(y),u.user=y});return function(y){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(it("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,Oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ye(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=ay(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function PS(n,e){return DT.apply(this,arguments)}function DT(){return DT=(0,Oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Oe.Z)(function*(u){r.isEqual(u)||(yield kE(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),DT.apply(this,arguments)}function OS(n,e){return TT.apply(this,arguments)}function TT(){return TT=(0,Oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield AT(n);it("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>vS(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>vS(e.remoteStore,u)),n.onlineComponents=e}),TT.apply(this,arguments)}function AT(n){return ST.apply(this,arguments)}function ST(){return ST=(0,Oe.Z)(function*(n){return n.offlineComponents||(it("FirestoreClient","Using default OfflineComponentProvider"),yield PS(n,new RS)),n.offlineComponents}),ST.apply(this,arguments)}function qE(n){return xT.apply(this,arguments)}function xT(){return xT=(0,Oe.Z)(function*(n){return n.onlineComponents||(it("FirestoreClient","Using default OnlineComponentProvider"),yield OS(n,new CT)),n.onlineComponents}),xT.apply(this,arguments)}function FS(n){return AT(n).then(e=>e.persistence)}function MT(n){return AT(n).then(e=>e.localStore)}function LS(n){return qE(n).then(e=>e.remoteStore)}function RT(n){return qE(n).then(e=>e.syncEngine)}function dy(n){return NT.apply(this,arguments)}function NT(){return NT=(0,Oe.Z)(function*(n){const e=yield qE(n),t=e.eventManager;return t.onListen=P1.bind(null,e.syncEngine),t.onUnlisten=O1.bind(null,e.syncEngine),t}),NT.apply(this,arguments)}function VS(n,e,t={}){const r=new ss;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(o,u,h,y,E){const x=new $E({next:U=>{u.enqueueAndForget(()=>KD(o,F));const Y=U.docs.has(h);!Y&&U.fromCache?E.reject(new Ye(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&U.fromCache&&y&&"server"===y.source?E.reject(new Ye(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(U)},error:U=>E.reject(U)}),F=new JD($l(h.path),x,{includeMetadataChanges:!0,Cu:!0});return ZD(o,F)}(yield dy(n),n.asyncQueue,e,t,r)})),r.promise}function US(n,e,t={}){const r=new ss;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(o,u,h,y,E){const x=new $E({next:U=>{u.enqueueAndForget(()=>KD(o,F)),U.fromCache&&"server"===y.source?E.reject(new Ye(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(U)},error:U=>E.reject(U)}),F=new JD(h,x,{includeMetadataChanges:!0,Cu:!0});return ZD(o,F)}(yield dy(n),n.asyncQueue,e,t,r)})),r.promise}const BS=new Map;function kT(n,e,t){if(!t)throw new Ye(Ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jS(n,e,t,r){if(!0===e&&!0===r)throw new Ye(Ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HS(n){if(!gt.isDocumentKey(n))throw new Ye(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $S(n){if(gt.isDocumentKey(n))throw new Ye(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":St()}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ye(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=GE(n);throw new Ye(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qS(n,e){if(e<=0)throw new Ye(Ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class GS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ye(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ye(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,jS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GS({}),this._settingsFrozen=!1,e instanceof Uo?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ye(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uo(o.options.projectId)}(e))}get app(){if(!this._app)throw new Ye(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ye(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new JA;switch(t.type){case"gapi":const r=t.client;return un(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Yt(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ye(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=BS.get(e);t&&(it("ComponentProvider","Removing Datastore"),BS.delete(e),t.terminate())}(this),Promise.resolve()}}class Zr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zr(this.firestore,e,this._key)}}class yo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class ic extends yo{constructor(e,t,r){super(e,t,$l(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zr(this.firestore,null,new gt(e))}withConverter(e){return new ic(this.firestore,e,this._path)}}function zS(n,e,...t){if(n=(0,nn.m9)(n),kT("collection","path",e),n instanceof I0){const r=$n.fromString(e,...t);return $S(r),new ic(n,null,r)}{if(!(n instanceof Zr||n instanceof ic))throw new Ye(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($n.fromString(e,...t));return $S(r),new ic(n.firestore,null,r)}}function zE(n,e,...t){if(n=(0,nn.m9)(n),1===arguments.length&&(e=Gf.R()),kT("doc","path",e),n instanceof I0){const r=$n.fromString(e,...t);return HS(r),new Zr(n,null,new gt(r))}{if(!(n instanceof Zr||n instanceof ic))throw new Ye(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($n.fromString(e,...t));return HS(r),new Zr(n.firestore,n instanceof ic?n.converter:null,new gt(r))}}function ZS(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),(n instanceof Zr||n instanceof ic)&&(e instanceof Zr||e instanceof ic)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function WS(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),n instanceof yo&&e instanceof yo&&n.firestore===e.firestore&&np(n._query,e._query)&&n.converter===e.converter}class fR{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new jE(this,"async_queue_retry"),this.qa=()=>{const t=ny();t&&it("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=ny();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=ny();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new ss;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Oe.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!ed(t))throw t;it("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,ci("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const o=zD.createAndSchedule(this,e,t,r,u=>this.ja(u));return this.Fa.push(o),o}Ka(){this.$a&&St()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Oe.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function PT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class pR{constructor(){this._progressObserver={},this._taskCompletionResolver=new ss,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ri extends I0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new fR,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||KS(this),this._firestoreClient.terminate()}}function Gi(n){return n._firestoreClient||KS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function KS(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Wf(n._databaseId,u,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var u,y;n._firestoreClient=new nR(n._authCredentials,n._appCheckCredentials,n._queue,r)}function YS(n,e,t){const r=new ss;return n.asyncQueue.enqueue((0,Oe.Z)(function*(){try{yield PS(n,t),yield OS(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===Ne.FAILED_PRECONDITION||u.code===Ne.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function QS(n){if(n._initialized||n._terminated)throw new Ye(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class sd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ye(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sc(Ni.fromBase64String(e))}catch(t){throw new Ye(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sc(Ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pp{constructor(e){this._methodName=e}}class ZE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}}const CR=/^__.*__$/;class DR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new gh(e,this.data,t,this.fieldTransforms)}}class JS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class WE{constructor(e,t,r,o,u,h){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Ya(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new WE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.nc(e),o}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.Ya(),o}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return QE(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(XS(this.Xa)&&CR.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class TR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||ry(e)}ac(e,t,r,o=!1){return new WE({Xa:e,methodName:t,uc:r,path:$i.emptyPath(),ec:!1,oc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Op(n){const e=n._freezeSettings(),t=ry(n._databaseId);return new TR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KE(n,e,t,r,o,u={}){const h=n.ac(u.merge||u.mergeFields?2:0,e,t,o);VT("Data must be an object, but it was:",h,r);const y=nx(r,h);let E,x;if(u.merge)E=new sh(h.fieldMask),x=h.fieldTransforms;else if(u.mergeFields){const F=[];for(const U of u.mergeFields){const Y=UT(e,U,t);if(!h.contains(Y))throw new Ye(Ne.INVALID_ARGUMENT,`Field '${Y}' is specified in your field mask but missing from your input data.`);ix(F,Y)||F.push(Y)}E=new sh(F),x=h.fieldTransforms.filter(U=>E.covers(U.field))}else E=null,x=h.fieldTransforms;return new DR(new os(y),E,x)}class C0 extends Pp{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof C0}}function ex(n,e,t){return new WE({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class OT extends Pp{_toFieldTransform(e){return new ip(e.path,new hh)}isEqual(e){return e instanceof OT}}class AR extends Pp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=ex(this,e,!0),r=this.cc.map(u=>Fp(u,t)),o=new Kc(r);return new ip(e.path,o)}isEqual(e){return this===e}}class SR extends Pp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=ex(this,e,!0),r=this.cc.map(u=>Fp(u,t)),o=new Gl(r);return new ip(e.path,o)}isEqual(e){return this===e}}class xR extends Pp{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new zl(e.M,dh(e.M,this.hc));return new ip(e.path,t)}isEqual(e){return this===e}}function FT(n,e,t,r){const o=n.ac(1,e,t);VT("Data must be an object, but it was:",o,r);const u=[],h=os.empty();Fl(r,(E,x)=>{const F=YE(e,E,t);x=(0,nn.m9)(x);const U=o.sc(F);if(x instanceof C0)u.push(F);else{const Y=Fp(x,U);null!=Y&&(u.push(F),h.set(F,Y))}});const y=new sh(u);return new JS(h,y,o.fieldTransforms)}function LT(n,e,t,r,o,u){const h=n.ac(1,e,t),y=[UT(e,r,t)],E=[o];if(u.length%2!=0)throw new Ye(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Y=0;Y<u.length;Y+=2)y.push(UT(e,u[Y])),E.push(u[Y+1]);const x=[],F=os.empty();for(let Y=y.length-1;Y>=0;--Y)if(!ix(x,y[Y])){const ae=y[Y];let ye=E[Y];ye=(0,nn.m9)(ye);const nt=h.sc(ae);if(ye instanceof C0)x.push(ae);else{const ft=Fp(ye,nt);null!=ft&&(x.push(ae),F.set(ae,ft))}}const U=new sh(x);return new JS(F,U,h.fieldTransforms)}function tx(n,e,t,r=!1){return Fp(t,n.ac(r?4:3,e))}function Fp(n,e){if(rx(n=(0,nn.m9)(n)))return VT("Unsupported field value:",e,n),nx(n,e);if(n instanceof Pp)return function(t,r){if(!XS(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const h of t){let y=Fp(h,r.ic(u));null==y&&(y={nullValue:"NULL_VALUE"}),o.push(y),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,nn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dh(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=ni.fromDate(t);return{timestampValue:lp(r.M,o)}}if(t instanceof ni){const o=new ni(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lp(r.M,o)}}if(t instanceof ZE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sc)return{bytesValue:Jb(r.M,t._byteString)};if(t instanceof Zr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.rc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${GE(t)}`)}(n,e)}function nx(n,e){const t={};return xv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fl(n,(r,o)=>{const u=Fp(o,e.tc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function rx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ni||n instanceof ZE||n instanceof sc||n instanceof Zr||n instanceof Pp)}function VT(n,e,t){if(!rx(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=GE(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function UT(n,e,t){if((e=(0,nn.m9)(e))instanceof sd)return e._internalPath;if("string"==typeof e)return YE(n,e);throw QE("Field path arguments must be of type string or ",n,!1,void 0,t)}const MR=new RegExp("[~\\*/\\[\\]]");function YE(n,e,t){if(e.search(MR)>=0)throw QE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sd(...e.split("."))._internalPath}catch(r){throw QE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function QE(n,e,t,r,o){const u=r&&!r.isEmpty(),h=void 0!==o;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let E="";return(u||h)&&(E+=" (found",u&&(E+=` in field ${r}`),h&&(E+=` in document ${o}`),E+=")"),new Ye(Ne.INVALID_ARGUMENT,y+n+E)}function ix(n,e){return n.some(t=>t.isEqual(e))}class D0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(JE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RR extends D0{data(){return super.data()}}function JE(n,e){return"string"==typeof e?YE(n,e):e instanceof sd?e._internalPath:e._delegate._internalPath}class Lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class od extends D0{constructor(e,t,r,o,u,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new T0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(JE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class T0 extends od{data(e={}){return super.data(e)}}class Sh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Lp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new T0(this._firestore,this._userDataWriter,r.key,r,new Lp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ye(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new T0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Lp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const y=new T0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Lp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,x=-1;return 0!==h.type&&(E=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),x=u.indexOf(h.doc.key)),{type:NR(h.type),doc:y,oldIndex:E,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function NR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}function sx(n,e){return n instanceof od&&e instanceof od?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Sh&&e instanceof Sh&&n._firestore===e._firestore&&WS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function ox(n){if(ep(n)&&0===n.explicitOrderBy.length)throw new Ye(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A0{}function xh(n,...e){for(const t of e)n=t._apply(n);return n}class kR extends A0{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Op(e.firestore),r=function(o,u,h,y,E,x,F){let U;if(E.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new Ye(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){hx(F,x);const ae=[];for(const ye of F)ae.push(dx(y,o,ye));U={arrayValue:{values:ae}}}else U=dx(y,o,F)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||hx(F,x),U=tx(h,"where",F,"in"===x||"not-in"===x);const Y=as.create(E,x,U);return function(ae,ye){if(ye.S()){const ft=Vv(ae);if(null!==ft&&!ft.isEqual(ye.field))throw new Ye(Ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ft.toString()}' and '${ye.field.toString()}'`);const fn=tp(ae);null!==fn&&fx(0,ye.field,fn)}const nt=function(ft,fn){for(const pn of ft.filters)if(fn.indexOf(pn.op)>=0)return pn.op;return null}(ae,function(ft){switch(ft){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ye.op));if(null!==nt)throw new Ye(Ne.INVALID_ARGUMENT,nt===ye.op?`Invalid query. You cannot use more than one '${ye.op.toString()}' filter.`:`Invalid query. You cannot use '${ye.op.toString()}' filters with '${nt.toString()}' filters.`)}(o,Y),Y}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new yo(e.firestore,e.converter,function(o,u){const h=o.filters.concat([u]);return new rl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class OR extends A0{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Ye(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ye(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new lh(o,u);return function(y,E){if(null===tp(y)){const x=Vv(y);null!==x&&fx(0,x,E.field)}}(r,h),h}(e._query,this.lc,this._c);return new yo(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new rl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ax extends A0{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new yo(e.firestore,e.converter,Bv(e._query,this.wc,this.mc))}}class ux extends A0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=cx(e,this.type,this.gc,this.yc);return new yo(e.firestore,e.converter,(o=t,new rl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class lx extends A0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=cx(e,this.type,this.gc,this.yc);return new yo(e.firestore,e.converter,(o=t,new rl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function cx(n,e,t,r){if(t[0]=(0,nn.m9)(t[0]),t[0]instanceof D0)return function(o,u,h,y,E){if(!y)throw new Ye(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const x=[];for(const F of ql(o))if(F.field.isKeyField())x.push(oh(u,y.key));else{const U=y.data.field(F.field);if(gm(U))throw new Ye(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+F.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const Y=F.field.canonicalString();throw new Ye(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Y}' (used as the orderBy) does not exist.`)}x.push(U)}return new nl(x,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Op(n.firestore);return function(u,h,y,E,x,F){const U=u.explicitOrderBy;if(x.length>U.length)throw new Ye(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Y=[];for(let ae=0;ae<x.length;ae++){const ye=x[ae];if(U[ae].field.isKeyField()){if("string"!=typeof ye)throw new Ye(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof ye}`);if(!Uv(u)&&-1!==ye.indexOf("/"))throw new Ye(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${ye}' contains a slash.`);const nt=u.path.child($n.fromString(ye));if(!gt.isDocumentKey(nt))throw new Ye(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${nt}' is not because it contains an odd number of segments.`);const ft=new gt(nt);Y.push(oh(h,ft))}else{const nt=tx(y,E,ye);Y.push(nt)}}return new nl(Y,F)}(n._query,n.firestore._databaseId,o,e,t,r)}}function dx(n,e,t){if("string"==typeof(t=(0,nn.m9)(t))){if(""===t)throw new Ye(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uv(e)&&-1!==t.indexOf("/"))throw new Ye(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($n.fromString(t));if(!gt.isDocumentKey(r))throw new Ye(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oh(n,new gt(r))}if(t instanceof Zr)return oh(n,t._key);throw new Ye(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${GE(t)}.`)}function hx(n,e){if(!Array.isArray(n)||0===n.length)throw new Ye(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ye(Ne.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function fx(n,e,t){if(!t.isEqual(e))throw new Ye(Ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class BT{convertValue(e,t="none"){switch(Zc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw St()}}convertObject(e,t){const r={};return Fl(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new ZE(xr(e.latitude),xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Mv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Zf(e));default:return null}}convertTimestamp(e){const t=Ll(e);return new ni(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$n.fromString(e);un(lE(r));const o=new Uo(r.get(1),r.get(3)),u=new gt(r.popFirst(5));return o.isEqual(t)||ci(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function XE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class $R extends BT{constructor(e){super(),this.firestore=e}convertBytes(e){return new sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zr(this.firestore,null,t)}}class px{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Op(e)}set(e,t,r){this._verifyNotCommitted();const o=Mh(e,this._firestore),u=XE(o.converter,t,r),h=KE(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,_i.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Mh(e,this._firestore);let h;return h="string"==typeof(t=(0,nn.m9)(t))||t instanceof sd?LT(this._dataReader,"WriteBatch.update",u._key,t,r,o):FT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,_i.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mh(e,this._firestore);return this._mutations=this._mutations.concat(new Im(t._key,_i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ye(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mh(n,e){if((n=(0,nn.m9)(n)).firestore!==e)throw new Ye(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Vp extends BT{constructor(e){super(),this.firestore=e}convertBytes(e){return new sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zr(this.firestore,null,t)}}function gx(n,e,t){n=Wn(n,Zr);const r=Wn(n.firestore,ri),o=XE(n.converter,e,t);return hy(r,[KE(Op(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,_i.none())])}function mx(n,e,t,...r){n=Wn(n,Zr);const o=Wn(n.firestore,ri),u=Op(o);let h;return h="string"==typeof(e=(0,nn.m9)(e))||e instanceof sd?LT(u,"updateDoc",n._key,e,t,r):FT(u,"updateDoc",n._key,e),hy(o,[h.toMutation(n._key,_i.exists(!0))])}function yx(n,...e){var t,r,o;n=(0,nn.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||PT(e[h])||(u=e[h],h++);const y={includeMetadataChanges:u.includeMetadataChanges};if(PT(e[h])){const U=e[h];e[h]=null===(t=U.next)||void 0===t?void 0:t.bind(U),e[h+1]=null===(r=U.error)||void 0===r?void 0:r.bind(U),e[h+2]=null===(o=U.complete)||void 0===o?void 0:o.bind(U)}let E,x,F;if(n instanceof Zr)x=Wn(n.firestore,ri),F=$l(n._key.path),E={next:U=>{e[h]&&e[h](jT(x,n,U))},error:e[h+1],complete:e[h+2]};else{const U=Wn(n,yo);x=Wn(U.firestore,ri),F=U._query;const Y=new Vp(x);E={next:ae=>{e[h]&&e[h](new Sh(x,Y,U,ae))},error:e[h+1],complete:e[h+2]},ox(n._query)}return function(U,Y,ae,ye){const nt=new $E(ye),ft=new JD(Y,nt,ae);return U.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return ZD(yield dy(U),ft)})),()=>{nt.Ia(),U.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return KD(yield dy(U),ft)}))}}(Gi(x),F,y,E)}function hy(n,e){return function(t,r){const o=new ss;return t.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function F1(n,e,t){return rT.apply(this,arguments)}(yield RT(t),r,o)})),o.promise}(Gi(n),e)}function jT(n,e,t){const r=t.docs.get(e._key),o=new Vp(n);return new od(n,o,e._key,r,new Lp(t.hasPendingWrites,t.fromCache),e.converter)}class XR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Op(e)}get(e){const t=Mh(e,this._firestore),r=new $R(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return St();const u=o[0];if(u.isFoundDocument())return new D0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new D0(this._firestore,r,t._key,null,t.converter);throw St()})}set(e,t,r){const o=Mh(e,this._firestore),u=XE(o.converter,t,r),h=KE(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const u=Mh(e,this._firestore);let h;return h="string"==typeof(t=(0,nn.m9)(t))||t instanceof sd?LT(this._dataReader,"Transaction.update",u._key,t,r,o):FT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=Mh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Mh(e,this._firestore),r=new Vp(this._firestore);return super.get(e).then(o=>new od(this._firestore,r,t._key,o._document,new Lp(!1,!1),t.converter))}}function HT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ye("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vx(){if("undefined"==typeof Uint8Array)throw new Ye("unimplemented","Uint8Arrays are not available in this environment.")}function wx(){if(!function zf(){return"undefined"!=typeof atob}())throw new Ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){qc=Po.SDK_VERSION,(0,Po._registerComponent)(new fo.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new ri(o,new gb(t.getProvider("auth-internal")),new VC(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Po.registerVersion)(hb,"3.4.8",n),(0,Po.registerVersion)(hb,"3.4.8","esm2017")}();class S0{constructor(e){this._delegate=e}static fromBase64String(e){return wx(),new S0(sc.fromBase64String(e))}static fromUint8Array(e){return vx(),new S0(sc.fromUint8Array(e))}toBase64(){return wx(),this._delegate.toBase64()}toUint8Array(){return vx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $T(n){return function uN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class lN{enableIndexedDbPersistence(e,t){return function mR(n,e){QS(n=Wn(n,ri));const t=Gi(n),r=n._freezeSettings(),o=new CT;return YS(t,o,new NS(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yR(n){QS(n=Wn(n,ri));const e=Gi(n),t=n._freezeSettings(),r=new CT;return YS(e,r,new J1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _R(n){if(n._initialized&&!n._terminated)throw new Ye(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ss;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{yield(t=(0,Oe.Z)(function*(r){if(!Oa.vt())return Promise.resolve();const o=r+"main";yield Oa.delete(o)}),function(r){return t.apply(this,arguments)})(Qm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class bx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Uo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&rh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function dR(n,e,t,r={}){var o;const u=(n=Wn(n,I0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&rh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,y;if("string"==typeof r.mockUserToken)h=r.mockUserToken,y=Hi.MOCK_USER;else{h=(0,nn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ye(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Hi(E)}n._authCredentials=new pb(new pm(h,y))}}(this._delegate,e,t,r)}enableNetwork(){return function wR(n){return function rR(n){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield FS(n),t=yield LS(n);return e.setNetworkEnabled(!0),function(r){const o=vt(r);return o.fu.delete(0),iy(o)}(t)}))}(Gi(n=Wn(n,ri)))}(this._delegate)}disableNetwork(){return function bR(n){return function iR(n){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield FS(n),t=yield LS(n);return e.setNetworkEnabled(!1),(r=(0,Oe.Z)(function*(o){const u=vt(o);u.fu.add(0),yield i(u),u.wu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Gi(n=Wn(n,ri)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,jS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vR(n){return function(e){const t=new ss;return e.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function B1(n,e){return uT.apply(this,arguments)}(yield RT(e),t)})),t.promise}(Gi(n=Wn(n,ri)))}(this._delegate)}onSnapshotsInSync(e){return function JR(n,e){return function aR(n,e){const t=new $E(e);return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return r=yield dy(n),o=t,vt(r).Eu.add(o),void o.next();var r,o})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return r=yield dy(n),o=t,void vt(r).Eu.delete(o);var r,o}))}}(Gi(n=Wn(n,ri)),PT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fy(this,zS(this._delegate,e))}catch(t){throw jo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Iu(this,zE(this._delegate,e))}catch(t){throw jo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ho(this,function hR(n,e){if(n=Wn(n,I0),kT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ye(Ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yo(n,null,(t=e,new rl($n.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw jo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function eN(n,e){return function uR(n,e){const t=new ss;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){const r=yield(o=n,qE(o).then(u=>u.datastore));var o;new tR(n.asyncQueue,r,e,t).run()})),t.promise}(Gi(n=Wn(n,ri)),t=>e(new XR(n,t)))}(this._delegate,t=>e(new Ex(this,t)))}batch(){return Gi(this._delegate),new Ix(new px(this._delegate,e=>hy(this._delegate,e)))}loadBundle(e){return function ER(n,e){const t=Gi(n=Wn(n,ri)),r=new pR;return function lR(n,e,t,r){const o=function(u,h){let y;return y="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,x){if(E instanceof Uint8Array)return kS(E,x);if(E instanceof ArrayBuffer)return kS(new Uint8Array(E),x);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new X1(E,h);var E}(t,ry(e));n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){!function Q1(n,e,t){const r=vt(n);var o;(o=(0,Oe.Z)(function*(u,h,y){try{const E=yield h.getMetadata();if(yield function(Y,ae){const ye=vt(Y),nt=fi(ae.createTime);return ye.persistence.runTransaction("hasNewerBundle","readonly",ft=>ye._s.getBundleMetadata(ft,ae.id)).then(ft=>!!ft&&ft.createTime.compareTo(nt)>=0)}(u.localStore,E))return yield h.close(),y._completeWith({taskState:"Success",documentsLoaded:(Y=E).totalDocuments,bytesLoaded:Y.totalBytes,totalDocuments:Y.totalDocuments,totalBytes:Y.totalBytes}),Promise.resolve(new Set);y._updateProgress(ES(E));const x=new M1(E,u.localStore,h.M);let F=yield h.da();for(;F;){const Y=yield x.ku(F);Y&&y._updateProgress(Y),F=yield h.da()}const U=yield x.complete();return yield id(u,U.Fu,void 0),yield function(Y,ae){const ye=vt(Y);return ye.persistence.runTransaction("Save bundle","readwrite",nt=>ye._s.saveBundleMetadata(nt,ae))}(u.localStore,E),y._completeWith(U.progress),Promise.resolve(U.Ou)}catch(E){return rh("SyncEngine",`Loading bundle failed with ${E}`),y._failWith(E),Promise.resolve(new Set)}var Y}),function(u,h,y){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield RT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function IR(n,e){return function cR(n,e){return n.asyncQueue.enqueue((0,Oe.Z)(function*(){return function(t,r){const o=vt(t);return o.persistence.runTransaction("Get named query","readonly",u=>o._s.getNamedQuery(u,r))}(yield MT(n),e)}))}(Gi(n=Wn(n,ri)),e).then(t=>t?new yo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ho(this,t):null)}}class eI extends BT{constructor(e){super(),this.firestore=e}convertBytes(e){return new S0(new sc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Iu.forKey(t,this.firestore,null)}}class Ex{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}get(e){const t=Bp(e);return this._delegate.get(t).then(r=>new x0(this._firestore,new od(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Bp(e);return r?(HT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Bp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Bp(e);return this._delegate.delete(t),this}}class Ix{constructor(e){this._delegate=e}set(e,t,r){const o=Bp(e);return r?(HT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Bp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Bp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Up{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new T0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new M0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Up.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Up(e,new eI(e),t),o.set(t,u)),u}}Up.INSTANCES=new WeakMap;class Iu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Iu(t,new Zr(t._delegate,r,new gt(e)))}static forKey(e,t,r){return new Iu(t,new Zr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new fy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fy(this.firestore,zS(this._delegate,e))}catch(t){throw jo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nn.m9)(e))instanceof Zr&&ZS(this._delegate,e)}set(e,t){t=HT("DocumentReference.set",t);try{return t?gx(this._delegate,e,t):gx(this._delegate,e)}catch(r){throw jo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?mx(this._delegate,e):mx(this._delegate,e,t,...r)}catch(o){throw jo(o,"updateDoc()","DocumentReference.update()")}}delete(){return function YR(n){return hy(Wn(n.firestore,ri),[new Im(n._key,_i.none())])}(this._delegate)}onSnapshot(...e){const t=Cx(e),r=Dx(e,o=>new x0(this.firestore,new od(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return yx(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function GR(n){n=Wn(n,Zr);const e=Wn(n.firestore,ri),t=Gi(e),r=new Vp(e);return function sR(n,e){const t=new ss;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(r=(0,Oe.Z)(function*(o,u,h){try{const y=yield function(E,x){const F=vt(E);return F.persistence.runTransaction("read document","readonly",U=>F.ci.Ls(U,x))}(o,u);y.isFoundDocument()?h.resolve(y):y.isNoDocument()?h.resolve(null):h.reject(new Ye(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const E=ay(y,`Failed to get document '${u} from cache`);h.reject(E)}}),function(o,u,h){return r.apply(this,arguments)})(yield MT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new od(e,r,n._key,o,new Lp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function zR(n){n=Wn(n,Zr);const e=Wn(n.firestore,ri);return VS(Gi(e),n._key,{source:"server"}).then(t=>jT(e,n,t))}(this._delegate):function qR(n){n=Wn(n,Zr);const e=Wn(n.firestore,ri);return VS(Gi(e),n._key).then(t=>jT(e,n,t))}(this._delegate),t.then(r=>new x0(this.firestore,new od(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Iu(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function jo(n,e,t){return n.message=n.message.replace(e,t),n}function Cx(n){for(const e of n)if("object"==typeof e&&!$T(e))return e;return{}}function Dx(n,e){var t,r;let o;return o=$T(n[0])?n[0]:$T(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class x0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Iu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sx(this._delegate,e._delegate)}}class M0 extends x0{data(e){const t=this._delegate.data(e);return function Gc(n,e){n||St()}(void 0!==t),t}}class Ho{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eI(e)}where(e,t,r){try{return new Ho(this.firestore,xh(this._delegate,function PR(n,e,t){const r=e,o=JE("where",n);return new kR(o,r,t)}(e,t,r)))}catch(o){throw jo(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ho(this.firestore,xh(this._delegate,function FR(n,e="asc"){const t=e,r=JE("orderBy",n);return new OR(r,t)}(e,t)))}catch(r){throw jo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ho(this.firestore,xh(this._delegate,function LR(n){return qS("limit",n),new ax("limit",n,"F")}(e)))}catch(t){throw jo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ho(this.firestore,xh(this._delegate,function VR(n){return qS("limitToLast",n),new ax("limitToLast",n,"L")}(e)))}catch(t){throw jo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ho(this.firestore,xh(this._delegate,function UR(...n){return new ux("startAt",n,!0)}(...e)))}catch(t){throw jo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ho(this.firestore,xh(this._delegate,function BR(...n){return new ux("startAfter",n,!1)}(...e)))}catch(t){throw jo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ho(this.firestore,xh(this._delegate,function jR(...n){return new lx("endBefore",n,!1)}(...e)))}catch(t){throw jo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ho(this.firestore,xh(this._delegate,function HR(...n){return new lx("endAt",n,!0)}(...e)))}catch(t){throw jo(t,"endAt()","Query.endAt()")}}isEqual(e){return WS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function WR(n){n=Wn(n,yo);const e=Wn(n.firestore,ri),t=Gi(e),r=new Vp(e);return function oR(n,e){const t=new ss;return n.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(r=(0,Oe.Z)(function*(o,u,h){try{const y=yield Jm(o,u,!0),E=new DS(u,y.li),x=E.Gu(y.documents),F=E.applyChanges(x,!1);h.resolve(F.snapshot)}catch(y){const E=ay(y,`Failed to execute query '${u} against cache`);h.reject(E)}}),function(o,u,h){return r.apply(this,arguments)})(yield MT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Sh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function KR(n){n=Wn(n,yo);const e=Wn(n.firestore,ri),t=Gi(e),r=new Vp(e);return US(t,n._query,{source:"server"}).then(o=>new Sh(e,r,n,o))}(this._delegate):function ZR(n){n=Wn(n,yo);const e=Wn(n.firestore,ri),t=Gi(e),r=new Vp(e);return ox(n._query),US(t,n._query).then(o=>new Sh(e,r,n,o))}(this._delegate),t.then(r=>new qT(this.firestore,new Sh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Cx(e),r=Dx(e,o=>new qT(this.firestore,new Sh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return yx(this._delegate,t,r)}withConverter(e){return new Ho(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}class dN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new M0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ho(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new M0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new dN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new M0(this._firestore,r))})}isEqual(e){return sx(this._delegate,e._delegate)}}class fy extends Ho{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Iu(this.firestore,e):null}doc(e){try{return new Iu(this.firestore,void 0===e?zE(this._delegate):zE(this._delegate,e))}catch(t){throw jo(t,"doc()","CollectionReference.doc()")}}add(e){return function QR(n,e){const t=Wn(n.firestore,ri),r=zE(n),o=XE(n.converter,e);return hy(t,[KE(Op(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,_i.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Iu(this.firestore,t))}isEqual(e){return ZS(this._delegate,e._delegate)}withConverter(e){return new fy(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function Bp(n){return Wn(n,Zr)}class GT{constructor(...e){this._delegate=new sd(...e)}static documentId(){return new GT($i.keyField().canonicalString())}isEqual(e){return(e=(0,nn.m9)(e))instanceof sd&&this._delegate._internalPath.isEqual(e._internalPath)}}class jp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function nN(){return new OT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new jp(e)}static delete(){const e=function tN(){return new C0("deleteField")}();return e._methodName="FieldValue.delete",new jp(e)}static arrayUnion(...e){const t=function rN(...n){return new AR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new jp(t)}static arrayRemove(...e){const t=function iN(...n){return new SR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new jp(t)}static increment(e){const t=function sN(n){return new xR("increment",n)}(e);return t._methodName="FieldValue.increment",new jp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const hN={Firestore:bx,GeoPoint:ZE,Timestamp:ni,Blob:S0,Transaction:Ex,WriteBatch:Ix,DocumentReference:Iu,DocumentSnapshot:x0,Query:Ho,QueryDocumentSnapshot:M0,QuerySnapshot:qT,CollectionReference:fy,FieldPath:GT,FieldValue:jp,setLogLevel:function cN(n){!function fb(n){Ju.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Tx(n,e){return function gN(n,e=Dw.z){return new Jn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function zT(n,e){return Tx(n,e).pipe((0,In.U)(t=>({payload:t,type:"query"})))}function tI(n,e){return zT(n,e).pipe(Vs(void 0),k_(),(0,In.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,y)=>{const E=o.find(F=>F.doc.ref.isEqual(h.ref)),x=null==t?void 0:t.payload.docs.find(F=>F.ref.isEqual(h.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(h.metadata)||!E&&x&&JSON.stringify(x.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:h}})}),u}))}function Ax(n,e,t){return tI(n,t).pipe(xi((r,o)=>function yN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function _N(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ZT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ZT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ZT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function WA(n,e=ws.y){return n=null!=n?n:P_,(0,Si.e)((t,r)=>{let o,u=!0;t.subscribe((0,Or.x)(r,h=>{const y=e(h);(u||!n(o,y))&&(u=!1,o=y,r.next(h))}))})}(),(0,In.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function ZT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function Sx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function pN(n){(function fN(n,e){n.INTERNAL.registerComponent(new fo.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},hN)))})(n,(e,t)=>new bx(e,t,new lN)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(Ng.Z);class xx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=tI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,In.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Vs(void 0),k_(),xo(([r,o])=>o.length>0||!r),(0,In.U)(([r,o])=>o),Fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Sx(e);return Ax(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return zT(this.query,this.afs.schedulers.outsideAngular).pipe((0,In.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Fr.iC)}get(e){return(0,At.D)(this.query.get(e)).pipe(Fr.iC)}add(e){return this.ref.add(e)}doc(e){return new Mx(this.ref.doc(e),this.afs)}}class Mx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=kx(r,t);return new xx(o,u,this.afs)}snapshotChanges(){return function mN(n,e){return Tx(n,e).pipe(Vs(void 0),k_(),(0,In.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,In.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,At.D)(this.ref.get(e)).pipe(Fr.iC)}}class vN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?tI(this.query,this.afs.schedulers.outsideAngular).pipe((0,In.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),xo(t=>t.length>0),Fr.iC):tI(this.query,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(xi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Sx(e);return Ax(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return zT(this.query,this.afs.schedulers.outsideAngular).pipe((0,In.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Fr.iC)}get(e){return(0,At.D)(this.query.get(e)).pipe(Fr.iC)}}const Rx=new c.OlP("angularfire2.enableFirestorePersistence"),Nx=new c.OlP("angularfire2.firestore.persistenceSettings"),wN=new c.OlP("angularfire2.firestore.settings"),bN=new c.OlP("angularfire2.firestore.use-emulator");function kx(n,e=(t=>t)){return{query:e(n),ref:n}}let py=(()=>{class n{constructor(t,r,o,u,h,y,E,x,F,U,Y,ae,ye,nt,ft,fn,pn){this.schedulers=E;const Qt=(0,Sr.on)(t,y,r),Bt=F;U&&N_(Qt,y,Y,ye,nt,ft,ae,fn),[this.firestore,this.persistenceEnabled$]=(0,Sr.cc)(`${Qt.name}.firestore`,"AngularFirestore",Qt.name,()=>{const wn=y.runOutsideAngular(()=>Qt.firestore());if(u&&wn.settings(u),Bt&&wn.useEmulator(...Bt),o&&!Yr(h)){const Vn=()=>{try{return(0,At.D)(wn.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(zi){return"undefined"!=typeof console&&console.warn(zi),Je(!1)}};return[wn,y.runOutsideAngular(Vn)]}return[wn,Je(!1)]},[u,Bt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=kx(o,r),y=this.schedulers.ngZone.run(()=>u);return new xx(y,h,this)}collectionGroup(t,r){const o=r||(h=>h),u=this.firestore.collectionGroup(t);return new vN(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new Mx(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sr.Dh),c.LFG(Sr.xv,8),c.LFG(Rx,8),c.LFG(wN,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Fr.HU),c.LFG(Nx,8),c.LFG(bN,8),c.LFG(Fo,8),c.LFG(tC,8),c.LFG(Cw,8),c.LFG(S_,8),c.LFG(x_,8),c.LFG(M_,8),c.LFG(R_,8),c.LFG(xg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EN=(()=>{class n{constructor(){T_.Z.registerVersion("angularfire",Fr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Rx,useValue:!0},{provide:Nx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[py]}),n})(),ad=(()=>{class n{constructor(t,r){this.fa=t,this.db=r,this.user=this.fa.user}signUp(t,r){return this.fa.createUserWithEmailAndPassword(t,r)}signIn(t,r){return this.fa.signInWithEmailAndPassword(t,r)}getAllProducts(){return new Promise(t=>{this.db.collection("products").valueChanges({idField:"id"}).subscribe(r=>t(r))})}getCurrentUser(t){return new Promise(r=>{this.db.collection("users",o=>o.where("uid","==",t)).valueChanges().subscribe(o=>r(o))})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fo),c.LFG(py))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Px=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Hp=(()=>{class n extends Px{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const oc=new c.OlP("NgValueAccessor"),DN={provide:oc,useExisting:(0,c.Gpc)(()=>Rh),multi:!0},AN=new c.OlP("CompositionEventMode");let Rh=(()=>{class n extends Px{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function TN(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(AN,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([DN]),c.qOj]}),n})();function Nh(n){return null==n||0===n.length}const _o=new c.OlP("NgValidators"),kh=new c.OlP("NgAsyncValidators"),SN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Ux(n){return Nh(n.value)?{required:!0}:null}function jx(n){return Nh(n.value)||SN.test(n.value)?null:{email:!0}}function nI(n){return null}function Gx(n){return null!=n}function zx(n){const e=(0,c.QGY)(n)?(0,At.D)(n):n;return(0,c.CqO)(e),e}function Zx(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Wx(n,e){return e.map(t=>t(n))}function Kx(n){return n.map(e=>function xN(n){return!n.validate}(e)?e:t=>e.validate(t))}function WT(n){return null!=n?function Yx(n){if(!n)return null;const e=n.filter(Gx);return 0==e.length?null:function(t){return Zx(Wx(t,e))}}(Kx(n)):null}function KT(n){return null!=n?function Qx(n){if(!n)return null;const e=n.filter(Gx);return 0==e.length?null:function(t){return function IN(...n){const e=(0,Kt.jO)(n),{args:t,keys:r}=Os(n),o=new Jn.y(u=>{const{length:h}=t;if(!h)return void u.complete();const y=new Array(h);let E=h,x=h;for(let F=0;F<h;F++){let U=!1;(0,iu.Xf)(t[F]).subscribe((0,Or.x)(u,Y=>{U||(U=!0,x--),y[F]=Y},()=>E--,void 0,()=>{(!E||!U)&&(x||u.next(r?wa(r,y):y),u.complete())}))}});return e?o.pipe(md(e)):o}(Wx(t,e).map(zx)).pipe((0,In.U)(Zx))}}(Kx(n)):null}function Jx(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YT(n){return n?Array.isArray(n)?n:[n]:[]}function rI(n,e){return Array.isArray(n)?n.includes(e):n===e}function tM(n,e){const t=YT(e);return YT(n).forEach(o=>{rI(t,o)||t.push(o)}),t}function nM(n,e){return YT(e).filter(t=>!rI(n,t))}class rM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ph extends rM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $o extends rM{get formDirective(){return null}get path(){return null}}class iM{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let gy=(()=>{class n extends iM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ph,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),my=(()=>{class n extends iM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($o,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function R0(n,e){XT(n,e),e.valueAccessor.writeValue(n.value),function LN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oM(n,e)})}(n,e),function UN(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function VN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function FN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function aI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XT(n,e){const t=function Xx(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Jx(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function eM(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Jx(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();aI(e._rawValidators,o),aI(e._rawAsyncValidators,o)}function oM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const N0="VALID",lI="INVALID",yy="PENDING",k0="DISABLED";function iA(n){return(cI(n)?n.validators:n)||null}function cM(n){return Array.isArray(n)?WT(n):n||null}function sA(n,e){return(cI(e)?e.asyncValidators:n)||null}function dM(n){return Array.isArray(n)?KT(n):n||null}function cI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const oA=n=>n instanceof uA;function fM(n){return(n=>n instanceof mM)(n)?n.value:n.getRawValue()}function pM(n,e){const t=oA(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function gM(n,e){oA(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new c.vHH(1002,"")})}class aA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=cM(this._rawValidators),this._composedAsyncValidatorFn=dM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===N0}get invalid(){return this.status===lI}get pending(){return this.status==yy}get disabled(){return this.status===k0}get enabled(){return this.status!==k0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=cM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=dM(e)}addValidators(e){this.setValidators(tM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nM(e,this._rawAsyncValidators))}hasValidator(e){return rI(this._rawValidators,e)}hasAsyncValidator(e){return rI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=k0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=N0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===N0||this.status===yy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?k0:N0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yy,this._hasOwnPendingAsyncValidator=!0;const t=zx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function $N(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=oA(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof GN)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?k0:this.errors?lI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yy)?yy:this._anyControlsHaveStatus(lI)?lI:N0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class mM extends aA{constructor(e=null,t,r){super(iA(t),sA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cI(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class uA extends aA{constructor(e,t,r){super(iA(t),sA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){gM(this,e),Object.keys(e).forEach(r=>{pM(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=fM(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class GN extends aA{constructor(e,t,r){super(iA(t),sA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){gM(this,e),e.forEach((r,o)=>{pM(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>fM(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const zN={provide:$o,useExisting:(0,c.Gpc)(()=>Oh)},P0=(()=>Promise.resolve(null))();let Oh=(()=>{class n extends $o{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new uA({},WT(t),KT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){P0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),R0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){P0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){P0.then(()=>{const r=this._findContainer(t.path),o=new uA({});(function aM(n,e){XT(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){P0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){P0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function lM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_o,10),c.Y36(kh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([zN]),c.qOj]}),n})();const WN={provide:Ph,useExisting:(0,c.Gpc)(()=>$p)},vM=(()=>Promise.resolve(null))();let $p=(()=>{class n extends Ph{constructor(t,r,o,u,h){super(),this._changeDetectorRef=h,this.control=new mM,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function tA(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Rh?t=u:function HN(n){return Object.getPrototypeOf(n.constructor)===Hp}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function eA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){R0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){vM.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;vM.then(()=>{var u;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?function sI(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($o,9),c.Y36(_o,10),c.Y36(kh,10),c.Y36(oc,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([WN]),c.qOj,c.TTD]}),n})(),_y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),bM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();let qp=(()=>{class n{constructor(){this._validator=nI}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):nI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const fk={provide:_o,useExisting:(0,c.Gpc)(()=>O0),multi:!0};let O0=(()=>{class n extends qp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function ck(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Ux}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([fk]),c.qOj]}),n})();const gk={provide:_o,useExisting:(0,c.Gpc)(()=>pA),multi:!0};let pA=(()=>{class n extends qp{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=t=>""===t||!0===t||"true"===t,this.createValidator=t=>jx}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[c._Bn([gk]),c.qOj]}),n})();const mk={provide:_o,useExisting:(0,c.Gpc)(()=>dI),multi:!0};let dI=(()=>{class n extends qp{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function MM(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function Hx(n){return e=>Nh(e.value)||!function Fx(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[c._Bn([mk]),c.qOj]}),n})(),vk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bM]]}),n})(),wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[vk]}),n})();function bk(n,e){1&n&&(c.TgZ(0,"p",15),c._uU(1,"Full name name is required"),c.qZA())}function Ek(n,e){1&n&&(c.TgZ(0,"p",15),c._uU(1,"Password is required"),c.qZA())}function Ik(n,e){1&n&&(c.TgZ(0,"p",15),c._uU(1,"Password should compose > 8 caracters"),c.qZA())}let Ck=(()=>{class n{constructor(t,r,o){this.sa=t,this.route=r,this.as=o,this.getUser=new ou.w0}ngOnInit(){this.getUser=this.as.user.subscribe(t=>{this.Uid=t.uid})}login(t){var r=this;let o=t.value;this.sa.signIn(o.flName,o.password).then(function(){var u=(0,Oe.Z)(function*(h){console.log("login ok"),r.getUser=r.as.user.subscribe(y=>{r.Uid=y.uid}),yield new Promise(y=>setTimeout(y,400)).then(()=>{localStorage.setItem("userId",r.Uid),r.route.navigate(["/"])})});return function(h){return u.apply(this,arguments)}}()).catch(()=>{console.log("login error"),this.messageError="Incorrect email or Password !"})}ngOnDestroy(){this.getUser.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ad),c.Y36(yi),c.Y36(ad))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:22,vars:4,consts:[[1,"vh-100","d-flex","justify-content-center","align-items-center"],[3,"ngSubmit"],["f","ngForm"],[1,"uk-margin"],[1,"uk-inline"],["uk-icon","icon: happy",1,"uk-form-icon"],["type","text","name","flName","placeholder","Full name","ngModel","","required","",1,"uk-input"],["flName","ngModel"],["class","text-danger",4,"ngIf"],["uk-icon","icon: lock",1,"uk-form-icon","uk-form-icon-flip"],["type","password","name","password","ngModel","","placeholder","Password","required","","minlength","8",1,"uk-input"],["password","ngModel"],["type","submit",1,"btn","btn-outline-success",2,"width","100%","margin-bottom","5px"],["type","submit",1,"btn","btn-outline-primary",2,"width","100%"],[1,"text-center",2,"color","red"],[1,"text-danger"]],template:function(t,r){if(1&t){const o=c.EpF();c.TgZ(0,"div",0)(1,"form",1,2),c.NdJ("ngSubmit",function(){c.CHM(o);const h=c.MAs(2);return r.login(h)}),c.TgZ(3,"div",3)(4,"div",4),c._UZ(5,"span",5)(6,"input",6,7),c.qZA(),c.YNc(8,bk,2,0,"p",8),c.qZA(),c.TgZ(9,"div",3)(10,"div",4),c._UZ(11,"span",9)(12,"input",10,11),c.YNc(14,Ek,2,0,"p",8),c.YNc(15,Ik,2,0,"p",8),c.qZA()(),c.TgZ(16,"button",12),c._uU(17,"Login"),c.qZA(),c.TgZ(18,"button",13),c._uU(19,"forgot password"),c.qZA()(),c.TgZ(20,"p",14),c._uU(21),c.qZA()()}if(2&t){const o=c.MAs(7),u=c.MAs(13);c.xp6(8),c.Q6J("ngIf",(null==o.errors?null:o.errors.required)&&o.touched),c.xp6(6),c.Q6J("ngIf",(null==u.errors?null:u.errors.required)&&u.touched),c.xp6(1),c.Q6J("ngIf",(null==u.errors?null:u.errors.minlength)&&u.touched),c.xp6(6),c.Oqu(r.messageError)}},directives:[_y,my,Oh,Rh,gy,$p,O0,gr,dI],styles:[""]}),n})();function Dk(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",25)(1,"div",26),c._UZ(2,"img",27),c.TgZ(3,"div",28)(4,"h5",29)(5,"b"),c._uU(6),c.qZA()(),c.TgZ(7,"p",30),c._uU(8),c.qZA()(),c.TgZ(9,"div",31)(10,"button",32),c.NdJ("click",function(){const u=c.CHM(t).$implicit;return c.oxw().delete(u.id)}),c._uU(11,"Delete"),c.qZA(),c.TgZ(12,"button",33),c.NdJ("click",function(){const u=c.CHM(t).$implicit;return c.oxw().chooseProductToUpdate(u)}),c._uU(13,"Update"),c.qZA()()()()}if(2&n){const t=e.$implicit;c.xp6(2),c.Q6J("src",t.image,c.LSH),c.xp6(4),c.Oqu(t.title),c.xp6(2),c.hij(" ",t.description," ")}}function Tk(n,e){if(1&n&&(c.TgZ(0,"div",34)(1,"strong"),c._uU(2),c.qZA()()),2&n){const t=c.oxw();c.xp6(2),c.Oqu(t.successMessage)}}function Ak(n,e){if(1&n&&(c.TgZ(0,"div",34)(1,"strong"),c._uU(2),c.qZA()()),2&n){const t=c.oxw(2);c.xp6(2),c.Oqu(t.successMessage)}}function Sk(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",10)(1,"form",11,12),c.NdJ("ngSubmit",function(){return c.CHM(t),c.oxw().update()}),c.TgZ(3,"div",13)(4,"label",14),c._uU(5,"Title"),c.qZA(),c.TgZ(6,"input",35),c.NdJ("ngModelChange",function(o){return c.CHM(t),c.oxw().productToUpdate.title=o}),c.qZA()(),c.TgZ(7,"div",13)(8,"label",14),c._uU(9,"Description"),c.qZA(),c.TgZ(10,"textarea",36),c.NdJ("ngModelChange",function(o){return c.CHM(t),c.oxw().productToUpdate.description=o}),c.qZA()(),c.TgZ(11,"div",13)(12,"label",14),c._uU(13,"Image (link)"),c.qZA(),c.TgZ(14,"input",37),c.NdJ("ngModelChange",function(o){return c.CHM(t),c.oxw().productToUpdate.image=o}),c.qZA()(),c.TgZ(15,"button",21),c._uU(16,"Update product"),c.qZA(),c.YNc(17,Ak,3,1,"div",22),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngModel",t.productToUpdate.title),c.xp6(4),c.Q6J("ngModel",t.productToUpdate.description),c.xp6(4),c.Q6J("ngModel",t.productToUpdate.image),c.xp6(3),c.Q6J("ngIf",t.successMessage)}}let xk=(()=>{class n{constructor(t,r){this.fs=t,this.as=r,this.as.user.subscribe(o=>{this.Uid=o.uid})}ngOnInit(){var t=this;return(0,Oe.Z)(function*(){t.dataArray=(yield t.as.getAllProducts()).filter(r=>r.uid===t.Uid)})()}addProduct(t){let r=t.value;this.fs.collection("products").doc().set({title:r.title,description:r.description,image:r.image,uid:this.Uid}).then(()=>{this.successMessage="Added !",window.location.reload()}).catch(()=>{console.log("error !")})}delete(t){var r=this;return(0,Oe.Z)(function*(){confirm("Are you sure to delete this product ? ")&&(r.fs.collection("products").doc(t).delete(),r.dataArray=(yield r.as.getAllProducts()).filter(o=>o.uid===r.Uid))})()}chooseProductToUpdate(t){this.productToUpdate=t,console.log(this.productToUpdate)}update(){this.fs.collection("products").doc(this.productToUpdate.id).update({title:this.productToUpdate.title,description:this.productToUpdate.description,image:this.productToUpdate.image}).then(()=>{this.successMessage="Updated",window.location.reload()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(py),c.Y36(ad))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-my-products"]],decls:40,vars:3,consts:[[1,"text-center"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary",2,"margin-bottom","10px"],[1,"row"],["class","col","style","margin-bottom: 10px",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"ngSubmit"],["f","ngForm"],[1,"mb-3"],["for","",1,"form-label"],["type","text","name","title","ngModel","","placeholder","Title","aria-describedby","helpId",1,"form-control"],["title","ngModel"],["type","Description","name","description","ngModel","","placeholder","Description","aria-describedby","helpId",1,"form-control"],["description","ngModel"],["type","text","name","image","ngModel","","placeholder","Image (link)","aria-describedby","helpId",1,"form-control"],["image","ngModel"],["type","submit",1,"btn","btn-success"],["class","alert alert-success","role","alert",4,"ngIf"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["class","modal-body",4,"ngIf"],[1,"col",2,"margin-bottom","10px"],[1,"card"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-center",2,"display","block"],[1,"uk-button","uk-button-danger","uk-button-small",3,"click"],["data-bs-toggle","modal","data-bs-target","#exampleModal2",1,"uk-button","uk-button-default","uk-button-small",3,"click"],["role","alert",1,"alert","alert-success"],["type","text","name","title","placeholder","Title","aria-describedby","helpId",1,"form-control",3,"ngModel","ngModelChange"],["type","Description","name","description","placeholder","Description","aria-describedby","helpId",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","image","placeholder","Image (link)","aria-describedby","helpId",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){if(1&t){const o=c.EpF();c._UZ(0,"br"),c.TgZ(1,"h3",0),c._uU(2,"My products"),c.qZA(),c.TgZ(3,"button",1),c._uU(4," Add product\n"),c.qZA(),c.TgZ(5,"div",2),c.YNc(6,Dk,14,3,"div",3),c.qZA(),c.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"h5",8),c._uU(12,"Modal title"),c.qZA(),c._UZ(13,"button",9),c.qZA(),c.TgZ(14,"div",10)(15,"form",11,12),c.NdJ("ngSubmit",function(){c.CHM(o);const h=c.MAs(16);return r.addProduct(h)}),c.TgZ(17,"div",13),c._UZ(18,"label",14)(19,"input",15,16),c.qZA(),c.TgZ(21,"div",13),c._UZ(22,"label",14)(23,"textarea",17,18),c.qZA(),c.TgZ(25,"div",13),c._UZ(26,"label",14)(27,"input",19,20),c.qZA(),c.TgZ(29,"button",21),c._uU(30,"Add product"),c.qZA(),c.YNc(31,Tk,3,1,"div",22),c.qZA()()()()(),c.TgZ(32,"div",23)(33,"div",5)(34,"div",6)(35,"div",7)(36,"h5",8),c._uU(37,"Update products informations"),c.qZA(),c._UZ(38,"button",9),c.qZA(),c.YNc(39,Sk,18,4,"div",24),c.qZA()()()}2&t&&(c.xp6(6),c.Q6J("ngForOf",r.dataArray),c.xp6(25),c.Q6J("ngIf",r.successMessage),c.xp6(8),c.Q6J("ngIf",r.productToUpdate))},directives:[Br,_y,my,Oh,Rh,gy,$p,gr],styles:[""]}),n})();function Mk(n,e){if(1&n&&(c.TgZ(0,"div",23)(1,"div",24),c._UZ(2,"img",25),c.TgZ(3,"div",26)(4,"h5",27)(5,"b"),c._uU(6),c.qZA()(),c.TgZ(7,"p",28),c._uU(8),c.qZA()()()()),2&n){const t=e.$implicit;c.xp6(2),c.Q6J("src",t.image,c.LSH),c.xp6(4),c.Oqu(t.title),c.xp6(2),c.hij(" ",t.description," ")}}function Rk(n,e){if(1&n&&(c.TgZ(0,"div",29)(1,"strong"),c._uU(2),c.qZA()()),2&n){const t=c.oxw();c.xp6(2),c.Oqu(t.successMessage)}}let Nk=(()=>{class n{constructor(t,r){this.fs=t,this.as=r}ngOnInit(){var t=this;return(0,Oe.Z)(function*(){t.dataArray=yield t.as.getAllProducts()})()}addProduct(t){let r=t.value;this.fs.collection("products").doc().set({title:r.title,description:r.description,image:r.image,uid:this.Uid}).then(()=>{this.successMessage="Added !",console.log(this.successMessage)}).catch(()=>{console.log("error !")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(py),c.Y36(ad))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-products"]],decls:36,vars:2,consts:[[1,"text-center"],[1,"row"],["class","col","style","margin-bottom: 10px",4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"ngSubmit"],["f","ngForm"],[1,"mb-3"],["for","",1,"form-label"],["type","text","name","title","ngModel","","placeholder","Title","aria-describedby","helpId",1,"form-control"],["title","ngModel"],["id","helpId",1,"text-muted"],["type","Description","name","description","ngModel","","placeholder","Description","aria-describedby","helpId",1,"form-control"],["description","ngModel"],["type","text","name","image","ngModel","","placeholder","Image (link)","aria-describedby","helpId",1,"form-control"],["image","ngModel"],["type","submit",1,"btn","btn-success"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"col",2,"margin-bottom","10px"],[1,"card"],["alt","Card image cap",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["role","alert",1,"alert","alert-success"]],template:function(t,r){if(1&t){const o=c.EpF();c._UZ(0,"br"),c.TgZ(1,"h3",0),c._uU(2,"All products"),c.qZA(),c.TgZ(3,"div",1),c.YNc(4,Mk,9,3,"div",2),c.qZA(),c.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"h5",7),c._uU(10,"Modal title"),c.qZA(),c._UZ(11,"button",8),c.qZA(),c.TgZ(12,"div",9)(13,"form",10,11),c.NdJ("ngSubmit",function(){c.CHM(o);const h=c.MAs(14);return r.addProduct(h)}),c.TgZ(15,"div",12),c._UZ(16,"label",13)(17,"input",14,15),c.TgZ(19,"small",16),c._uU(20,"Help text"),c.qZA()(),c.TgZ(21,"div",12),c._UZ(22,"label",13)(23,"textarea",17,18),c.TgZ(25,"small",16),c._uU(26,"Help text"),c.qZA()(),c.TgZ(27,"div",12),c._UZ(28,"label",13)(29,"input",19,20),c.TgZ(31,"small",16),c._uU(32,"Help text"),c.qZA()(),c.TgZ(33,"button",21),c._uU(34,"Add product"),c.qZA(),c.YNc(35,Rk,3,1,"div",22),c.qZA()()()()()}2&t&&(c.xp6(4),c.Q6J("ngForOf",r.dataArray),c.xp6(31),c.Q6J("ngIf",r.successMessage))},directives:[Br,_y,my,Oh,Rh,gy,$p,gr],styles:[""]}),n})();var hI,kk=new Uint8Array(16);function Pk(){if(!hI&&!(hI="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hI(kk)}const Ok=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Lk=function Fk(n){return"string"==typeof n&&Ok.test(n)};for(var zs=[],gA=0;gA<256;++gA)zs.push((gA+256).toString(16).substr(1));const jk=function Bk(n,e,t){var r=(n=n||{}).random||(n.rng||Pk)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=r[o];return e}return function Vk(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(zs[n[e+0]]+zs[n[e+1]]+zs[n[e+2]]+zs[n[e+3]]+"-"+zs[n[e+4]]+zs[n[e+5]]+"-"+zs[n[e+6]]+zs[n[e+7]]+"-"+zs[n[e+8]]+zs[n[e+9]]+"-"+zs[n[e+10]]+zs[n[e+11]]+zs[n[e+12]]+zs[n[e+13]]+zs[n[e+14]]+zs[n[e+15]]).toLowerCase();if(!Lk(t))throw TypeError("Stringified UUID is invalid");return t}(r)},LM="firebasestorage.googleapis.com",VM="storageBucket";class vi extends nn.ZR{constructor(e,t){super(mA(e),`Firebase Storage: ${t} (${mA(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vi.prototype)}_codeEquals(e){return mA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function mA(n){return"storage/"+n}function yA(){return new vi("unknown","An unknown error occurred, please check the error payload for server response.")}function UM(){return new vi("canceled","User canceled the upload/download.")}function BM(){return new vi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function vy(n){return new vi("invalid-argument",n)}function jM(){return new vi("app-deleted","The Firebase app was deleted.")}function HM(n){return new vi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function F0(n,e){return new vi("invalid-format","String does not match format '"+n+"': "+e)}function L0(n){throw new vi("internal-error","Internal error: "+n)}class vo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=vo.makeFromUrl(e,t)}catch(o){return new vo(e,"")}if(""===r.path)return r;throw function Jk(n){return new vi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",y=new RegExp("^gs://"+o+"(/(.*))?$","i");function x(Bt){Bt.path_=decodeURIComponent(Bt.path)}const U=t.replace(/[.]/g,"\\."),Qt=[{regex:y,indices:{bucket:1,path:3},postModify:function u(Bt){"/"===Bt.path.charAt(Bt.path.length-1)&&(Bt.path_=Bt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${U}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${t===LM?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let Bt=0;Bt<Qt.length;Bt++){const wn=Qt[Bt],Vn=wn.regex.exec(e);if(Vn){let La=Vn[wn.indices.path];La||(La=""),r=new vo(Vn[wn.indices.bucket],La),wn.postModify(r);break}}if(null==r)throw function Qk(n){return new vi("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class nP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function fI(n){return"string"==typeof n||n instanceof String}function $M(n){return _A()&&n instanceof Blob}function _A(){return"undefined"!=typeof Blob}function vA(n,e,t,r){if(r<e)throw vy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw vy(`Invalid value for '${n}'. Expected ${t} or less.`)}function ud(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function qM(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Fh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Fh||(Fh={})),Fh))();class uP{constructor(e,t,r,o,u,h,y,E,x,F,U){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=y,this.errorCallback_=E,this.timeout_=x,this.progressCallback_=F,this.connectionFactory_=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Y,ae)=>{this.resolve_=Y,this.reject_=ae,this.start_()})}start_(){const t=(r,o)=>{const u=this.resolve_,h=this.reject_,y=o.connection;if(o.wasSuccessCode)try{const E=this.callback_(y,y.getResponse());!function sP(n){return void 0!==n}(E)?u():u(E)}catch(E){h(E)}else if(null!==y){const E=yA();E.serverResponse=y.getErrorText(),h(this.errorCallback_?this.errorCallback_(y,E):E)}else h(o.canceled?this.appDelete_?jM():UM():function Yk(){return new vi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new pI(!1,null,!0)):this.backoffId_=function rP(n,e,t){let r=1,o=null,u=null,h=!1,y=0;function E(){return 2===y}let x=!1;function F(...ft){x||(x=!0,e.apply(null,ft))}function U(ft){o=setTimeout(()=>{o=null,n(ae,E())},ft)}function Y(){u&&clearTimeout(u)}function ae(ft,...fn){if(x)return void Y();if(ft)return Y(),void F.call(null,ft,...fn);if(E()||h)return Y(),void F.call(null,ft,...fn);let Qt;r<64&&(r*=2),1===y?(y=2,Qt=0):Qt=1e3*(r+Math.random()),U(Qt)}let ye=!1;function nt(ft){ye||(ye=!0,Y(),!x&&(null!==o?(ft||(y=2),clearTimeout(o),U(0)):ft||(y=1)))}return U(0),u=setTimeout(()=>{h=!0,nt(!0)},t),nt}((r,o)=>{if(o)return void r(!1,new pI(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const h=y=>{null!==this.progressCallback_&&this.progressCallback_(y.loaded,y.lengthComputable?y.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const y=u.getErrorCode()===Fh.NO_ERROR,E=u.getStatus();if(!y||this.isRetryStatusCode_(E)){const F=u.getErrorCode()===Fh.ABORT;return void r(!1,new pI(!1,null,F))}const x=-1!==this.successCodes_.indexOf(E);r(!0,new pI(x,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function iP(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||u}}class pI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function gP(...n){const e=function pP(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(_A())return new Blob(n);throw new vi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Fa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wA{constructor(e,t){this.data=e,this.contentType=t||null}}function bA(n,e){switch(n){case Fa.RAW:return new wA(GM(e));case Fa.BASE64:case Fa.BASE64URL:return new wA(zM(n,e));case Fa.DATA_URL:return new wA(function vP(n){const e=new ZM(n);return e.base64?zM(Fa.BASE64,e.rest):function _P(n){let e;try{e=decodeURIComponent(n)}catch(t){throw F0(Fa.DATA_URL,"Malformed data URL.")}return GM(e)}(e.rest)}(e),function wP(n){return new ZM(n).contentType}(e))}throw yA()}function GM(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function zM(n,e){switch(n){case Fa.BASE64:{const o=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(o||u)throw F0(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Fa.BASE64URL:{const o=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(o||u)throw F0(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function yP(n){return atob(n)}(e)}catch(o){throw F0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class ZM{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw F0(Fa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function bP(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ac{constructor(e,t){let r=0,o="";$M(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if($M(this.data_)){const o=function mP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new ac(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ac(r,!0)}}static getBlob(...e){if(_A()){const t=e.map(r=>r instanceof ac?r.data_:r);return new ac(gP.apply(null,t))}{const t=e.map(h=>fI(h)?bA(Fa.RAW,h).data:h.data_);let r=0;t.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let u=0;return t.forEach(h=>{for(let y=0;y<h.length;y++)o[u++]=h[y]}),new ac(o,!0)}}uploadData(){return this.data_}}function EA(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function aP(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function WM(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function CP(n,e){return e}class qo{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||CP}}let gI=null;function V0(){if(gI)return gI;const n=[];n.push(new qo("bucket")),n.push(new qo("generation")),n.push(new qo("metageneration")),n.push(new qo("name","fullPath",!0));const t=new qo("name");t.xform=function e(u,h){return function DP(n){return!fI(n)||n.length<2?n:WM(n)}(h)},n.push(t);const o=new qo("size");return o.xform=function r(u,h){return void 0!==h?Number(h):h},n.push(o),n.push(new qo("timeCreated")),n.push(new qo("updated")),n.push(new qo("md5Hash",null,!0)),n.push(new qo("cacheControl",null,!0)),n.push(new qo("contentDisposition",null,!0)),n.push(new qo("contentEncoding",null,!0)),n.push(new qo("contentLanguage",null,!0)),n.push(new qo("contentType",null,!0)),n.push(new qo("metadata","customMetadata",!0)),gI=n,gI}function KM(n,e,t){const r=EA(e);return null===r?null:function AP(n,e,t){const r={type:"file"},o=t.length;for(let u=0;u<o;u++){const h=t[u];r[h.local]=h.xform(r,e[h.server])}return function TP(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new vo(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function IA(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const YM="prefixes";class uc{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function lc(n){if(!n)throw yA()}function mI(n,e){return function t(r,o){const u=KM(n,o,e);return lc(null!==u),u}}function wy(n){return function e(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Wk(){return new vi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Zk(){return new vi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function zk(n){return new vi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Kk(n){return new vi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function U0(n){const e=wy(n);return function t(r,o){let u=e(r,o);return 404===r.getStatus()&&(u=function Gk(n){return new vi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=o.serverResponse,u}}function JM(n,e,t){const o=ud(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,y=new uc(o,"GET",mI(n,t),h);return y.errorHandler=U0(e),y}function kP(n,e,t,r,o){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),o&&(u.maxResults=o);const y=ud(e.bucketOnlyServerUrl(),n.host,n._protocol),x=n.maxOperationRetryTime,F=new uc(y,"GET",function RP(n,e){return function t(r,o){const u=function MP(n,e,t){const r=EA(t);return null===r?null:function xP(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[YM])for(const o of t[YM]){const u=o.replace(/\/$/,""),h=n._makeStorageReference(new vo(e,u));r.prefixes.push(h)}if(t.items)for(const o of t.items){const u=n._makeStorageReference(new vo(e,o.name));r.items.push(u)}return r}(n,e,r)}(n,e,o);return lc(null!==u),u}}(n,e.bucket),x);return F.urlParams=u,F.errorHandler=wy(e),F}function e1(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function LP(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class yI{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function CA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){lc(!1)}return lc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const jP={STATE_CHANGED:"state_changed"},Go={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function DA(n){switch(n){case"running":case"pausing":case"canceling":return Go.RUNNING;case"paused":return Go.PAUSED;case"success":return Go.SUCCESS;case"canceled":return Go.CANCELED;default:return Go.ERROR}}class HP{constructor(e,t,r){if(function oP(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function by(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class qP extends class $P{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw L0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw L0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw L0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw L0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw L0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function sl(){return new qP}class i1{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=V0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function VP(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),h=e1(e,r,o),y={name:h.fullPath},E=ud(u,n.host,n._protocol),F={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},U=IA(h,t),ye=new uc(E,"POST",function ae(nt){let ft;CA(nt);try{ft=nt.getResponseHeader("X-Goog-Upload-URL")}catch(fn){lc(!1)}return lc(fI(ft)),ft},n.maxUploadRetryTime);return ye.urlParams=y,ye.headers=F,ye.body=U,ye.errorHandler=wy(e),ye}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,sl,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function UP(n,e,t,r){const E=new uc(t,"POST",function u(x){const F=CA(x,["active","final"]);let U=null;try{U=x.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ae){lc(!1)}U||lc(!1);const Y=Number(U);return lc(!isNaN(Y)),new yI(Y,r.size(),"final"===F)},n.maxUploadRetryTime);return E.headers={"X-Goog-Upload-Command":"query"},E.errorHandler=wy(e),E}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,sl,t,r);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new yI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=function BP(n,e,t,r,o,u,h,y){const E=new yI(0,0);if(h?(E.current=h.current,E.total=h.total):(E.current=0,E.total=r.size()),r.size()!==E.total)throw function eP(){return new vi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const x=E.total-E.current;let F=x;o>0&&(F=Math.min(F,o));const U=E.current,ye={"X-Goog-Upload-Command":F===x?"upload, finalize":"upload","X-Goog-Upload-Offset":`${E.current}`},nt=r.slice(U,U+F);if(null===nt)throw BM();const Qt=new uc(t,"POST",function ft(Bt,wn){const Vn=CA(Bt,["active","final"]),zi=E.current+F,La=r.size();let SA;return SA="final"===Vn?mI(e,u)(Bt,wn):null,new yI(zi,La,"final"===Vn,SA)},e.maxUploadRetryTime);return Qt.headers=ye,Qt.body=nt.uploadData(),Qt.progressCallback=y||null,Qt.errorHandler=wy(n),Qt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(E){return this._error=E,void this._transition("error")}const y=this._ref.storage._makeRequest(h,sl,o,u);this._request=y,y.getPromise().then(E=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(E.current),E.finalized?(this._metadata=E.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=JM(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,sl,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function t1(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},E=function y(){let Qt="";for(let Bt=0;Bt<2;Bt++)Qt+=Math.random().toString().slice(2);return Qt}();h["Content-Type"]="multipart/related; boundary="+E;const x=e1(e,r,o),F=IA(x,t),ae=ac.getBlob("--"+E+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+F+"\r\n--"+E+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",r,"\r\n--"+E+"--");if(null===ae)throw BM();const ye={name:x.fullPath},nt=ud(u,n.host,n._protocol),fn=n.maxUploadRetryTime,pn=new uc(nt,"POST",mI(n,t),fn);return pn.urlParams=ye,pn.headers=h,pn.body=ae.uploadData(),pn.errorHandler=wy(e),pn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,sl,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=UM(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=DA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const u=new HP(t||void 0,r||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(DA(this._state)){case Go.SUCCESS:by(this._resolve.bind(null,this.snapshot))();break;case Go.CANCELED:case Go.ERROR:by(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(DA(this._state)){case Go.RUNNING:case Go.PAUSED:e.next&&by(e.next.bind(e,this.snapshot))();break;case Go.SUCCESS:e.complete&&by(e.complete.bind(e))();break;default:e.error&&by(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Gp{constructor(e,t){this._service=e,this._location=t instanceof vo?t:vo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gp(e,t)}get root(){const e=new vo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WM(this._location.path)}get storage(){return this._service}get parent(){const e=function EP(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new vo(this._location.bucket,e);return new Gp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw HM(e)}}function o1(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=(0,Oe.Z)(function*(n,e,t){const o=yield a1(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield o1(n,e,o.nextPageToken))}),TA.apply(this,arguments)}function a1(n,e){null!=e&&"number"==typeof e.maxResults&&vA("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=kP(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,sl)}function nO(n){n._throwIfRoot("getDownloadURL");const e=function PP(n,e,t){const o=ud(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,y=new uc(o,"GET",function NP(n,e){return function t(r,o){const u=KM(n,o,e);return lc(null!==u),function SP(n,e,t,r){const o=EA(e);if(null===o||!fI(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const h=encodeURIComponent;return u.split(",").map(x=>{const U=n.fullPath;return ud("/b/"+h(n.bucket)+"/o/"+h(U),t,r)+qM({alt:"media",token:x})})[0]}(u,o,n.host,n._protocol)}}(n,t),h);return y.errorHandler=U0(e),y}(n.storage,n._location,V0());return n.storage.makeRequestWithTokens(e,sl).then(t=>{if(null===t)throw function tP(){return new vi("no-download-url","The given file does not have any download URLs.")}();return t})}function u1(n,e){const t=function IP(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new vo(n._location.bucket,t);return new Gp(n.storage,r)}function l1(n,e){if(n instanceof AA){const t=n;if(null==t._bucket)throw function Xk(){return new vi("no-default-bucket","No default bucket found. Did you set the '"+VM+"' property when initializing the app?")}();const r=new Gp(t,t._bucket);return null!=e?l1(r,e):r}return void 0!==e?u1(n,e):n}function oO(n,e){if(e&&function iO(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof AA)return function sO(n,e){return new Gp(n,e)}(n,e);throw vy("To use ref(service, url), the first argument must be a Storage instance.")}return l1(n,e)}function c1(n,e){const t=null==e?void 0:e[VM];return null==t?null:vo.makeFromBucketSpec(t,n)}class AA{constructor(e,t,r,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=LM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?vo.makeFromBucketSpec(o,this._host):c1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?vo.makeFromBucketSpec(this._url,e):c1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Oe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Oe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gp(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new nP(jM());{const u=function fP(n,e,t,r,o,u){const h=qM(n.urlParams),y=n.url+h,E=Object.assign({},n.headers);return function dP(n,e){e&&(n["X-Firebase-GMPID"]=e)}(E,e),function lP(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(E,t),function cP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(E,u),function hP(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(E,r),new uP(y,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,Oe.Z)(function*(){const[o,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,u).getPromise()})()}}const d1="@firebase/storage";function p1(n,e){return oO(n=(0,nn.m9)(n),e)}function yO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new AA(t,r,o,e,Po.SDK_VERSION)}!function _O(){(0,Po._registerComponent)(new fo.wA("storage",yO,"PUBLIC").setMultipleInstances(!0)),(0,Po.registerVersion)(d1,"0.9.5",""),(0,Po.registerVersion)(d1,"0.9.5","esm2017")}();class _I{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class g1{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new _I(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new _I(r,this,this._ref))},t)}on(e,t,r,o){let u;return t&&(u="function"==typeof t?h=>t(new _I(h,this,this._ref)):{next:t.next?h=>t.next(new _I(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,o||void 0)}}class m1{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ld(e,this._service))}get items(){return this._delegate.items.map(e=>new ld(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ld{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function gO(n,e){return u1(n,e)}(this._delegate,e);return new ld(t,this.storage)}get root(){return new ld(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ld(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new g1(function uO(n,e,t){return function QP(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new i1(n,new ac(e),t)}(n=(0,nn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Fa.RAW,r){this._throwIfRoot("putString");const o=bA(t,e),u=Object.assign({},r);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),new g1(new i1(this._delegate,new ac(o.data,!0),u),this)}listAll(){return function hO(n){return function XP(n){const e={prefixes:[],items:[]};return o1(n,e).then(()=>e)}(n=(0,nn.m9)(n))}(this._delegate).then(e=>new m1(e,this.storage))}list(e){return function dO(n,e){return a1(n=(0,nn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new m1(t,this.storage))}getMetadata(){return function lO(n){return function eO(n){n._throwIfRoot("getMetadata");const e=JM(n.storage,n._location,V0());return n.storage.makeRequestWithTokens(e,sl)}(n=(0,nn.m9)(n))}(this._delegate)}updateMetadata(e){return function cO(n,e){return function tO(n,e){n._throwIfRoot("updateMetadata");const t=function OP(n,e,t,r){const u=ud(e.fullServerUrl(),n.host,n._protocol),y=IA(t,r),x=n.maxOperationRetryTime,F=new uc(u,"PATCH",mI(n,r),x);return F.headers={"Content-Type":"application/json; charset=utf-8"},F.body=y,F.errorHandler=U0(e),F}(n.storage,n._location,e,V0());return n.storage.makeRequestWithTokens(t,sl)}(n=(0,nn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function fO(n){return nO(n=(0,nn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function pO(n){return function rO(n){n._throwIfRoot("deleteObject");const e=function FP(n,e){const r=ud(e.fullServerUrl(),n.host,n._protocol),y=new uc(r,"DELETE",function h(E,x){},n.maxOperationRetryTime);return y.successCodes=[200,204],y.errorHandler=U0(e),y}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,sl)}(n=(0,nn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw HM(e)}}class y1{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(_1(e))throw vy("ref() expected a child path but got a URL, use refFromURL instead.");return new ld(p1(this._delegate,e),this)}refFromURL(e){if(!_1(e))throw vy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vo.makeFromUrl(e,this._delegate.host)}catch(t){throw vy("refFromUrl() expected a valid full URL but got an invalid one.")}return new ld(p1(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function mO(n,e,t,r={}){!function aO(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,nn.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function _1(n){return/^[A-Za-z]+:\/\//.test(n)}function EO(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new y1(t,r)}function v1(n){const e=function CO(n){return new Jn.y(e=>{const t=h=>e.next(h);t(n.snapshot);const u=n.on("state_changed",t);return n.then(h=>{t(h),e.complete()},h=>{t(n.snapshot),(h=>{e.error(h)})(h)}),function(){u()}}).pipe(function Hk(n,e=Dw.z){return(0,Si.e)((t,r)=>{let o=null,u=null,h=null;const y=()=>{if(o){o.unsubscribe(),o=null;const x=u;u=null,r.next(x)}};function E(){const x=h+n,F=e.now();if(F<x)return o=this.schedule(void 0,x-F),void r.add(o);y()}t.subscribe((0,Or.x)(r,x=>{u=x,h=e.now(),o||(o=e.schedule(E,n),r.add(o))},()=>{y(),r.complete()},void 0,()=>{u=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,In.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function vI(n){return{getDownloadURL:()=>Je(void 0).pipe(Fr.fc,yr(()=>n.getDownloadURL()),Fr.iC),getMetadata:()=>Je(void 0).pipe(Fr.fc,yr(()=>n.getMetadata()),Fr.iC),delete:()=>(0,At.D)(n.delete()),child:e=>vI(n.child(e)),updateMetadata:e=>(0,At.D)(n.updateMetadata(e)),put:(e,t)=>v1(n.put(e,t)),putString:(e,t,r)=>v1(n.putString(e,t,r)),list:e=>(0,At.D)(n.list(e)),listAll:()=>(0,At.D)(n.listAll())}}!function IO(n){const e={TaskState:Go,TaskEvent:jP,StringFormat:Fa,Storage:y1,Reference:ld};n.INTERNAL.registerComponent(new fo.wA("storage-compat",EO,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.13")}(Ng.Z);const DO=new c.OlP("angularfire2.storageBucket"),TO=new c.OlP("angularfire2.storage.maxUploadRetryTime"),AO=new c.OlP("angularfire2.storage.maxOperationRetryTime"),SO=new c.OlP("angularfire2.storage.use-emulator");let w1=(()=>{class n{constructor(t,r,o,u,h,y,E,x,F,U){const Y=(0,Sr.on)(t,h,r);this.storage=(0,Sr.cc)(`${Y.name}.storage.${o}`,"AngularFireStorage",Y.name,()=>{const ae=h.runOutsideAngular(()=>Y.storage(o||void 0)),ye=F;return ye&&ae.useEmulator(...ye),E&&ae.setMaxUploadRetryTime(E),x&&ae.setMaxOperationRetryTime(x),ae},[E,x])}ref(t){return vI(this.storage.ref(t))}refFromURL(t){return vI(this.storage.refFromURL(t))}upload(t,r,o){return vI(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sr.Dh),c.LFG(Sr.xv,8),c.LFG(DO,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Fr.HU),c.LFG(TO,8),c.LFG(AO,8),c.LFG(SO,8),c.LFG(xg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),MO=(()=>{class n{constructor(){T_.Z.registerVersion("angularfire",Fr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[w1],imports:[xO]}),n})();function RO(n,e){if(1&n&&(c.TgZ(0,"div",6)(1,"div",7),c._UZ(2,"img",8)(3,"br"),c.TgZ(4,"h3")(5,"b"),c._uU(6),c.qZA()(),c.TgZ(7,"p"),c._uU(8),c.qZA()()()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("src",t.dataProfile.image,c.LSH),c.xp6(4),c.Oqu(t.dataProfile.flName),c.xp6(2),c.Oqu(t.dataProfile.bio)}}function NO(n,e){1&n&&(c.TgZ(0,"div",9)(1,"button",10),c._uU(2," Update "),c.qZA(),c.TgZ(3,"button",11),c._uU(4," Update image "),c.qZA()())}function kO(n,e){1&n&&(c.TgZ(0,"div",27)(1,"strong"),c._uU(2,"User updated"),c.qZA()())}function PO(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h5",16)(5,"b"),c._uU(6,"Edit user information"),c.qZA()(),c._UZ(7,"button",17),c.qZA(),c.TgZ(8,"div",18)(9,"form",null,19)(11,"div",20),c._UZ(12,"label",21),c.TgZ(13,"input",22),c.NdJ("ngModelChange",function(o){return c.CHM(t),c.oxw().dataProfile.flName=o}),c.qZA()(),c.TgZ(14,"div",20),c._UZ(15,"label",21),c.TgZ(16,"textarea",23),c.NdJ("ngModelChange",function(o){return c.CHM(t),c.oxw().dataProfile.bio=o}),c.qZA()(),c.TgZ(17,"div",24)(18,"button",25),c.NdJ("click",function(){return c.CHM(t),c.oxw().update()}),c._uU(19," Update profile "),c.qZA(),c.YNc(20,kO,3,0,"div",26),c.qZA()()()()()()}if(2&n){const t=c.oxw();c.xp6(13),c.Q6J("ngModel",t.dataProfile.flName),c.xp6(3),c.Q6J("ngModel",t.dataProfile.bio),c.xp6(4),c.Q6J("ngIf",t.updated)}}function OO(n,e){if(1&n&&(c.TgZ(0,"div")(1,"progress",32),c._uU(2),c.qZA()()),2&n){const t=e.ngIf;c.xp6(2),c.Oqu(t)}}function FO(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",28)(1,"div",13)(2,"div",14)(3,"div",15)(4,"h5",16)(5,"b"),c._uU(6,"Edit user information"),c.qZA()(),c._UZ(7,"button",17),c.qZA(),c.TgZ(8,"div",18)(9,"form",null,19)(11,"div",29)(12,"input",30),c.NdJ("change",function(o){return c.CHM(t),c.oxw().updateImage(o)}),c.qZA(),c._UZ(13,"br"),c.qZA(),c.TgZ(14,"div",24),c.YNc(15,OO,3,1,"div",31),c.ALo(16,"async"),c.qZA()()()()()()}if(2&n){const t=c.oxw();c.xp6(15),c.Q6J("ngIf",c.lcZ(16,1,t.percentage))}}let LO=(()=>{class n{constructor(t,r,o){this.as=t,this.fs=r,this.fst=o,this.updated=!1,this.imageUpdated=!1,this.Uid=localStorage.getItem("userId")}ngOnInit(){var t=this;return(0,Oe.Z)(function*(){t.dataProfile=(yield t.as.getCurrentUser(t.Uid))[0]})()}update(){this.fs.collection("users").doc(this.dataProfile.uid).update({flName:this.dataProfile.flName,bio:this.dataProfile.bio,image:this.dataProfile.image}).then(()=>{this.updated=!0,window.location.reload()})}updateImage(t){var r=this;const o=jk();let u=this.dataProfile.image;this.ref=this.fst.ref(o),this.task=this.ref.put(t.target.files[0]),this.percentage=this.task.percentageChanges(),this.task.then(h=>{h.ref.getDownloadURL().then(y=>{this.fs.collection("users").doc(this.dataProfile.uid).update({image:y}).then((0,Oe.Z)(function*(){r.fst.storage.refFromURL(u).delete().then(()=>{}).catch(()=>{}).finally(()=>{r.imageUpdated=!0,r.dataProfile.image=y,mf(".btn-close").click()})}))})}).catch(()=>{console.log("une erreur dans updateImage ")})}deleteImage(){this.fst.storage.refFromURL(this.dataProfile.image).delete().then(()=>{console.log("deleted "+this.dataProfile.image)}).catch(()=>{console.log("erreur !")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ad),c.Y36(py),c.Y36(w1))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-profil"]],decls:7,vars:4,consts:[[1,"uk-comment","uk-comment-primary"],[1,"uk-comment-header"],["class","uk-grid-medium uk-flex-middle","uk-grid","",4,"ngIf"],["class","uk-comment-body",4,"ngIf"],["class","modal fade","id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade","id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["uk-grid","",1,"uk-grid-medium","uk-flex-middle"],[1,"uk-width-expand"],["width","200","height","200","alt","",1,"uk-comment-avatar",3,"src"],[1,"uk-comment-body"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"uk-button","uk-button-default"],["data-bs-toggle","modal","data-bs-target","#exampleModal2",1,"uk-button","uk-button-default"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["f","ngForm"],[1,"mb-3"],["for","",1,"form-label"],["type","text","name","flName","placeholder","Title","aria-describedby","helpId",1,"form-control",3,"ngModel","ngModelChange"],["type","Description","name","bio","placeholder","Description","aria-describedby","helpId",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],["type","submit",1,"btn","btn-success",3,"click"],["class","alert alert-success","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-success"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"input-group"],["type","file","name","name","id","name","accept",".png,.jpg","placeholder","Choose an image",1,"form-control",3,"change"],[4,"ngIf"],["id","file","max","100","value","70"]],template:function(t,r){1&t&&(c._UZ(0,"br"),c.TgZ(1,"article",0)(2,"header",1),c.YNc(3,RO,9,3,"div",2),c.qZA(),c.YNc(4,NO,5,0,"div",3),c.qZA(),c.YNc(5,PO,21,3,"div",4),c.YNc(6,FO,17,3,"div",5)),2&t&&(c.xp6(3),c.Q6J("ngIf",null!=r.dataProfile),c.xp6(1),c.Q6J("ngIf",null!=r.dataProfile),c.xp6(1),c.Q6J("ngIf",null!=r.dataProfile),c.xp6(1),c.Q6J("ngIf",null!=r.dataProfile))},directives:[gr,_y,my,Oh,Rh,gy,$p],pipes:[Du],styles:[""]}),n})();function VO(n,e){1&n&&(c.TgZ(0,"p",21),c._uU(1,"Full name name is required"),c.qZA())}function UO(n,e){1&n&&(c.TgZ(0,"p",21),c._uU(1,"Bio name is required"),c.qZA())}function BO(n,e){1&n&&(c.TgZ(0,"p",21),c._uU(1,"Email is required"),c.qZA())}function jO(n,e){1&n&&(c.TgZ(0,"p",21),c._uU(1,"E-mail format is incorrect"),c.qZA())}function HO(n,e){1&n&&(c.TgZ(0,"p",21),c._uU(1,"Password is required"),c.qZA())}function $O(n,e){1&n&&(c.TgZ(0,"p",21),c._uU(1,"Password should compose > 8 caracters"),c.qZA())}function qO(n,e){1&n&&(c.TgZ(0,"p",21),c._uU(1," ConfirmPassword is required"),c.qZA())}function GO(n,e){1&n&&(c.TgZ(0,"p",21),c._uU(1,"not equal"),c.qZA())}let zO=(()=>{class n{constructor(t,r,o){this.sa=t,this.fs=r,this.route=o,this.Uid=""}ngOnInit(){}register(t){let r=t.value;this.sa.signUp(r.email,r.password).then(o=>{var u,h,y,E;this.Uid=null!=(null===(u=o.user)||void 0===u?void 0:u.uid)?null===(h=o.user)||void 0===h?void 0:h.uid:"",this.fs.collection("users").doc(null===(y=o.user)||void 0===y?void 0:y.uid).set({flName:r.flName,email:r.email,bio:r.bio,uid:null===(E=o.user)||void 0===E?void 0:E.uid}).then(()=>{localStorage.setItem("userId",this.Uid),this.route.navigate(["/"])})}).catch(()=>{console.log("error !")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ad),c.Y36(py),c.Y36(yi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:39,vars:9,consts:[[1,"vh-100","d-flex","justify-content-center","align-items-center"],[3,"ngSubmit"],["f","ngForm"],[1,"uk-margin"],[1,"uk-inline"],["uk-icon","icon: happy",1,"uk-form-icon"],["type","text","name","flName","placeholder","Full name","ngModel","","required","",1,"uk-input"],["flName","ngModel"],["class","text-danger",4,"ngIf"],["cols","22","rows","20","placeholder","Bio","name","bio","ngModel","","required","",1,"uk-input"],["bio","ngModel"],["uk-icon","icon: mail",1,"uk-form-icon"],["type","email","name","email","ngModel","","placeholder","Email","required","","email","",1,"uk-input"],["email","ngModel"],["uk-icon","icon: lock",1,"uk-form-icon","uk-form-icon-flip"],["type","password","name","password","ngModel","","placeholder","Password","required","","minlength","8",1,"uk-input"],["password","ngModel"],["type","password","name","ConfirmPassword","ngModel","","placeholder","Confirm password","required","",1,"uk-input"],["ConfirmPassword","ngModel"],["type","submit",1,"btn","btn-outline-success",2,"width","100%","margin-bottom","5px",3,"disabled"],[1,"btn","btn-outline-primary",2,"width","100%"],[1,"text-danger"]],template:function(t,r){if(1&t){const o=c.EpF();c.TgZ(0,"div",0)(1,"form",1,2),c.NdJ("ngSubmit",function(){c.CHM(o);const h=c.MAs(2);return r.register(h)}),c.TgZ(3,"div",3)(4,"div",4),c._UZ(5,"span",5)(6,"input",6,7),c.qZA(),c.YNc(8,VO,2,0,"p",8),c.qZA(),c.TgZ(9,"div",3)(10,"div",4),c._UZ(11,"textarea",9,10),c.qZA(),c.YNc(13,UO,2,0,"p",8),c.qZA(),c.TgZ(14,"div",3)(15,"div",4),c._UZ(16,"span",11)(17,"input",12,13),c.qZA(),c.YNc(19,BO,2,0,"p",8),c.YNc(20,jO,2,0,"p",8),c.qZA(),c.TgZ(21,"div",3)(22,"div",4),c._UZ(23,"span",14)(24,"input",15,16),c.YNc(26,HO,2,0,"p",8),c.YNc(27,$O,2,0,"p",8),c.qZA()(),c.TgZ(28,"div",3)(29,"div",4),c._UZ(30,"span",14)(31,"input",17,18),c.YNc(33,qO,2,0,"p",8),c.YNc(34,GO,2,0,"p",8),c.qZA()(),c.TgZ(35,"button",19),c._uU(36,"Login"),c.qZA(),c.TgZ(37,"button",20),c._uU(38,"forgot password"),c.qZA()()()}if(2&t){const o=c.MAs(2),u=c.MAs(7),h=c.MAs(12),y=c.MAs(18),E=c.MAs(25),x=c.MAs(32);c.xp6(8),c.Q6J("ngIf",(null==u.errors?null:u.errors.required)&&u.touched),c.xp6(5),c.Q6J("ngIf",(null==h.errors?null:h.errors.required)&&h.touched),c.xp6(6),c.Q6J("ngIf",(null==y.errors?null:y.errors.required)&&y.touched),c.xp6(1),c.Q6J("ngIf",(null==y.errors?null:y.errors.email)&&y.touched),c.xp6(6),c.Q6J("ngIf",(null==E.errors?null:E.errors.required)&&E.touched),c.xp6(1),c.Q6J("ngIf",(null==E.errors?null:E.errors.minlength)&&E.touched),c.xp6(6),c.Q6J("ngIf",(null==x.errors?null:x.errors.required)&&x.touched),c.xp6(1),c.Q6J("ngIf",E.value!=x.value&&x.touched),c.xp6(1),c.Q6J("disabled",!o.valid)}},directives:[_y,my,Oh,Rh,gy,$p,O0,gr,pA,dI],styles:[""]}),n})(),b1=(()=>{class n{constructor(t,r){this.as=t,this.route=r}canActivate(t,r){return new Promise(o=>{this.as.user.subscribe(u=>{u?o(!0):(this.route.navigate(["/"]),o(!1))})})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ad),c.LFG(yi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E1=(()=>{class n{constructor(t,r){this.as=t,this.route=r}canActivate(t,r){return new Promise(o=>{this.as.user.subscribe(u=>{u?(this.route.navigate(["/"]),o(!1)):o(!0)})})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ad),c.LFG(yi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZO=[{path:"",component:II},{path:"login",component:Ck,canActivate:[E1]},{path:"register",component:zO,canActivate:[E1]},{path:"profil",component:LO,canActivate:[b1]},{path:"products",component:Nk},{path:"myproducts",component:xk,canActivate:[b1]},{path:"jqueryexamples",component:CI}];let WO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[gf.forRoot(ZO)],gf]}),n})();function KO(n,e){1&n&&(c.TgZ(0,"li",7)(1,"a",16),c._uU(2,"Profil"),c.qZA()())}function YO(n,e){1&n&&(c.TgZ(0,"li",7)(1,"a",17),c._uU(2,"Products"),c.qZA()())}function QO(n,e){1&n&&(c.TgZ(0,"li",7)(1,"a",18),c._uU(2,"My products"),c.qZA()())}function JO(n,e){1&n&&(c.TgZ(0,"li",7)(1,"a",19),c._uU(2,"Register"),c.qZA()())}function XO(n,e){1&n&&(c.TgZ(0,"li",7)(1,"a",20),c._uU(2,"Login"),c.qZA()())}function eF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",7)(1,"a",21),c.NdJ("click",function(){return c.CHM(t),c.oxw().logout()}),c._uU(2,"Logout"),c.qZA()()}}let tF=(()=>{class n{constructor(t,r,o){this.af=t,this.route=r,this.as=o,this.as.user.subscribe(u=>{this.isSigned=!!u})}ngOnInit(){}logout(){this.af.signOut().then(()=>{console.log("logout done !"),localStorage.removeItem("userId"),this.route.navigate(["/login"])}).catch(()=>{console.log("Can't logout !")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Fo),c.Y36(yi),c.Y36(ad))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],decls:25,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand",2,"background-color","wheat","border-radius","30%"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active"],["class","nav-item",4,"ngIf"],[1,"nav-item","dropdown"],["href","#","id","navbarDarkDropdownMenuLink","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDarkDropdownMenuLink",1,"dropdown-menu","dropdown-menu-dark"],["routerLink","jqueryexamples",1,"dropdown-item"],[1,"navbar-nav"],["class","nav-item ",4,"ngIf"],["aria-current","page","routerLink","profil",1,"nav-link","active"],["aria-current","page","routerLink","products",1,"nav-link","active"],["aria-current","page","routerLink","myproducts",1,"nav-link","active"],["aria-current","page","routerLink","register",1,"nav-link","active"],["aria-current","page","routerLink","login",1,"nav-link","active"],["aria-current","page",1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),c._uU(3,"MyStore"),c.qZA(),c.TgZ(4,"button",3),c._UZ(5,"span",4),c.qZA(),c.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),c._uU(10,"Home"),c.qZA()(),c.YNc(11,KO,3,0,"li",9),c.YNc(12,YO,3,0,"li",9),c.YNc(13,QO,3,0,"li",9),c.TgZ(14,"li",10)(15,"a",11),c._uU(16," Another stuffs "),c.qZA(),c.TgZ(17,"ul",12)(18,"li")(19,"a",13),c._uU(20,"jQuery"),c.qZA()()()()(),c.TgZ(21,"ul",14),c.YNc(22,JO,3,0,"li",9),c.YNc(23,XO,3,0,"li",9),c.YNc(24,eF,3,0,"li",15),c.qZA()()()()),2&t&&(c.xp6(11),c.Q6J("ngIf",r.isSigned),c.xp6(1),c.Q6J("ngIf",r.isSigned),c.xp6(1),c.Q6J("ngIf",r.isSigned),c.xp6(9),c.Q6J("ngIf",!r.isSigned),c.xp6(1),c.Q6J("ngIf",!r.isSigned),c.xp6(1),c.Q6J("ngIf",r.isSigned))},directives:[dg,gr],styles:[""]}),n})(),nF=(()=>{class n{constructor(){this.title="myStore"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:13,vars:0,consts:[[1,"container"],[1,"float-end"],[1,"text-center"],["href","https://github.com/MelianiA"],["uk-icon","icon: github; ratio: 2",2,"margin-right","5px"],["href","https://www.linkedin.com/in/meliania/"],["uk-icon","icon: linkedin; ratio: 2"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-navbar")(2,"br")(3,"br")(4,"router-outlet"),c.TgZ(5,"div",1),c._uU(6," \xa9 Abderrahmen MELIANI "),c._UZ(7,"br"),c.TgZ(8,"div",2)(9,"a",3),c._UZ(10,"span",4),c.qZA(),c.TgZ(11,"a",5),c._UZ(12,"span",6),c.qZA()()()())},directives:[tF,xc],styles:[""]}),n})();const I1_firebase={apiKey:"AIzaSyDM6g1X-jtmHcCJe1AcjfVJQEa_oJV386E",authDomain:"mystore-fa63b.firebaseapp.com",projectId:"mystore-fa63b",storageBucket:"mystore-fa63b.appspot.com",messagingSenderId:"301514080594",appId:"1:301514080594:web:b26904abd3fdb90afd3a8b",measurementId:"G-T593NQCZ01"};let rF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[nF]}),n.\u0275inj=c.cJS({providers:[],imports:[[ea,WO,Sr.hO.initializeApp(I1_firebase),Rg,MO,EN,wk]]}),n})();(0,c.G48)(),Xi().bootstrapModule(rF).catch(n=>console.error(n))},5867:(Rt,Ze,$)=>{"use strict";$.d(Ze,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=$(9681);(0,c.registerVersion)("firebase","9.6.11","app")},127:(Rt,Ze,$)=>{"use strict";$.d(Ze,{Z:()=>c.Z});var c=$(3942);c.Z.registerVersion("firebase","9.6.11","app-compat")},820:(Rt,Ze,$)=>{"use strict";$.r(Ze);var c=$(5861),te=$(3942),H=$(2090),ve=$(9681),fe=$(655),Me=$(1877),Ie=$(4859);const He=function mt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bt=new Me.Yd("@firebase/auth");function yt(_,...f){bt.logLevel<=Me.in.ERROR&&bt.error(`Auth (${ve.SDK_VERSION}): ${_}`,...f)}function $e(_,...f){throw at(_,...f)}function Ve(_,...f){return at(_,...f)}function D(_,f,m){const b=Object.assign(Object.assign({},Le()),{[f]:m});return new H.LL("auth","Firebase",b).create(f,{appName:_.name})}function ct(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&$e(_,"argument-error"),D(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function at(_,...f){if("string"!=typeof _){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(m,...b)}return xe.create(_,...f)}function pe(_,f,...m){if(!_)throw at(f,...m)}function ue(_){const f="INTERNAL ASSERTION FAILED: "+_;throw yt(f),new Error(f)}function be(_,f){_||ue(f)}const Ce=new Map;function Ee(_){be(_ instanceof Function,"Expected a class definition");let f=Ce.get(_);return f?(be(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Ce.set(_,f),f)}function Jt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Nn(){return"http:"===hr()||"https:"===hr()}function hr(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class bn{constructor(f,m){this.shortDelay=f,this.longDelay=m,be(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Nt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nn()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gn(_,f){be(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Wr{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cs=new bn(3e4,6e4);function kn(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function En(_,f,m,b){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(_,f,m,b,R={}){return fr(_,R,(0,c.Z)(function*(){let j={},ie={};b&&("GET"===f?ie=b:j={body:JSON.stringify(b)});const Ae=(0,H.xO)(Object.assign({key:_.config.apiKey},ie)).slice(1),dt=yield _._getAdditionalHeaders();return dt["Content-Type"]="application/json",_.languageCode&&(dt["X-Firebase-Locale"]=_.languageCode),Wr.fetch()(nr(_,_.config.apiHost,m,Ae),Object.assign({method:f,headers:dt,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function fr(_,f,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(_,f,m){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Mn),f);try{const R=new wi(_),j=yield Promise.race([m(),R.promise]);R.clearNetworkTimeout();const ie=yield j.json();if("needConfirmation"in ie)throw bi(_,"account-exists-with-different-credential",ie);if(j.ok&&!("errorMessage"in ie))return ie;{const Ae=j.ok?ie.errorMessage:ie.error.message,[dt,Ct]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dt)throw bi(_,"credential-already-in-use",ie);if("EMAIL_EXISTS"===dt)throw bi(_,"email-already-in-use",ie);const Wt=b[dt]||dt.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw D(_,Wt,Ct);$e(_,Wt)}}catch(R){if(R instanceof H.ZR)throw R;$e(_,"network-request-failed")}})).apply(this,arguments)}function pi(_,f,m,b){return ds.apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(_,f,m,b,R={}){const j=yield En(_,f,m,b,R);return"mfaPendingCredential"in j&&$e(_,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function nr(_,f,m,b){const R=`${f}${m}?${b}`;return _.config.emulator?Gn(_.config,R):`${_.config.apiScheme}://${R}`}class wi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Ve(this.auth,"network-request-failed")),cs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bi(_,f,m){const b={appName:_.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const R=Ve(_,f,b);return R.customData._tokenResponse=m,R}function Kn(){return(Kn=(0,c.Z)(function*(_,f){return En(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Lr(_,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(_,f){return En(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ki(_,f){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(_,f){return En(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Xn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Zi(){return(Zi=(0,c.Z)(function*(_,f=!1){const m=(0,H.m9)(_),b=yield m.getIdToken(f),R=xt(b);pe(R&&R.exp&&R.auth_time&&R.iat,m.auth,"internal-error");const j="object"==typeof R.firebase?R.firebase:void 0,ie=null==j?void 0:j.sign_in_provider;return{claims:R,token:b,authTime:Xn(gn(R.auth_time)),issuedAtTime:Xn(gn(R.iat)),expirationTime:Xn(gn(R.exp)),signInProvider:ie||null,signInSecondFactor:(null==j?void 0:j.sign_in_second_factor)||null}})).apply(this,arguments)}function gn(_){return 1e3*Number(_)}function xt(_){const[f,m,b]=_.split(".");if(void 0===f||void 0===m||void 0===b)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,H.tV)(m);return R?JSON.parse(R):(yt("Failed to decode base64 JWT payload"),null)}catch(R){return yt("Caught error parsing JWT payload as JSON",R),null}}function Vr(_,f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof H.ZR&&Cn(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Cn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Pi{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const R=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class br{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xn(this.lastLoginAt),this.creationTime=Xn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ur(_){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)(function*(_){var f;const m=_.auth,b=yield _.getIdToken(),R=yield Vr(_,ki(m,{idToken:b}));pe(null==R?void 0:R.users.length,m,"internal-error");const j=R.users[0];_._notifyReloadListener(j);const ie=(null===(f=j.providerUserInfo)||void 0===f?void 0:f.length)?Ge(j.providerUserInfo):[],Ae=_t(_.providerData,ie),Wt=!!_.isAnonymous&&!(_.email&&j.passwordHash||(null==Ae?void 0:Ae.length)),Pt={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:Ae,metadata:new br(j.createdAt,j.lastLoginAt),isAnonymous:Wt};Object.assign(_,Pt)})).apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(_){const f=(0,H.m9)(_);yield Ur(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function _t(_,f){return[..._.filter(b=>!f.some(R=>R.providerId===b.providerId)),...f]}function Ge(_){return _.map(f=>{var{providerId:m}=f,b=(0,fe._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Lt(){return(Lt=(0,c.Z)(function*(_,f){const m=yield fr(_,{},(0,c.Z)(function*(){const b=(0,H.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:R,apiKey:j}=_.config,ie=nr(_,R,"/v1/token",`key=${j}`),Ae=yield _._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",Wr.fetch()(ie,{method:"POST",headers:Ae,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ln{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){pe(f.idToken,"internal-error"),pe(void 0!==f.idToken,"internal-error"),pe(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function qt(_){const f=xt(_);return pe(f,"internal-error"),pe(void 0!==f.exp,"internal-error"),pe(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,c.Z)(function*(){return pe(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,c.Z)(function*(){const{accessToken:R,refreshToken:j,expiresIn:ie}=yield function wt(_,f){return Lt.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(R,j,Number(ie))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:R,expirationTime:j}=m,ie=new ln;return b&&(pe("string"==typeof b,"internal-error",{appName:f}),ie.refreshToken=b),R&&(pe("string"==typeof R,"internal-error",{appName:f}),ie.accessToken=R),j&&(pe("number"==typeof j,"internal-error",{appName:f}),ie.expirationTime=j),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ln,this.toJSON())}_performRefresh(){return ue("not implemented")}}function sn(_,f){pe("string"==typeof _||void 0===_,"internal-error",{appName:f})}class Q{constructor(f){var{uid:m,auth:b,stsTokenManager:R}=f,j=(0,fe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new br(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,c.Z)(function*(){const b=yield Vr(m,m.stsTokenManager.getToken(m.auth,f));return pe(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function Kr(_){return Zi.apply(this,arguments)}(this,f)}reload(){return function Yn(_){return Gt.apply(this,arguments)}(this)}_assign(f){this!==f&&(pe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Q(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,c.Z)(function*(){let R=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),R=!0),m&&(yield Ur(b)),yield b.auth._persistUserIfCurrent(b),R&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const m=yield f.getIdToken();return yield Vr(f,function Qe(_,f){return Kn.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,R,j,ie,Ae,dt,Ct,Wt;const Pt=null!==(b=m.displayName)&&void 0!==b?b:void 0,Ar=null!==(R=m.email)&&void 0!==R?R:void 0,ho=null!==(j=m.phoneNumber)&&void 0!==j?j:void 0,Oc=null!==(ie=m.photoURL)&&void 0!==ie?ie:void 0,Il=null!==(Ae=m.tenantId)&&void 0!==Ae?Ae:void 0,Cl=null!==(dt=m._redirectEventId)&&void 0!==dt?dt:void 0,hf=null!==(Ct=m.createdAt)&&void 0!==Ct?Ct:void 0,Ky=null!==(Wt=m.lastLoginAt)&&void 0!==Wt?Wt:void 0,{uid:mu,emailVerified:Pd,isAnonymous:Od,providerData:ff,stsTokenManager:Fd}=m;pe(mu&&Fd,f,"internal-error");const yi=ln.fromJSON(this.name,Fd);pe("string"==typeof mu,f,"internal-error"),sn(Pt,f.name),sn(Ar,f.name),pe("boolean"==typeof Pd,f,"internal-error"),pe("boolean"==typeof Od,f,"internal-error"),sn(ho,f.name),sn(Oc,f.name),sn(Il,f.name),sn(Cl,f.name),sn(hf,f.name),sn(Ky,f.name);const pf=new Q({uid:mu,auth:f,email:Ar,emailVerified:Pd,displayName:Pt,isAnonymous:Od,photoURL:Oc,phoneNumber:ho,tenantId:Il,stsTokenManager:yi,createdAt:hf,lastLoginAt:Ky});return ff&&Array.isArray(ff)&&(pf.providerData=ff.map(cg=>Object.assign({},cg))),Cl&&(pf._redirectEventId=Cl),pf}static _fromIdTokenResponse(f,m,b=!1){return(0,c.Z)(function*(){const R=new ln;R.updateFromServerResponse(m);const j=new Q({uid:m.localId,auth:f,stsTokenManager:R,isAnonymous:b});return yield Ur(j),j})()}}const ne=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,b){var R=this;return(0,c.Z)(function*(){R.storage[m]=b})()}_get(m){var b=this;return(0,c.Z)(function*(){const R=b.storage[m];return void 0===R?null:R})()}_remove(m){var b=this;return(0,c.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return _.type="NONE",_})();function Se(_,f,m){return`firebase:${_}:${f}:${m}`}class he{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:R,name:j}=this.auth;this.fullUserKey=Se(this.userKey,R.apiKey,j),this.fullPersistenceKey=Se("persistence",R.apiKey,j),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Q._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,c.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,c.Z)(function*(){if(!m.length)return new he(Ee(ne),f,b);const R=(yield Promise.all(m.map(function(){var Ct=(0,c.Z)(function*(Wt){if(yield Wt._isAvailable())return Wt});return function(Wt){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let j=R[0]||Ee(ne);const ie=Se(b,f.config.apiKey,f.name);let Ae=null;for(const Ct of m)try{const Wt=yield Ct._get(ie);if(Wt){const Pt=Q._fromJSON(f,Wt);Ct!==j&&(Ae=Pt),j=Ct;break}}catch(Wt){}const dt=R.filter(Ct=>Ct._shouldAllowMigration);return j._shouldAllowMigration&&dt.length?(j=dt[0],Ae&&(yield j._set(ie,Ae.toJSON())),yield Promise.all(m.map(function(){var Ct=(0,c.Z)(function*(Wt){if(Wt!==j)try{yield Wt._remove(ie)}catch(Pt){}});return function(Wt){return Ct.apply(this,arguments)}}())),new he(j,f,b)):new he(j,f,b)})()}}function lt(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Tn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(zt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(cn(f))return"Blackberry";if(Rn(f))return"Webos";if(Sn(f))return"Safari";if((f.includes("chrome/")||ii(f))&&!f.includes("edge/"))return"Chrome";if(ir(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function zt(_=(0,H.z$)()){return/firefox\//i.test(_)}function Sn(_=(0,H.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ii(_=(0,H.z$)()){return/crios\//i.test(_)}function Tn(_=(0,H.z$)()){return/iemobile/i.test(_)}function ir(_=(0,H.z$)()){return/android/i.test(_)}function cn(_=(0,H.z$)()){return/blackberry/i.test(_)}function Rn(_=(0,H.z$)()){return/webos/i.test(_)}function kr(_=(0,H.z$)()){return/iphone|ipad|ipod/i.test(_)}function ks(_=(0,H.z$)()){return kr(_)||ir(_)||Rn(_)||cn(_)||/windows phone/i.test(_)||Tn(_)}function Zo(_,f=[]){let m;switch(_){case"Browser":m=lt((0,H.z$)());break;case"Worker":m=`${lt((0,H.z$)())}-${_}`;break;default:m=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ve.SDK_VERSION}/${b}`}class Ei{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dn(this),this.idTokenSubscription=new dn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=Ee(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var R,j;if(!b._deleted&&(b.persistenceManager=yield he.create(b,f),!b._deleted)){if(null===(R=b._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(ie){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(j=b.currentUser)||void 0===j?void 0:j.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,c.Z)(function*(){var b;let R=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const j=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,ie=null==R?void 0:R._redirectEventId,Ae=yield m.tryRedirectSignIn(f);(!j||j===ie)&&(null==Ae?void 0:Ae.user)&&(R=Ae.user)}return R?R._redirectEventId?(pe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)):m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,c.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(R){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,c.Z)(function*(){try{yield Ur(f)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function $t(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){const b=f?(0,H.m9)(f):null;return b&&pe(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return f&&pe(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(Ee(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new H.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,c.Z)(function*(){const R=yield b.getOrInitRedirectPersistenceManager(m);return null===f?R.removeCurrentUser():R.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&Ee(f)||m._popupRedirectResolver;pe(b,m,"argument-error"),m.redirectPersistenceManager=yield he.create(m,[Ee(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,c.Z)(function*(){var b,R;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(R=m.redirectUser)||void 0===R?void 0:R._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,c.Z)(function*(){if(f===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,R){if(this._deleted)return()=>{};const j="function"==typeof m?m:m.next.bind(m),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return pe(ie,this,"internal-error"),ie.then(()=>j(this.currentUser)),"function"==typeof m?f.addObserver(m,b,R):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Zo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const R=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return R&&(b["X-Firebase-Client"]=R),b})()}}function rt(_){return(0,H.m9)(_)}class dn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,H.ne)(m=>this.observer=m)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function pr(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Un{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ue("not implemented")}_getIdTokenResponse(f){return ue("not implemented")}_linkToIdToken(f,m){return ue("not implemented")}_getReauthenticationResolver(f){return ue("not implemented")}}function ur(_,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(_,f){return En(_,"POST","/v1/accounts:resetPassword",kn(_,f))})).apply(this,arguments)}function on(_,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(_,f){return En(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Oi(_,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(_,f){return En(_,"POST","/v1/accounts:update",kn(_,f))})).apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(_,f){return pi(_,"POST","/v1/accounts:signInWithPassword",kn(_,f))})).apply(this,arguments)}function Ki(_,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(_,f){return En(_,"POST","/v1/accounts:sendOobCode",kn(_,f))})).apply(this,arguments)}function gr(_,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(_,f){return Ki(_,f)})).apply(this,arguments)}function Va(_,f){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(_,f){return Ki(_,f)})).apply(this,arguments)}function lr(_,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(_,f){return Ki(_,f)})).apply(this,arguments)}function Wo(_,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(_,f){return Ki(_,f)})).apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(_,f){return pi(_,"POST","/v1/accounts:signInWithEmailLink",kn(_,f))})).apply(this,arguments)}function ja(){return(ja=(0,c.Z)(function*(_,f){return pi(_,"POST","/v1/accounts:signInWithEmailLink",kn(_,f))})).apply(this,arguments)}class Ha extends Un{constructor(f,m,b,R=null){super("password",b),this._email=f,this._password=m,this._tenantId=R}static _fromEmailAndPassword(f,m){return new Ha(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new Ha(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Qs(_,f){return Br.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ba(_,f){return Ir.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:$e(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return on(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function bo(_,f){return ja.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:$e(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function mr(_,f){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,c.Z)(function*(_,f){return pi(_,"POST","/v1/accounts:signInWithIdp",kn(_,f))})).apply(this,arguments)}class gs extends Un{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new gs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):$e("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:R}=m,j=(0,fe._T)(m,["providerId","signInMethod"]);if(!b||!R)return null;const ie=new gs(b,R);return ie.idToken=j.idToken||void 0,ie.accessToken=j.accessToken||void 0,ie.secret=j.secret,ie.nonce=j.nonce,ie.pendingToken=j.pendingToken||null,ie}_getIdTokenResponse(f){return mr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,mr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,mr(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,H.xO)(m)}return f}}function ol(_,f){return Du.apply(this,arguments)}function Du(){return(Du=(0,c.Z)(function*(_,f){return En(_,"POST","/v1/accounts:sendVerificationCode",kn(_,f))})).apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(_,f){return pi(_,"POST","/v1/accounts:signInWithPhoneNumber",kn(_,f))})).apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(_,f){const m=yield pi(_,"POST","/v1/accounts:signInWithPhoneNumber",kn(_,f));if(m.temporaryProof)throw bi(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const dd={USER_NOT_FOUND:"user-not-found"};function al(){return(al=(0,c.Z)(function*(_,f){return pi(_,"POST","/v1/accounts:signInWithPhoneNumber",kn(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),dd)})).apply(this,arguments)}class Ko extends Un{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ko({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ko({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function qa(_,f){return Xs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function cd(_,f){return Ga.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function hd(_,f){return al.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:R}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:R}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:R,temporaryProof:j}=f;return b||m||R||j?new Ko({verificationId:m,verificationCode:b,phoneNumber:R,temporaryProof:j}):null}}class Eo{constructor(f){var m,b,R,j,ie,Ae;const dt=(0,H.zd)((0,H.pd)(f)),Ct=null!==(m=dt.apiKey)&&void 0!==m?m:null,Wt=null!==(b=dt.oobCode)&&void 0!==b?b:null,Pt=function Lh(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=dt.mode)&&void 0!==R?R:null);pe(Ct&&Wt&&Pt,"argument-error"),this.apiKey=Ct,this.operation=Pt,this.code=Wt,this.continueUrl=null!==(j=dt.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(ie=dt.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(Ae=dt.tenantId)&&void 0!==Ae?Ae:null}static parseLink(f){const m=function za(_){const f=(0,H.zd)((0,H.pd)(_)).link,m=f?(0,H.zd)((0,H.pd)(f)).deep_link_id:null,b=(0,H.zd)((0,H.pd)(_)).deep_link_id;return(b?(0,H.zd)((0,H.pd)(b)).link:null)||b||m||f||_}(f);try{return new Eo(m)}catch(b){return null}}}let ma=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,b){return Ha._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const R=Eo.parseLink(b);return pe(R,"argument-error"),Ha._fromEmailAndCode(m,R.code,R.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ps{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class si extends Ps{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Io extends si{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return pe("providerId"in m&&"signInMethod"in m,"argument-error"),gs._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return pe(f.idToken||f.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Io.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Io.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:R,pendingToken:j,nonce:ie,providerId:Ae}=f;if(!b&&!R&&!m&&!j||!Ae)return null;try{return new Io(Ae)._credential({idToken:m,accessToken:b,nonce:ie,pendingToken:j})}catch(dt){return null}}}let eo=(()=>{class _ extends si{constructor(){super("facebook.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Co=(()=>{class _ extends si{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:R}=m;if(!b&&!R)return null;try{return _.credential(b,R)}catch(j){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),ll=(()=>{class _ extends si{constructor(){super("github.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Yo extends Un{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return mr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,mr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,mr(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:R,pendingToken:j}=m;return b&&R&&j&&b===R?new Yo(b,j):null}static _create(f,m){return new Yo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ci extends Ps{constructor(f){pe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ci.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ci.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Yo.fromJSON(f);return pe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Yo._create(b,m)}catch(R){return null}}}let Qo=(()=>{class _ extends si{constructor(){super("twitter.com")}static credential(m,b){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:R}=m;if(!b||!R)return null;try{return _.credential(b,R)}catch(j){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Za(_,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(_,f){return pi(_,"POST","/v1/accounts:signUp",kn(_,f))})).apply(this,arguments)}class Yr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,R=!1){return(0,c.Z)(function*(){const j=yield Q._fromIdTokenResponse(f,b,R),ie=p(b);return new Yr({user:j,providerId:ie,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const R=p(b);return new Yr({user:f,providerId:R,_tokenResponse:b,operationType:m})})()}}function p(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function C(){return(C=(0,c.Z)(function*(_){var f;const m=rt(_);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new Yr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Za(m,{returnSecureToken:!0}),R=yield Yr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(R.user),R})).apply(this,arguments)}class A extends H.ZR{constructor(f,m,b,R){var j;super(m.code,m.message),this.operationType=b,this.user=R,Object.setPrototypeOf(this,A.prototype),this.customData={appName:f.name,tenantId:null!==(j=f.tenantId)&&void 0!==j?j:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,R){return new A(f,m,b,R)}}function k(_,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?A._fromErrorAndOperation(_,j,f,b):j})}function P(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function K(){return(K=(0,c.Z)(function*(_,f){const m=(0,H.m9)(_);yield we(!0,m,f);const{providerUserInfo:b}=yield Lr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),R=P(b||[]);return m.providerData=m.providerData.filter(j=>R.has(j.providerId)),R.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function G(_,f){return oe.apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(_,f,m=!1){const b=yield Vr(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return Yr._forOperation(_,"link",b)})).apply(this,arguments)}function we(_,f,m){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,c.Z)(function*(_,f,m){yield Ur(f);const R=!1===_?"provider-already-linked":"no-such-provider";pe(P(f.providerData).has(m)===_,f.auth,R)})).apply(this,arguments)}function ge(_,f){return ke.apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(_,f,m=!1){const{auth:b}=_,R="reauthenticate";try{const j=yield Vr(_,k(b,R,f,_),m);pe(j.idToken,b,"internal-error");const ie=xt(j.idToken);pe(ie,b,"internal-error");const{sub:Ae}=ie;return pe(_.uid===Ae,b,"user-mismatch"),Yr._forOperation(_,R,j)}catch(j){throw"auth/user-not-found"===(null==j?void 0:j.code)&&$e(b,"user-mismatch"),j}})).apply(this,arguments)}function Et(_,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(_,f,m=!1){const b="signIn",R=yield k(_,b,f),j=yield Yr._fromIdTokenResponse(_,b,R);return m||(yield _._updateCurrentUser(j.user)),j})).apply(this,arguments)}function pt(_,f){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(_,f){return Et(rt(_),f)})).apply(this,arguments)}function Pn(_,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(_,f){const m=(0,H.m9)(_);return yield we(!1,m,f.providerId),G(m,f)})).apply(this,arguments)}function Dn(_,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(_,f){return ge((0,H.m9)(_),f)})).apply(this,arguments)}function jr(_,f){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(_,f){return pi(_,"POST","/v1/accounts:signInWithCustomToken",kn(_,f))})).apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(_,f){const m=rt(_),b=yield jr(m,{token:f,returnSecureToken:!0}),R=yield Yr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(R.user),R})).apply(this,arguments)}class kt{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Qr._fromServerResponse(f,m):$e(f,"internal-error")}}class Qr extends kt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Qr(m)}}function Yi(_,f,m){var b;pe((null===(b=m.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),pe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(pe(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(pe(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Hr(){return(Hr=(0,c.Z)(function*(_,f,m){const b=(0,H.m9)(_),R={requestType:"PASSWORD_RESET",email:f};m&&Yi(b,R,m),yield Va(b,R)})).apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(_,f,m){yield ur((0,H.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(_,f){yield Oi((0,H.m9)(_),{oobCode:f})})).apply(this,arguments)}function en(_,f){return ya.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(_,f){const m=(0,H.m9)(_),b=yield ur(m,{oobCode:f}),R=b.requestType;switch(pe(R,m,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(b.mfaInfo,m,"internal-error");default:pe(b.email,m,"internal-error")}let j=null;return b.mfaInfo&&(j=kt._fromServerResponse(rt(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:j},operation:R}})).apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(_,f){const{data:m}=yield en((0,H.m9)(_),f);return m.email})).apply(this,arguments)}function oi(){return(oi=(0,c.Z)(function*(_,f,m){const b=rt(_),R=yield Za(b,{returnSecureToken:!0,email:f,password:m}),j=yield Yr._fromIdTokenResponse(b,"signIn",R);return yield b._updateCurrentUser(j.user),j})).apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(_,f,m){const b=(0,H.m9)(_),R={requestType:"EMAIL_SIGNIN",email:f};pe(m.handleCodeInApp,b,"argument-error"),m&&Yi(b,R,m),yield lr(b,R)})).apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(_,f,m){const b=(0,H.m9)(_),R=ma.credentialWithLink(f,m||Jt());return pe(R._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),pt(b,R)})).apply(this,arguments)}function Jr(_,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(_,f){return En(_,"POST","/v1/accounts:createAuthUri",kn(_,f))})).apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(_,f){const b={identifier:f,continueUri:Nn()?Jt():"http://localhost"},{signinMethods:R}=yield Jr((0,H.m9)(_),b);return R||[]})).apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(_,f){const m=(0,H.m9)(_),R={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Yi(m.auth,R,f);const{email:j}=yield gr(m.auth,R);j!==_.email&&(yield _.reload())})).apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(_,f,m){const b=(0,H.m9)(_),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&Yi(b.auth,j,m);const{email:ie}=yield Wo(b.auth,j);ie!==_.email&&(yield _.reload())})).apply(this,arguments)}function Xi(_,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(_,f){return En(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,H.m9)(_),j={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},ie=yield Vr(b,Xi(b.auth,j));b.displayName=ie.displayName||null,b.photoURL=ie.photoUrl||null;const Ae=b.providerData.find(({providerId:dt})=>"password"===dt);Ae&&(Ae.displayName=b.displayName,Ae.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ie)})).apply(this,arguments)}function jn(_,f,m){return _s.apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(_,f,m){const{auth:b}=_,j={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(j.email=f),m&&(j.password=m);const ie=yield Vr(_,on(b,j));yield _._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class $r{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class eu extends $r{constructor(f,m,b,R){super(f,m,b),this.username=R}}class Au extends $r{constructor(f,m){super(f,"facebook.com",m)}}class Ao extends eu{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class ro extends $r{constructor(f,m){super(f,"google.com",m)}}class tu extends eu{constructor(f,m,b){super(f,"twitter.com",m,b)}}function cr(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ui(_){var f,m;if(!_)return null;const{providerId:b}=_,R=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},j=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const ie=null===(m=null===(f=xt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(ie)return new $r(j,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!b)return null;switch(b){case"facebook.com":return new Au(j,R);case"github.com":return new Ao(j,R);case"google.com":return new ro(j,R);case"twitter.com":return new tu(j,R,_.screenName||null);case"custom":case"anonymous":return new $r(j,null);default:return new $r(j,b,R)}}(m)}class es{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new es("enroll",f)}static _fromMfaPendingCredential(f){return new es("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return es._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return es._fromIdtoken(f.multiFactorSession.idToken)}return null}}class va{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=rt(f),R=m.customData._serverResponse,j=(R.mfaInfo||[]).map(Ae=>kt._fromServerResponse(b,Ae));pe(R.mfaPendingCredential,b,"internal-error");const ie=es._fromMfaPendingCredential(R.mfaPendingCredential);return new va(ie,j,function(){var Ae=(0,c.Z)(function*(dt){const Ct=yield dt._process(b,ie);delete R.mfaInfo,delete R.mfaPendingCredential;const Wt=Object.assign(Object.assign({},R),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(m.operationType){case"signIn":const Pt=yield Yr._fromIdTokenResponse(b,m.operationType,Wt);return yield b._updateCurrentUser(Pt.user),Pt;case"reauthenticate":return pe(m.user,b,"internal-error"),Yr._forOperation(m.user,m.operationType,Wt);default:$e(b,"internal-error")}});return function(dt){return Ae.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,c.Z)(function*(){return m.signInResolver(f)})()}}function Z(_,f){return En(_,"POST","/v2/accounts/mfaEnrollment:start",kn(_,f))}class se{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>kt._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new se(f)}getSession(){var f=this;return(0,c.Z)(function*(){return es._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var b=this;return(0,c.Z)(function*(){const R=f,j=yield b.getSession(),ie=yield Vr(b.user,R._process(b.user.auth,j,m));return yield b.user._updateTokensIfNecessary(ie),b.user.reload()})()}unenroll(f){var m=this;return(0,c.Z)(function*(){const b="string"==typeof f?f:f.uid,R=yield m.user.getIdToken(),j=yield Vr(m.user,function Ue(_,f){return En(_,"POST","/v2/accounts/mfaEnrollment:withdraw",kn(_,f))}(m.user.auth,{idToken:R,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ie})=>ie!==b),yield m.user._updateTokensIfNecessary(j);try{yield m.user.reload()}catch(ie){if("auth/user-token-expired"!==ie.code)throw ie}})()}}const je=new WeakMap,ot="__sak";class ut{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ot,"1"),this.storage.removeItem(ot),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kt=(()=>{class _ extends ut{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ht(){const _=(0,H.z$)();return Sn(_)||kr(_)}()&&function sr(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ks(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const R=this.storage.getItem(b),j=this.localCache[b];R!==j&&m(b,j,R)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Ae,dt,Ct)=>{this.notifyListeners(Ae,Ct)});const R=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(R);if(m.newValue!==Ae)null!==m.newValue?this.storage.setItem(R,m.newValue):this.storage.removeItem(R);else if(this.localCache[R]===m.newValue&&!b)return}const j=()=>{const Ae=this.storage.getItem(R);!b&&this.localCache[R]===Ae||this.notifyListeners(R,Ae)},ie=this.storage.getItem(R);!function zo(){return(0,H.w1)()&&10===document.documentMode}()||ie===m.newValue||m.newValue===m.oldValue?j():setTimeout(j,10)}notifyListeners(m,b){this.localCache[m]=b;const R=this.listeners[m];if(R)for(const j of Array.from(R))j(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var R=()=>super._set,j=this;return(0,c.Z)(function*(){yield R().call(j,m,b),j.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,R=this;return(0,c.Z)(function*(){const j=yield b().call(R,m);return R.localCache[m]=JSON.stringify(j),j})()}_remove(m){var b=()=>super._remove,R=this;return(0,c.Z)(function*(){yield b().call(R,m),delete R.localCache[m]})()}}return _.type="LOCAL",_})(),An=(()=>{class _ extends ut{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return _.type="SESSION",_})();let Jn=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(j=>j.isListeningto(m));if(b)return b;const R=new _(m);return this.receivers.push(R),R}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,c.Z)(function*(){const R=m,{eventId:j,eventType:ie,data:Ae}=R.data,dt=b.handlersMap[ie];if(!(null==dt?void 0:dt.size))return;R.ports[0].postMessage({status:"ack",eventId:j,eventType:ie});const Ct=Array.from(dt).map(function(){var Pt=(0,c.Z)(function*(Ar){return Ar(R.origin,Ae)});return function(Ar){return Pt.apply(this,arguments)}}()),Wt=yield function qn(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(Ct);R.ports[0].postMessage({status:"done",eventId:j,eventType:ie,response:Wt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Hn(_="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return _+m}class ta{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var R=this;return(0,c.Z)(function*(){const j="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let ie,Ae;return new Promise((dt,Ct)=>{const Wt=Hn("",20);j.port1.start();const Pt=setTimeout(()=>{Ct(new Error("unsupported_event"))},b);Ae={messageChannel:j,onMessage(Ar){const ho=Ar;if(ho.data.eventId===Wt)switch(ho.data.status){case"ack":clearTimeout(Pt),ie=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),dt(ho.data.response);break;default:clearTimeout(Pt),clearTimeout(ie),Ct(new Error("invalid_response"))}}},R.handlers.add(Ae),j.port1.addEventListener("message",Ae.onMessage),R.target.postMessage({eventType:f,eventId:Wt,data:m},[j.port2])}).finally(()=>{Ae&&R.removeMessageHandler(Ae)})})()}}function Fn(){return window}function Os(){return void 0!==Fn().WorkerGlobalScope&&"function"==typeof Fn().importScripts}function ws(){return(ws=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const dc="firebaseLocalStorageDb",wa="firebaseLocalStorage",Or="fbase_key";class So{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ru(_,f){return _.transaction([wa],f?"readwrite":"readonly").objectStore(wa)}function na(){const _=indexedDB.open(dc,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(wa,{keyPath:Or})}catch(R){m(R)}}),_.addEventListener("success",(0,c.Z)(function*(){const b=_.result;b.objectStoreNames.contains(wa)?f(b):(b.close(),yield function bs(){const _=indexedDB.deleteDatabase(dc);return new So(_).toPromise()}(),f(yield na()))}))})}function xu(_,f,m){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(_,f,m){const b=ru(_,!0).put({[Or]:f,value:m});return new So(b).toPromise()})).apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(_,f){const m=ru(_,!1).get(f),b=yield new So(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function so(_,f){const m=ru(_,!0).delete(f);return new So(m).toPromise()}const Fs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield na()),m.db})()}_withRetries(m){var b=this;return(0,c.Z)(function*(){let R=0;for(;;)try{const j=yield b._openDb();return yield m(j)}catch(j){if(R++>3)throw j;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Os()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=Jn._getInstance(function gd(){return Os()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(R,j){return{keyProcessed:(yield m._poll()).includes(j.key)}});return function(R,j){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(R,j){return["keyChanged"]});return function(R,j){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var b,R;if(m.activeServiceWorker=yield function fl(){return ws.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ta(m.activeServiceWorker);const j=yield m.sender._send("ping",{},800);!j||(null===(b=j[0])||void 0===b?void 0:b.fulfilled)&&(null===(R=j[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function In(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield na();return yield xu(m,ot,"1"),yield so(m,ot),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var R=this;return(0,c.Z)(function*(){return R._withPendingWrite((0,c.Z)(function*(){return yield R._withRetries(j=>xu(j,m,b)),R.localCache[m]=b,R.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,c.Z)(function*(){const R=yield b._withRetries(j=>function hc(_,f){return ra.apply(this,arguments)}(j,m));return b.localCache[m]=R,R})()}_remove(m){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(R=>so(R,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const b=yield m._withRetries(ie=>{const Ae=ru(ie,!1).getAll();return new So(Ae).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const R=[],j=new Set;for(const{fbase_key:ie,value:Ae}of b)j.add(ie),JSON.stringify(m.localCache[ie])!==JSON.stringify(Ae)&&(m.notifyListeners(ie,Ae),R.push(ie));for(const ie of Object.keys(m.localCache))m.localCache[ie]&&!j.has(ie)&&(m.notifyListeners(ie,null),R.push(ie));return R})()}notifyListeners(m,b){this.localCache[m]=b;const R=this.listeners[m];if(R)for(const j of Array.from(R))j(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function su(_,f){return En(_,"POST","/v2/accounts/mfaSignIn:start",kn(_,f))}function Ls(){return(Ls=(0,c.Z)(function*(_){return(yield En(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yr(_){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=R=>{const j=Ve("internal-error");j.customData=R,m(j)},b.type="text/javascript",b.charset="UTF-8",function _d(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function au(_){return`__${_}${Math.floor(1e6*Math.random())}`}const xi=1e12;class xo{constructor(f){this.auth=f,this.counter=xi,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new oo(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||xi;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||xi))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,c.Z)(function*(){var b;return null===(b=m._widgets.get(f||xi))||void 0===b||b.execute(),""})()}}class oo{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof f?document.getElementById(f):f;pe(R,"argument-error",{appName:m}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cr(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ia=au("rcb"),vd=new bn(3e4,6e4);class zp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Fn().grecaptcha}load(f,m=""){return pe(function Zp(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Fn().grecaptcha):new Promise((b,R)=>{const j=Fn().setTimeout(()=>{R(Ve(f,"network-request-failed"))},vd.get());Fn()[ia]=()=>{Fn().clearTimeout(j),delete Fn()[ia];const Ae=Fn().grecaptcha;if(!Ae)return void R(Ve(f,"internal-error"));const dt=Ae.render;Ae.render=(Ct,Wt)=>{const Pt=dt(Ct,Wt);return this.counter++,Pt},this.hostLanguage=m,b(Ae)},yr(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:ia,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(j),R(Ve(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Fn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Wp{load(f){return(0,c.Z)(function*(){return new xo(f)})()}clearedOneInstance(){}}const sa="recaptcha",ts={theme:"light",type:"image"};class Kp{constructor(f,m=Object.assign({},ts),b){this.parameters=m,this.type=sa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rt(b),this.isInvisible="invisible"===this.parameters.size,pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof f?document.getElementById(f):f;pe(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wp:new zp,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(j=>{const ie=Ae=>{!Ae||(f.tokenChangeListeners.delete(ie),j(Ae))};f.tokenChangeListeners.add(ie),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Fn()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){pe(Nn()&&!Os(),f.auth,"internal-error"),yield function oa(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Si(_){return Ls.apply(this,arguments)}(f.auth);pe(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mo{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ko._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function _r(){return(_r=(0,c.Z)(function*(_,f,m){const b=rt(_),R=yield mi(b,f,(0,H.m9)(m));return new Mo(R,j=>pt(b,j))})).apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(_,f,m){const b=(0,H.m9)(_);yield we(!1,b,"phone");const R=yield mi(b.auth,f,(0,H.m9)(m));return new Mo(R,j=>Pn(b,j))})).apply(this,arguments)}function gc(){return(gc=(0,c.Z)(function*(_,f,m){const b=(0,H.m9)(_),R=yield mi(b.auth,f,(0,H.m9)(m));return new Mo(R,j=>Dn(b,j))})).apply(this,arguments)}function mi(_,f,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(_,f,m){var b;const R=yield m.verify();try{let j;if(pe("string"==typeof R,_,"argument-error"),pe(m.type===sa,_,"argument-error"),j="string"==typeof f?{phoneNumber:f}:f,"session"in j){const ie=j.session;if("phoneNumber"in j)return pe("enroll"===ie.type,_,"internal-error"),(yield Z(_,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{pe("signin"===ie.type,_,"internal-error");const Ae=(null===(b=j.multiFactorHint)||void 0===b?void 0:b.uid)||j.multiFactorUid;return pe(Ae,_,"missing-multi-factor-info"),(yield su(_,{mfaPendingCredential:ie.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield ol(_,{phoneNumber:j.phoneNumber,recaptchaToken:R});return ie}}finally{m._reset()}})).apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(_,f){yield G((0,H.m9)(_),f)})).apply(this,arguments)}let Us=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=rt(m)}verifyPhoneNumber(m,b){return mi(this.auth,m,(0,H.m9)(b))}static credential(m,b){return Ko._fromVerification(m,b)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:R}=m;return b&&R?Ko._fromTokenResponse(b,R):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ao(_,f){return f?Ee(f):(pe(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Mu extends Un{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return mr(f,this._buildIdpRequest())}_linkToIdToken(f,m){return mr(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return mr(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function yc(_){return Et(_.auth,new Mu(_),_.bypassAuthState)}function _c(_){const{auth:f,user:m}=_;return pe(m,f,"internal-error"),ge(m,new Mu(_),_.bypassAuthState)}function _n(_){return vc.apply(this,arguments)}function vc(){return(vc=(0,c.Z)(function*(_){const{auth:f,user:m}=_;return pe(m,f,"internal-error"),G(m,new Mu(_),_.bypassAuthState)})).apply(this,arguments)}class Xr{constructor(f,m,b,R,j=!1){this.auth=f,this.resolver=b,this.user=R,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,c.Z)(function*(b,R){f.pendingPromise={resolve:b,reject:R};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(j){f.reject(j)}});return function(b,R){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:R,postBody:j,tenantId:ie,error:Ae,type:dt}=f;if(Ae)return void m.reject(Ae);const Ct={auth:m.auth,requestUri:b,sessionId:R,tenantId:ie||void 0,postBody:j||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(dt)(Ct))}catch(Wt){m.reject(Wt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return yc;case"linkViaPopup":case"linkViaRedirect":return _n;case"reauthViaPopup":case"reauthViaRedirect":return _c;default:$e(this.auth,"internal-error")}}resolve(f){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wc=new bn(2e3,1e4);function wd(){return(wd=(0,c.Z)(function*(_,f,m){const b=rt(_);ct(_,f,Ps);const R=ao(b,m);return new lo(b,"signInViaPopup",f,R).executeNotNull()})).apply(this,arguments)}function gl(){return(gl=(0,c.Z)(function*(_,f,m){const b=(0,H.m9)(_);ct(b.auth,f,Ps);const R=ao(b.auth,m);return new lo(b.auth,"reauthViaPopup",f,R,b).executeNotNull()})).apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(_,f,m){const b=(0,H.m9)(_);ct(b.auth,f,Ps);const R=ao(b.auth,m);return new lo(b.auth,"linkViaPopup",f,R,b).executeNotNull()})).apply(this,arguments)}let lo=(()=>{class _ extends Xr{constructor(m,b,R,j,ie){super(m,b,j,ie),this.provider=R,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const b=yield m.execute();return pe(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,c.Z)(function*(){be(1===m.filter.length,"Popup operations only handle one event");const b=Hn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(R=>{m.reject(R)}),m.resolver._isIframeWebStorageSupported(m.auth,R=>{R||m.reject(Ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,R;this.pollId=(null===(R=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,wc.get())};m()}}return _.currentPopupAction=null,_})();const co=new Map;class qr extends Xr{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,c.Z)(function*(){let b=co.get(m.auth._key());if(!b){try{const j=(yield function Is(_,f){return bc.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(j)}catch(R){b=()=>Promise.reject(R)}co.set(m.auth._key(),b)}return m.bypassAuthState||co.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const R=yield b.auth._redirectUserForId(f.eventId);if(R)return b.user=R,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function bc(){return(bc=(0,c.Z)(function*(_,f){const m=M(f),b=S(_);if(!(yield b._isAvailable()))return!1;const R="true"===(yield b._get(m));return yield b._remove(m),R})).apply(this,arguments)}function Ea(_,f){return cu.apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(_,f){return S(_)._set(M(f),"true")})).apply(this,arguments)}function S(_){return Ee(_._redirectPersistence)}function M(_){return Se("pendingRedirect",_.config.apiKey,_.name)}function le(){return(le=(0,c.Z)(function*(_,f,m){const b=rt(_);ct(_,f,Ps);const R=ao(b,m);return yield Ea(R,b),R._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function et(){return(et=(0,c.Z)(function*(_,f,m){const b=(0,H.m9)(_);ct(b.auth,f,Ps);const R=ao(b.auth,m);yield Ea(R,b.auth);const j=yield Ia(b);return R._openRedirect(b.auth,f,"reauthViaRedirect",j)})).apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(_,f,m){const b=(0,H.m9)(_);ct(b.auth,f,Ps);const R=ao(b.auth,m);yield we(!1,b,f.providerId),yield Ea(R,b.auth);const j=yield Ia(b);return R._openRedirect(b.auth,f,"linkViaRedirect",j)})).apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(_,f){return yield rt(_)._initializationPromise,Tr(_,f,!1)})).apply(this,arguments)}function Tr(_,f){return du.apply(this,arguments)}function du(){return(du=(0,c.Z)(function*(_,f,m=!1){const b=rt(_),R=ao(b,f),ie=yield new qr(b,R,m).execute();return ie&&!m&&(delete ie.user._redirectEventId,yield b._persistUserIfCurrent(ie.user),yield b._setRedirectUser(null,f)),ie})).apply(this,arguments)}function Ia(_){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(_){const f=Hn(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Bs{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ec(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ed(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!Ed(f)){const R=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Ve(this.auth,R))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ca(f))}saveEventToCache(f){this.cachedEventUids.add(Ca(f)),this.lastProcessedEventTime=Date.now()}}function Ca(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Ed({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Ic(_){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,c.Z)(function*(_,f={}){return En(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Qp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ey=/^https?/;function No(){return(No=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Ic(_);for(const m of f)try{if(Cc(m))return}catch(b){}$e(_,"unauthorized-domain")})).apply(this,arguments)}function Cc(_){const f=Jt(),{protocol:m,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const ie=new URL(_);return""===ie.hostname&&""===b?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ie.hostname===b}if(!Ey.test(m))return!1;if(Qp.test(_))return b===_;const R=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(b)}const Cy=new bn(3e4,6e4);function Dy(){const _=Fn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Id=null;function Ty(_){return Id=Id||function Jp(_){return new Promise((f,m)=>{var b,R,j;function ie(){Dy(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Dy(),m(Ve(_,"network-request-failed"))},timeout:Cy.get()})}if(null===(R=null===(b=Fn().gapi)||void 0===b?void 0:b.iframes)||void 0===R?void 0:R.Iframe)f(gapi.iframes.getContext());else{if(!(null===(j=Fn().gapi)||void 0===j?void 0:j.load)){const Ae=au("iframefcb");return Fn()[Ae]=()=>{gapi.load?ie():m(Ve(_,"network-request-failed"))},yr(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(dt=>m(dt))}ie()}}).catch(f=>{throw Id=null,f})}(_),Id}const Vh=new bn(5e3,15e3),Ta={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nu(_){const f=_.config;pe(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?Gn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:ve.SDK_VERSION},R=Cd.get(_.config.apiHost);R&&(b.eid=R);const j=_._getFrameworks();return j.length&&(b.fw=j.join(",")),`${m}?${(0,H.xO)(b).slice(1)}`}function hu(){return hu=(0,c.Z)(function*(_){const f=yield Ty(_),m=Fn().gapi;return pe(m,_,"internal-error"),f.open({where:document.body,url:Nu(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ta,dontclear:!0},b=>new Promise(function(){var R=(0,c.Z)(function*(j,ie){yield b.restyle({setHideOnLeave:!1});const Ae=Ve(_,"network-request-failed"),dt=Fn().setTimeout(()=>{ie(Ae)},Vh.get());function Ct(){Fn().clearTimeout(dt),j(b)}b.ping(Ct).then(Ct,()=>{ie(Ae)})});return function(j,ie){return R.apply(this,arguments)}}()))}),hu.apply(this,arguments)}const Sy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ad{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Hh(_,f,m,b,R,j){pe(_.config.authDomain,_,"auth-domain-config-required"),pe(_.config.apiKey,_,"invalid-api-key");const ie={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:b,v:ve.SDK_VERSION,eventId:R};if(f instanceof Ps){f.setDefaultLanguage(_.languageCode),ie.providerId=f.providerId||"",(0,H.xb)(f.getCustomParameters())||(ie.customParameters=JSON.stringify(f.getCustomParameters()));for(const[dt,Ct]of Object.entries(j||{}))ie[dt]=Ct}if(f instanceof si){const dt=f.getScopes().filter(Ct=>""!==Ct);dt.length>0&&(ie.scopes=dt.join(","))}_.tenantId&&(ie.tid=_.tenantId);const Ae=ie;for(const dt of Object.keys(Ae))void 0===Ae[dt]&&delete Ae[dt];return`${function My({config:_}){return _.emulator?Gn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,H.xO)(Ae).slice(1)}`}const ua="webStorageSupport";class $h extends class Xp{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new $h(f)}_finalizeEnroll(f,m,b){return function re(_,f){return En(_,"POST","/v2/accounts/mfaEnrollment:finalize",kn(_,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function ou(_,f){return En(_,"POST","/v2/accounts/mfaSignIn:finalize",kn(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ry=(()=>{class _{constructor(){}static assertion(m){return $h._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Ny="@firebase/auth",qh="0.19.12";class eg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var R;f((null===(R=b)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function la(){return window}function wl(){return(wl=(0,c.Z)(function*(_,f,m){var b;const{BuildInfo:R}=la();be(f.sessionId,"AuthEvent did not contain a session ID");const j=yield ku(f.sessionId),ie={};return kr()?ie.ibi=R.packageName:ir()?ie.apn=R.packageName:$e(_,"operation-not-supported-in-this-environment"),R.displayName&&(ie.appDisplayName=R.displayName),ie.sessionId=j,Hh(_,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,ie)})).apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(_){const{BuildInfo:f}=la(),m={};kr()?m.iosBundleId=f.packageName:ir()?m.androidPackageName=f.packageName:$e(_,"operation-not-supported-in-this-environment"),yield Ic(_,m)})).apply(this,arguments)}function xd(){return(xd=(0,c.Z)(function*(_,f,m){const{cordova:b}=la();let R=()=>{};try{yield new Promise((j,ie)=>{let Ae=null;function dt(){var Pt;j();const Ar=null===(Pt=b.plugins.browsertab)||void 0===Pt?void 0:Pt.close;"function"==typeof Ar&&Ar(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Ct(){Ae||(Ae=window.setTimeout(()=>{ie(Ve(_,"redirect-cancelled-by-user"))},2e3))}function Wt(){"visible"===(null==document?void 0:document.visibilityState)&&Ct()}f.addPassiveListener(dt),document.addEventListener("resume",Ct,!1),ir()&&document.addEventListener("visibilitychange",Wt,!1),R=()=>{f.removePassiveListener(dt),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",Wt,!1),Ae&&window.clearTimeout(Ae)}})}finally{R()}})).apply(this,arguments)}function ku(_){return ng.apply(this,arguments)}function ng(){return(ng=(0,c.Z)(function*(_){const f=bl(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bl(_){if(be(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let b=0;b<_.length;b++)m[b]=_.charCodeAt(b);return m}!function Py(_){(0,ve._registerComponent)(new Ie.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),R=f.getProvider("heartbeat"),{apiKey:j,authDomain:ie}=b.options;return((Ae,dt)=>{pe(j&&!j.includes(":"),"invalid-api-key",{appName:Ae.name}),pe(!(null==ie?void 0:ie.includes(":")),"argument-error",{appName:Ae.name});const Ct={apiKey:j,authDomain:ie,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zo(_)},Wt=new Ei(Ae,dt,Ct);return function De(_,f){const m=(null==f?void 0:f.persistence)||[],b=(Array.isArray(m)?m:[m]).map(Ee);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(Wt,m),Wt})(b,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,ve._registerComponent)(new Ie.wA("auth-internal",f=>{const m=rt(f.getProvider("auth").getImmediate());return new eg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)(Ny,qh,function ky(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ve.registerVersion)(Ny,qh,"esm2017")}("Browser");class Wh extends Bs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Ac(_){return pu.apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(_){const f=yield xc()._get(Yh(_));return f&&(yield xc()._remove(Yh(_))),f})).apply(this,arguments)}function Sc(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function xc(){return Ee(Kt)}function Yh(_){return Se("authEvent",_.config.apiKey,_.name)}function Rd(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...m]=_.split("?");return(0,H.zd)(m.join("?"))}function ef(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ve("no-auth-event")}}function Nd(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function ig(_=(0,H.z$)()){return!("file:"!==Nd()&&"ionic:"!==Nd()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mi(){try{const _=self.localStorage,f=Hn();if(_)return _.setItem(f,"1"),_.removeItem(f),!function gu(_=(0,H.z$)()){return function Uy(){return(0,H.w1)()&&11===(null==document?void 0:document.documentMode)}()||function By(_=(0,H.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,H.hl)()}catch(_){return Aa()&&(0,H.hl)()}return!1}function Aa(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nc(){return(function Vy(){return"http:"===Nd()||"https:"===Nd()}()||(0,H.ru)()||ig())&&!function kd(){return(0,H.b$)()||(0,H.UG)()}()&&Mi()&&!Aa()}function tf(){return ig()&&"undefined"!=typeof document}function Pu(){return(Pu=(0,c.Z)(function*(){return!!tf()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Hs={LOCAL:"local",NONE:"none",SESSION:"session"},Ou=pe,rf="persistence";function Fu(_){return sf.apply(this,arguments)}function sf(){return(sf=(0,c.Z)(function*(_){yield _._initializationPromise;const f=kc(),m=Se(rf,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function kc(){var _;try{return(null===(_=function nf(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const jy=pe;class Ds{constructor(){this.browserResolver=Ee(class fu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=An,this._completeRedirectFn=Tr}_openPopup(f,m,b,R){var j=this;return(0,c.Z)(function*(){var ie;be(null===(ie=j.eventManagers[f._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const Ae=Hh(f,m,b,Jt(),R);return function Sd(_,f,m,b=500,R=600){const j=Math.max((window.screen.availHeight-R)/2,0).toString(),ie=Math.max((window.screen.availWidth-b)/2,0).toString();let Ae="";const dt=Object.assign(Object.assign({},Sy),{width:b.toString(),height:R.toString(),top:j,left:ie}),Ct=(0,H.z$)().toLowerCase();m&&(Ae=ii(Ct)?"_blank":m),zt(Ct)&&(f=f||"http://localhost",dt.scrollbars="yes");const Wt=Object.entries(dt).reduce((Ar,[ho,Oc])=>`${Ar}${ho}=${Oc},`,"");if(function wo(_=(0,H.z$)()){var f;return kr(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Ct)&&"_self"!==Ae)return function jh(_,f){const m=document.createElement("a");m.href=_,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",Ae),new Ad(null);const Pt=window.open(f||"",Ae,Wt);pe(Pt,_,"popup-blocked");try{Pt.focus()}catch(Ar){}return new Ad(Pt)}(f,Ae,Hn())})()}_openRedirect(f,m,b,R){var j=this;return(0,c.Z)(function*(){return yield j._originValidation(f),function Ai(_){Fn().location.href=_}(Hh(f,m,b,Jt(),R)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:R,promise:j}=this.eventManagers[m];return R?Promise.resolve(R):(be(j,"If manager is not set, promise should be"),j)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,c.Z)(function*(){const b=yield function Ay(_){return hu.apply(this,arguments)}(f),R=new Bs(f);return b.register("authEvent",j=>(pe(null==j?void 0:j.authEvent,f,"invalid-auth-event"),{status:R.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:R},m.iframes[f._key()]=b,R})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(ua,{type:ua},R=>{var j;const ie=null===(j=null==R?void 0:R[0])||void 0===j?void 0:j[ua];void 0!==ie&&m(!!ie),$e(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Iy(_){return No.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return ks()||Sn()||kr()}}),this.cordovaResolver=Ee(class Xh{constructor(){this._redirectPersistence=An,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tr}_initialize(f){var m=this;return(0,c.Z)(function*(){const b=f._key();let R=m.eventManagers.get(b);return R||(R=new Wh(f),m.eventManagers.set(b,R),m.attachCallbackListeners(f,R)),R})()}_openPopup(f){$e(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,R){var j=this;return(0,c.Z)(function*(){!function Md(_){var f,m,b,R,j,ie,Ae,dt,Ct,Wt;const Pt=la();pe("function"==typeof(null===(f=null==Pt?void 0:Pt.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pe(void 0!==(null===(m=null==Pt?void 0:Pt.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pe("function"==typeof(null===(j=null===(R=null===(b=null==Pt?void 0:Pt.cordova)||void 0===b?void 0:b.plugins)||void 0===R?void 0:R.browsertab)||void 0===j?void 0:j.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(dt=null===(Ae=null===(ie=null==Pt?void 0:Pt.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===dt?void 0:dt.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(Wt=null===(Ct=null==Pt?void 0:Pt.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===Wt?void 0:Wt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const ie=yield j._initialize(f);yield ie.initialized(),ie.resetRedirect(),function yl(){co.clear()}(),yield j._originValidation(f);const Ae=function Kh(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Sc(),postBody:null,tenantId:_.tenantId,error:Ve(_,"no-auth-event")}}(f,b,R);yield function j0(_,f){return xc()._set(Yh(_),f)}(f,Ae);const dt=yield function Gh(_,f,m){return wl.apply(this,arguments)}(f,Ae,m),Ct=yield function Tc(_){const{cordova:f}=la();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let R=null;b?f.plugins.browsertab.openUrl(_):R=f.InAppBrowser.open(_,function Ns(_=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(R)})})}(dt);return function tg(_,f,m){return xd.apply(this,arguments)}(f,ie,Ct)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function zh(_){return js.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:R,BuildInfo:j}=la(),ie=setTimeout((0,c.Z)(function*(){yield Ac(f),m.onEvent(ef())}),500),Ae=function(){var Wt=(0,c.Z)(function*(Pt){clearTimeout(ie);const Ar=yield Ac(f);let ho=null;Ar&&(null==Pt?void 0:Pt.url)&&(ho=function Fy(_,f){var m,b;const R=function Mc(_){const f=Rd(_),m=f.link?decodeURIComponent(f.link):void 0,b=Rd(m).link,R=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Rd(R).link||R||b||m||_}(f);if(R.includes("/__/auth/callback")){const j=Rd(R),ie=j.firebaseError?function Qh(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(j.firebaseError)):null,Ae=null===(b=null===(m=null==ie?void 0:ie.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],dt=Ae?Ve(Ae):null;return dt?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:dt,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:R,postBody:null}}return null}(Ar,Pt.url)),m.onEvent(ho||ef())});return function(Ar){return Wt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,Ae);const dt=R,Ct=`${j.packageName.toLowerCase()}://`;la().handleOpenURL=function(){var Wt=(0,c.Z)(function*(Pt){if(Pt.toLowerCase().startsWith(Ct)&&Ae({url:Pt}),"function"==typeof dt)try{dt(Pt)}catch(Ar){console.error(Ar)}});return function(Pt){return Wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=An,this._completeRedirectFn=Tr}_initialize(f){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,R){var j=this;return(0,c.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openPopup(f,m,b,R)})()}_openRedirect(f,m,b,R){var j=this;return(0,c.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openRedirect(f,m,b,R)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return tf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return jy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const m=yield function ji(){return Pu.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function ag(_){return _.unwrap()}function Lu(_){return ug(_)}function ug(_){const{_tokenResponse:f}=_ instanceof H.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof H.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Us.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Co;break;case"facebook.com":b=eo;break;case"github.com":b=ll;break;case"twitter.com":b=Qo;break;default:const{oauthIdToken:R,oauthAccessToken:j,oauthTokenSecret:ie,pendingToken:Ae,nonce:dt}=f;return j||ie||R||Ae?Ae?m.startsWith("saml.")?Yo._create(m,Ae):gs._fromParams({providerId:m,signInMethod:m,pendingToken:Ae,idToken:R,accessToken:j}):new Io(m).credential({idToken:R,accessToken:j,rawNonce:dt}):null}return _ instanceof H.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Ri(_,f){return f.catch(m=>{throw m instanceof H.ZR&&function $y(_,f){var m;const b=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new qy(_,function B(_,f){var m;const b=(0,H.m9)(_),R=f;return pe(f.customData.operationType,b,"argument-error"),pe(null===(m=R.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),va._fromError(b,R)}(_,f));else if(b){const R=ug(f),j=f;R&&(j.credential=R,j.tenantId=b.tenantId||void 0,j.email=b.email||void 0,j.phoneNumber=b.phoneNumber||void 0)}}(_,m),m}).then(m=>{const R=m.user;return{operationType:m.operationType,credential:Lu(m),additionalUserInfo:cr(m),user:Sa.getOrCreate(R)}})}function af(_,f){return uf.apply(this,arguments)}function uf(){return(uf=(0,c.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>Ri(_,m.confirm(b))}})).apply(this,arguments)}class qy{constructor(f,m){this.resolver=m,this.auth=function Hy(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ri(ag(this.auth),this.resolver.resolveSignIn(f))}}class Sa{constructor(f){this._delegate=f,this.multiFactor=function We(_){const f=(0,H.m9)(_);return je.has(f)||je.set(f,se._fromUser(f)),je.get(f)}(f)}static getOrCreate(f){return Sa.USER_MAP.has(f)||Sa.USER_MAP.set(f,new Sa(f)),Sa.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,c.Z)(function*(){return Ri(m.auth,Pn(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,c.Z)(function*(){return af(b.auth,function pc(_,f,m){return lu.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,c.Z)(function*(){return Ri(m.auth,function uo(_,f,m){return ml.apply(this,arguments)}(m._delegate,f,Ds))})()}linkWithRedirect(f){var m=this;return(0,c.Z)(function*(){return yield Fu(rt(m.auth)),function It(_,f,m){return function tn(_,f,m){return yn.apply(this,arguments)}(_,f,m)}(m._delegate,f,Ds)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,c.Z)(function*(){return Ri(m.auth,Dn(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return af(this.auth,function Yp(_,f,m){return gc.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Ri(this.auth,function ba(_,f,m){return gl.apply(this,arguments)}(this._delegate,f,Ds))}reauthenticateWithRedirect(f){var m=this;return(0,c.Z)(function*(){return yield Fu(rt(m.auth)),function me(_,f,m){return function Xe(_,f,m){return et.apply(this,arguments)}(_,f,m)}(m._delegate,f,Ds)})()}sendEmailVerification(f){return function Ji(_,f){return To.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,c.Z)(function*(){return yield function V(_,f){return K.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function Xa(_,f){return jn((0,H.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function dl(_,f){return jn((0,H.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function mc(_,f){return Ro.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ea(_,f){return Ja.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Qa(_,f,m){return Xo.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Sa.USER_MAP=new WeakMap;const Pc=pe;let lf=(()=>{class _{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=m.options;Pc(R,"invalid-api-key",{appName:m.name}),Pc(R,"invalid-api-key",{appName:m.name});const j="undefined"!=typeof window?Ds:void 0;this._delegate=b.initialize({options:{persistence:Gy(R,m.name),popupRedirectResolver:j}}),this._delegate._updateErrorMap(He),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Qn(_,f,m){const b=rt(_);pe(b._canInitEmulator,b,"emulator-config-failed"),pe(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const R=!!(null==m?void 0:m.disableWarnings),j=Pr(f),{host:ie,port:Ae}=function Ks(_){const f=Pr(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(b);if(R){const j=R[1];return{host:j,port:pr(b.substr(j.length+1))}}{const[j,ie]=b.split(":");return{host:j,port:pr(ie)}}}(f);b.config.emulator={url:`${j}//${ie}${null===Ae?"":`:${Ae}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ie,port:Ae,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function hs(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,b)}applyActionCode(m){return function ys(_,f){return qe.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return en(this._delegate,m)}confirmPasswordReset(m,b){return function Qi(_,f,m){return gi.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var R=this;return(0,c.Z)(function*(){return Ri(R._delegate,function Do(_,f,m){return oi.apply(this,arguments)}(R._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ya(_,f){return no.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Wa(_,f){const m=Eo.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){Pc(Nc(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function an(_,f){return Gr.apply(this,arguments)}(m._delegate,Ds);return b?Ri(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function rg(_,f){rt(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,R){const{next:j,error:ie,complete:Ae}=cf(m,b,R);return this._delegate.onAuthStateChanged(j,ie,Ae)}onIdTokenChanged(m,b,R){const{next:j,error:ie,complete:Ae}=cf(m,b,R);return this._delegate.onIdTokenChanged(j,ie,Ae)}sendSignInLinkToEmail(m,b){return function Jo(_,f,m){return cl.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function ms(_,f,m){return Hr.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,c.Z)(function*(){let R;switch(function sg(_,f){Ou(Object.values(Hs).includes(f),_,"invalid-persistence-type"),(0,H.b$)()?Ou(f!==Hs.SESSION,_,"unsupported-persistence-type"):(0,H.UG)()?Ou(f===Hs.NONE,_,"unsupported-persistence-type"):Aa()?Ou(f===Hs.NONE||f===Hs.LOCAL&&(0,H.hl)(),_,"unsupported-persistence-type"):Ou(f===Hs.NONE||Mi(),_,"unsupported-persistence-type")}(b._delegate,m),m){case Hs.SESSION:R=An;break;case Hs.LOCAL:R=(yield Ee(Fs)._isAvailable())?Fs:Kt;break;case Hs.NONE:R=ne;break;default:return $e("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ri(this._delegate,function w(_){return C.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ri(this._delegate,pt(this._delegate,m))}signInWithCustomToken(m){return Ri(this._delegate,function On(_,f){return Li.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Ri(this._delegate,function Tu(_,f,m){return pt((0,H.m9)(_),ma.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Ri(this._delegate,function Ka(_,f,m){return to.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return af(this._delegate,function pl(_,f,m){return _r.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,c.Z)(function*(){return Pc(Nc(),b._delegate,"operation-not-supported-in-this-environment"),Ri(b._delegate,function aa(_,f,m){return wd.apply(this,arguments)}(b._delegate,m,Ds))})()}signInWithRedirect(m){var b=this;return(0,c.Z)(function*(){return Pc(Nc(),b._delegate,"operation-not-supported-in-this-environment"),yield Fu(b._delegate),function L(_,f,m){return function z(_,f,m){return le.apply(this,arguments)}(_,f,m)}(b._delegate,m,Ds)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function jt(_,f){return Vi.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Hs,_})();function cf(_,f,m){let b=_;"function"!=typeof _&&({next:b,error:f,complete:m}=_);const R=b;return{next:ie=>R(ie&&Sa.getOrCreate(ie)),error:f,complete:m}}function Gy(_,f){const m=function og(_,f){const m=kc();if(!m)return[];const b=Se(rf,_,f);switch(m.getItem(b)){case Hs.NONE:return[ne];case Hs.LOCAL:return[Fs,An];case Hs.SESSION:return[An];default:return[]}}(_,f);if("undefined"!=typeof self&&!m.includes(Fs)&&m.push(Fs),"undefined"!=typeof window)for(const b of[Kt,An])m.includes(b)||m.push(b);return m.includes(ne)||m.push(ne),m}class df{constructor(){this.providerId="phone",this._delegate=new Us(ag(te.Z.auth()))}static credential(f,m){return Us.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}df.PHONE_SIGN_IN_METHOD=Us.PHONE_SIGN_IN_METHOD,df.PROVIDER_ID=Us.PROVIDER_ID;const zy=pe;class Zy{constructor(f,m,b=te.Z.app()){var R;zy(null===(R=b.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Kp(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function lg(_){_.INTERNAL.registerComponent(new Ie.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new lf(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ma,FacebookAuthProvider:eo,GithubAuthProvider:ll,GoogleAuthProvider:Co,OAuthProvider:Io,SAMLAuthProvider:Ci,PhoneAuthProvider:df,PhoneMultiFactorGenerator:Ry,RecaptchaVerifier:Zy,TwitterAuthProvider:Qo,Auth:lf,AuthCredential:Un,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.12")}(te.Z)},8259:function(Rt,Ze){var c;!function(te,H){"use strict";"object"==typeof Rt.exports?Rt.exports=te.document?H(te,!0):function(ve){if(!ve.document)throw new Error("jQuery requires a window with a document");return H(ve)}:H(te)}("undefined"!=typeof window?window:this,function(te,H){"use strict";var ve=[],fe=Object.getPrototypeOf,Me=ve.slice,Ie=ve.flat?function(p){return ve.flat.call(p)}:function(p){return ve.concat.apply([],p)},Re=ve.push,Te=ve.indexOf,X={},ee=X.toString,de=X.hasOwnProperty,mt=de.toString,Ke=mt.call(Object),He={},Le=function(w){return"function"==typeof w&&"number"!=typeof w.nodeType&&"function"!=typeof w.item},xe=function(w){return null!=w&&w===w.window},_e=te.document,bt={type:!0,src:!0,nonce:!0,noModule:!0};function yt(p,w,C){var A,k,P=(C=C||_e).createElement("script");if(P.text=p,w)for(A in bt)(k=w[A]||w.getAttribute&&w.getAttribute(A))&&P.setAttribute(A,k);C.head.appendChild(P).parentNode.removeChild(P)}function $e(p){return null==p?p+"":"object"==typeof p||"function"==typeof p?X[ee.call(p)]||"object":typeof p}var D=function(p,w){return new D.fn.init(p,w)};function ct(p){var w=!!p&&"length"in p&&p.length,C=$e(p);return!Le(p)&&!xe(p)&&("array"===C||0===w||"number"==typeof w&&w>0&&w-1 in p)}D.fn=D.prototype={jquery:"3.6.0",constructor:D,length:0,toArray:function(){return Me.call(this)},get:function(p){return null==p?Me.call(this):p<0?this[p+this.length]:this[p]},pushStack:function(p){var w=D.merge(this.constructor(),p);return w.prevObject=this,w},each:function(p){return D.each(this,p)},map:function(p){return this.pushStack(D.map(this,function(w,C){return p.call(w,C,w)}))},slice:function(){return this.pushStack(Me.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(D.grep(this,function(p,w){return(w+1)%2}))},odd:function(){return this.pushStack(D.grep(this,function(p,w){return w%2}))},eq:function(p){var w=this.length,C=+p+(p<0?w:0);return this.pushStack(C>=0&&C<w?[this[C]]:[])},end:function(){return this.prevObject||this.constructor()},push:Re,sort:ve.sort,splice:ve.splice},D.extend=D.fn.extend=function(){var p,w,C,A,k,P,V=arguments[0]||{},K=1,G=arguments.length,oe=!1;for("boolean"==typeof V&&(oe=V,V=arguments[K]||{},K++),"object"!=typeof V&&!Le(V)&&(V={}),K===G&&(V=this,K--);K<G;K++)if(null!=(p=arguments[K]))for(w in p)A=p[w],"__proto__"!==w&&V!==A&&(oe&&A&&(D.isPlainObject(A)||(k=Array.isArray(A)))?(C=V[w],P=k&&!Array.isArray(C)?[]:k||D.isPlainObject(C)?C:{},k=!1,V[w]=D.extend(oe,P,A)):void 0!==A&&(V[w]=A));return V},D.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw new Error(p)},noop:function(){},isPlainObject:function(p){var w,C;return!(!p||"[object Object]"!==ee.call(p)||(w=fe(p))&&("function"!=typeof(C=de.call(w,"constructor")&&w.constructor)||mt.call(C)!==Ke))},isEmptyObject:function(p){var w;for(w in p)return!1;return!0},globalEval:function(p,w,C){yt(p,{nonce:w&&w.nonce},C)},each:function(p,w){var C,A=0;if(ct(p))for(C=p.length;A<C&&!1!==w.call(p[A],A,p[A]);A++);else for(A in p)if(!1===w.call(p[A],A,p[A]))break;return p},makeArray:function(p,w){var C=w||[];return null!=p&&(ct(Object(p))?D.merge(C,"string"==typeof p?[p]:p):Re.call(C,p)),C},inArray:function(p,w,C){return null==w?-1:Te.call(w,p,C)},merge:function(p,w){for(var C=+w.length,A=0,k=p.length;A<C;A++)p[k++]=w[A];return p.length=k,p},grep:function(p,w,C){for(var k=[],P=0,V=p.length,K=!C;P<V;P++)!w(p[P],P)!==K&&k.push(p[P]);return k},map:function(p,w,C){var A,k,P=0,V=[];if(ct(p))for(A=p.length;P<A;P++)null!=(k=w(p[P],P,C))&&V.push(k);else for(P in p)null!=(k=w(p[P],P,C))&&V.push(k);return Ie(V)},guid:1,support:He}),"function"==typeof Symbol&&(D.fn[Symbol.iterator]=ve[Symbol.iterator]),D.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(p,w){X["[object "+w+"]"]=w.toLowerCase()});var at=function(p){var w,C,A,k,P,V,K,G,oe,we,Pe,ge,ke,Et,Mt,pt,rr,Pn,zn,Dn="sizzle"+1*new Date,Vt=p.document,jr=0,Xt=0,On=_s(),Li=_s(),kt=_s(),Qr=_s(),Yi=function(B,Z){return B===Z&&(Pe=!0),0},ms={}.hasOwnProperty,Hr=[],Qi=Hr.pop,gi=Hr.push,ys=Hr.push,qe=Hr.slice,en=function(B,Z){for(var re=0,Ue=B.length;re<Ue;re++)if(B[re]===Z)return re;return-1},ya="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",jt="[\\x20\\t\\r\\n\\f]",Vi="(?:\\\\[\\da-fA-F]{1,6}"+jt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Do="\\["+jt+"*("+Vi+")(?:"+jt+"*([*^$|!~]?=)"+jt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Vi+"))|)"+jt+"*\\]",oi=":("+Vi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Do+")*)|.*)\\)|)",Tu=new RegExp(jt+"+","g"),Jo=new RegExp("^"+jt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+jt+"+$","g"),cl=new RegExp("^"+jt+"*,"+jt+"*"),Wa=new RegExp("^"+jt+"*([>+~]|"+jt+")"+jt+"*"),Ka=new RegExp(jt+"|>"),to=new RegExp(oi),Jr=new RegExp("^"+Vi+"$"),ai={ID:new RegExp("^#("+Vi+")"),CLASS:new RegExp("^\\.("+Vi+")"),TAG:new RegExp("^("+Vi+"|[*])"),ATTR:new RegExp("^"+Do),PSEUDO:new RegExp("^"+oi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+jt+"*(even|odd|(([+-]|)(\\d*)n|)"+jt+"*(?:([+-]|)"+jt+"*(\\d+)|))"+jt+"*\\)|)","i"),bool:new RegExp("^(?:"+ya+")$","i"),needsContext:new RegExp("^"+jt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+jt+"*((?:-\\d)?\\d*)"+jt+"*\\)|)(?=[^-]|$)","i")},Ya=/HTML$/i,no=/^(?:input|select|textarea|button)$/i,Ji=/^h\d$/i,To=/^[^{]+\{\s*\[native \w/,Qa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Xo=/[+~]/,Xi=new RegExp("\\\\[\\da-fA-F]{1,6}"+jt+"?|\\\\([^\\r\\n\\f])","g"),Ti=function(B,Z){var re="0x"+B.slice(1)-65536;return Z||(re<0?String.fromCharCode(re+65536):String.fromCharCode(re>>10|55296,1023&re|56320))},ea=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ja=function(B,Z){return Z?"\0"===B?"\ufffd":B.slice(0,-1)+"\\"+B.charCodeAt(B.length-1).toString(16)+" ":"\\"+B},Xa=function(){ge()},dl=cc(function(B){return!0===B.disabled&&"fieldset"===B.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{ys.apply(Hr=qe.call(Vt.childNodes),Vt.childNodes)}catch(B){ys={apply:Hr.length?function(Z,re){gi.apply(Z,qe.call(re))}:function(Z,re){for(var Ue=Z.length,se=0;Z[Ue++]=re[se++];);Z.length=Ue-1}}}function jn(B,Z,re,Ue){var se,je,We,ot,ut,Ht,Ut,Zt=Z&&Z.ownerDocument,At=Z?Z.nodeType:9;if(re=re||[],"string"!=typeof B||!B||1!==At&&9!==At&&11!==At)return re;if(!Ue&&(ge(Z),Z=Z||ke,Mt)){if(11!==At&&(ut=Qa.exec(B)))if(se=ut[1]){if(9===At){if(!(We=Z.getElementById(se)))return re;if(We.id===se)return re.push(We),re}else if(Zt&&(We=Zt.getElementById(se))&&zn(Z,We)&&We.id===se)return re.push(We),re}else{if(ut[2])return ys.apply(re,Z.getElementsByTagName(B)),re;if((se=ut[3])&&C.getElementsByClassName&&Z.getElementsByClassName)return ys.apply(re,Z.getElementsByClassName(se)),re}if(C.qsa&&!Qr[B+" "]&&(!pt||!pt.test(B))&&(1!==At||"object"!==Z.nodeName.toLowerCase())){if(Ut=B,Zt=Z,1===At&&(Ka.test(B)||Wa.test(B))){for(((Zt=Xo.test(B)&&vs(Z.parentNode)||Z)!==Z||!C.scope)&&((ot=Z.getAttribute("id"))?ot=ot.replace(ea,Ja):Z.setAttribute("id",ot=Dn)),je=(Ht=V(B)).length;je--;)Ht[je]=(ot?"#"+ot:":scope")+" "+nu(Ht[je]);Ut=Ht.join(",")}try{return ys.apply(re,Zt.querySelectorAll(Ut)),re}catch(Kt){Qr(B,!0)}finally{ot===Dn&&Z.removeAttribute("id")}}}return G(B.replace(Jo,"$1"),Z,re,Ue)}function _s(){var B=[];return function Z(re,Ue){return B.push(re+" ")>A.cacheLength&&delete Z[B.shift()],Z[re+" "]=Ue}}function Ui(B){return B[Dn]=!0,B}function $r(B){var Z=ke.createElement("fieldset");try{return!!B(Z)}catch(re){return!1}finally{Z.parentNode&&Z.parentNode.removeChild(Z),Z=null}}function eu(B,Z){for(var re=B.split("|"),Ue=re.length;Ue--;)A.attrHandle[re[Ue]]=Z}function Au(B,Z){var re=Z&&B,Ue=re&&1===B.nodeType&&1===Z.nodeType&&B.sourceIndex-Z.sourceIndex;if(Ue)return Ue;if(re)for(;re=re.nextSibling;)if(re===Z)return-1;return B?1:-1}function Ao(B){return function(Z){return"input"===Z.nodeName.toLowerCase()&&Z.type===B}}function ro(B){return function(Z){var re=Z.nodeName.toLowerCase();return("input"===re||"button"===re)&&Z.type===B}}function tu(B){return function(Z){return"form"in Z?Z.parentNode&&!1===Z.disabled?"label"in Z?"label"in Z.parentNode?Z.parentNode.disabled===B:Z.disabled===B:Z.isDisabled===B||Z.isDisabled!==!B&&dl(Z)===B:Z.disabled===B:"label"in Z&&Z.disabled===B}}function cr(B){return Ui(function(Z){return Z=+Z,Ui(function(re,Ue){for(var se,je=B([],re.length,Z),We=je.length;We--;)re[se=je[We]]&&(re[se]=!(Ue[se]=re[se]))})})}function vs(B){return B&&void 0!==B.getElementsByTagName&&B}for(w in C=jn.support={},P=jn.isXML=function(B){var re=B&&(B.ownerDocument||B).documentElement;return!Ya.test(B&&B.namespaceURI||re&&re.nodeName||"HTML")},ge=jn.setDocument=function(B){var Z,re,Ue=B?B.ownerDocument||B:Vt;return Ue==ke||9!==Ue.nodeType||!Ue.documentElement||(Et=(ke=Ue).documentElement,Mt=!P(ke),Vt!=ke&&(re=ke.defaultView)&&re.top!==re&&(re.addEventListener?re.addEventListener("unload",Xa,!1):re.attachEvent&&re.attachEvent("onunload",Xa)),C.scope=$r(function(se){return Et.appendChild(se).appendChild(ke.createElement("div")),void 0!==se.querySelectorAll&&!se.querySelectorAll(":scope fieldset div").length}),C.attributes=$r(function(se){return se.className="i",!se.getAttribute("className")}),C.getElementsByTagName=$r(function(se){return se.appendChild(ke.createComment("")),!se.getElementsByTagName("*").length}),C.getElementsByClassName=To.test(ke.getElementsByClassName),C.getById=$r(function(se){return Et.appendChild(se).id=Dn,!ke.getElementsByName||!ke.getElementsByName(Dn).length}),C.getById?(A.filter.ID=function(se){var je=se.replace(Xi,Ti);return function(We){return We.getAttribute("id")===je}},A.find.ID=function(se,je){if(void 0!==je.getElementById&&Mt){var We=je.getElementById(se);return We?[We]:[]}}):(A.filter.ID=function(se){var je=se.replace(Xi,Ti);return function(We){var ot=void 0!==We.getAttributeNode&&We.getAttributeNode("id");return ot&&ot.value===je}},A.find.ID=function(se,je){if(void 0!==je.getElementById&&Mt){var We,ot,ut,Ht=je.getElementById(se);if(Ht){if((We=Ht.getAttributeNode("id"))&&We.value===se)return[Ht];for(ut=je.getElementsByName(se),ot=0;Ht=ut[ot++];)if((We=Ht.getAttributeNode("id"))&&We.value===se)return[Ht]}return[]}}),A.find.TAG=C.getElementsByTagName?function(se,je){return void 0!==je.getElementsByTagName?je.getElementsByTagName(se):C.qsa?je.querySelectorAll(se):void 0}:function(se,je){var We,ot=[],ut=0,Ht=je.getElementsByTagName(se);if("*"===se){for(;We=Ht[ut++];)1===We.nodeType&&ot.push(We);return ot}return Ht},A.find.CLASS=C.getElementsByClassName&&function(se,je){if(void 0!==je.getElementsByClassName&&Mt)return je.getElementsByClassName(se)},rr=[],pt=[],(C.qsa=To.test(ke.querySelectorAll))&&($r(function(se){var je;Et.appendChild(se).innerHTML="<a id='"+Dn+"'></a><select id='"+Dn+"-\r\\' msallowcapture=''><option selected=''></option></select>",se.querySelectorAll("[msallowcapture^='']").length&&pt.push("[*^$]="+jt+"*(?:''|\"\")"),se.querySelectorAll("[selected]").length||pt.push("\\["+jt+"*(?:value|"+ya+")"),se.querySelectorAll("[id~="+Dn+"-]").length||pt.push("~="),(je=ke.createElement("input")).setAttribute("name",""),se.appendChild(je),se.querySelectorAll("[name='']").length||pt.push("\\["+jt+"*name"+jt+"*="+jt+"*(?:''|\"\")"),se.querySelectorAll(":checked").length||pt.push(":checked"),se.querySelectorAll("a#"+Dn+"+*").length||pt.push(".#.+[+~]"),se.querySelectorAll("\\\f"),pt.push("[\\r\\n\\f]")}),$r(function(se){se.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var je=ke.createElement("input");je.setAttribute("type","hidden"),se.appendChild(je).setAttribute("name","D"),se.querySelectorAll("[name=d]").length&&pt.push("name"+jt+"*[*^$|!~]?="),2!==se.querySelectorAll(":enabled").length&&pt.push(":enabled",":disabled"),Et.appendChild(se).disabled=!0,2!==se.querySelectorAll(":disabled").length&&pt.push(":enabled",":disabled"),se.querySelectorAll("*,:x"),pt.push(",.*:")})),(C.matchesSelector=To.test(Pn=Et.matches||Et.webkitMatchesSelector||Et.mozMatchesSelector||Et.oMatchesSelector||Et.msMatchesSelector))&&$r(function(se){C.disconnectedMatch=Pn.call(se,"*"),Pn.call(se,"[s!='']:x"),rr.push("!=",oi)}),pt=pt.length&&new RegExp(pt.join("|")),rr=rr.length&&new RegExp(rr.join("|")),Z=To.test(Et.compareDocumentPosition),zn=Z||To.test(Et.contains)?function(se,je){var We=9===se.nodeType?se.documentElement:se,ot=je&&je.parentNode;return se===ot||!(!ot||1!==ot.nodeType||!(We.contains?We.contains(ot):se.compareDocumentPosition&&16&se.compareDocumentPosition(ot)))}:function(se,je){if(je)for(;je=je.parentNode;)if(je===se)return!0;return!1},Yi=Z?function(se,je){if(se===je)return Pe=!0,0;var We=!se.compareDocumentPosition-!je.compareDocumentPosition;return We||(1&(We=(se.ownerDocument||se)==(je.ownerDocument||je)?se.compareDocumentPosition(je):1)||!C.sortDetached&&je.compareDocumentPosition(se)===We?se==ke||se.ownerDocument==Vt&&zn(Vt,se)?-1:je==ke||je.ownerDocument==Vt&&zn(Vt,je)?1:we?en(we,se)-en(we,je):0:4&We?-1:1)}:function(se,je){if(se===je)return Pe=!0,0;var We,ot=0,ut=se.parentNode,Ht=je.parentNode,Ut=[se],Zt=[je];if(!ut||!Ht)return se==ke?-1:je==ke?1:ut?-1:Ht?1:we?en(we,se)-en(we,je):0;if(ut===Ht)return Au(se,je);for(We=se;We=We.parentNode;)Ut.unshift(We);for(We=je;We=We.parentNode;)Zt.unshift(We);for(;Ut[ot]===Zt[ot];)ot++;return ot?Au(Ut[ot],Zt[ot]):Ut[ot]==Vt?-1:Zt[ot]==Vt?1:0}),ke},jn.matches=function(B,Z){return jn(B,null,null,Z)},jn.matchesSelector=function(B,Z){if(ge(B),C.matchesSelector&&Mt&&!Qr[Z+" "]&&(!rr||!rr.test(Z))&&(!pt||!pt.test(Z)))try{var re=Pn.call(B,Z);if(re||C.disconnectedMatch||B.document&&11!==B.document.nodeType)return re}catch(Ue){Qr(Z,!0)}return jn(Z,ke,null,[B]).length>0},jn.contains=function(B,Z){return(B.ownerDocument||B)!=ke&&ge(B),zn(B,Z)},jn.attr=function(B,Z){(B.ownerDocument||B)!=ke&&ge(B);var re=A.attrHandle[Z.toLowerCase()],Ue=re&&ms.call(A.attrHandle,Z.toLowerCase())?re(B,Z,!Mt):void 0;return void 0!==Ue?Ue:C.attributes||!Mt?B.getAttribute(Z):(Ue=B.getAttributeNode(Z))&&Ue.specified?Ue.value:null},jn.escape=function(B){return(B+"").replace(ea,Ja)},jn.error=function(B){throw new Error("Syntax error, unrecognized expression: "+B)},jn.uniqueSort=function(B){var Z,re=[],Ue=0,se=0;if(Pe=!C.detectDuplicates,we=!C.sortStable&&B.slice(0),B.sort(Yi),Pe){for(;Z=B[se++];)Z===B[se]&&(Ue=re.push(se));for(;Ue--;)B.splice(re[Ue],1)}return we=null,B},k=jn.getText=function(B){var Z,re="",Ue=0,se=B.nodeType;if(se){if(1===se||9===se||11===se){if("string"==typeof B.textContent)return B.textContent;for(B=B.firstChild;B;B=B.nextSibling)re+=k(B)}else if(3===se||4===se)return B.nodeValue}else for(;Z=B[Ue++];)re+=k(Z);return re},(A=jn.selectors={cacheLength:50,createPseudo:Ui,match:ai,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(B){return B[1]=B[1].replace(Xi,Ti),B[3]=(B[3]||B[4]||B[5]||"").replace(Xi,Ti),"~="===B[2]&&(B[3]=" "+B[3]+" "),B.slice(0,4)},CHILD:function(B){return B[1]=B[1].toLowerCase(),"nth"===B[1].slice(0,3)?(B[3]||jn.error(B[0]),B[4]=+(B[4]?B[5]+(B[6]||1):2*("even"===B[3]||"odd"===B[3])),B[5]=+(B[7]+B[8]||"odd"===B[3])):B[3]&&jn.error(B[0]),B},PSEUDO:function(B){var Z,re=!B[6]&&B[2];return ai.CHILD.test(B[0])?null:(B[3]?B[2]=B[4]||B[5]||"":re&&to.test(re)&&(Z=V(re,!0))&&(Z=re.indexOf(")",re.length-Z)-re.length)&&(B[0]=B[0].slice(0,Z),B[2]=re.slice(0,Z)),B.slice(0,3))}},filter:{TAG:function(B){var Z=B.replace(Xi,Ti).toLowerCase();return"*"===B?function(){return!0}:function(re){return re.nodeName&&re.nodeName.toLowerCase()===Z}},CLASS:function(B){var Z=On[B+" "];return Z||(Z=new RegExp("(^|"+jt+")"+B+"("+jt+"|$)"))&&On(B,function(re){return Z.test("string"==typeof re.className&&re.className||void 0!==re.getAttribute&&re.getAttribute("class")||"")})},ATTR:function(B,Z,re){return function(Ue){var se=jn.attr(Ue,B);return null==se?"!="===Z:!Z||(se+="","="===Z?se===re:"!="===Z?se!==re:"^="===Z?re&&0===se.indexOf(re):"*="===Z?re&&se.indexOf(re)>-1:"$="===Z?re&&se.slice(-re.length)===re:"~="===Z?(" "+se.replace(Tu," ")+" ").indexOf(re)>-1:"|="===Z&&(se===re||se.slice(0,re.length+1)===re+"-"))}},CHILD:function(B,Z,re,Ue,se){var je="nth"!==B.slice(0,3),We="last"!==B.slice(-4),ot="of-type"===Z;return 1===Ue&&0===se?function(ut){return!!ut.parentNode}:function(ut,Ht,Ut){var Zt,At,Kt,Je,An,qn,Jn=je!==We?"nextSibling":"previousSibling",Hn=ut.parentNode,ta=ot&&ut.nodeName.toLowerCase(),Fn=!Ut&&!ot,Ai=!1;if(Hn){if(je){for(;Jn;){for(Je=ut;Je=Je[Jn];)if(ot?Je.nodeName.toLowerCase()===ta:1===Je.nodeType)return!1;qn=Jn="only"===B&&!qn&&"nextSibling"}return!0}if(qn=[We?Hn.firstChild:Hn.lastChild],We&&Fn){for(Ai=(An=(Zt=(At=(Kt=(Je=Hn)[Dn]||(Je[Dn]={}))[Je.uniqueID]||(Kt[Je.uniqueID]={}))[B]||[])[0]===jr&&Zt[1])&&Zt[2],Je=An&&Hn.childNodes[An];Je=++An&&Je&&Je[Jn]||(Ai=An=0)||qn.pop();)if(1===Je.nodeType&&++Ai&&Je===ut){At[B]=[jr,An,Ai];break}}else if(Fn&&(Ai=An=(Zt=(At=(Kt=(Je=ut)[Dn]||(Je[Dn]={}))[Je.uniqueID]||(Kt[Je.uniqueID]={}))[B]||[])[0]===jr&&Zt[1]),!1===Ai)for(;(Je=++An&&Je&&Je[Jn]||(Ai=An=0)||qn.pop())&&((ot?Je.nodeName.toLowerCase()!==ta:1!==Je.nodeType)||!++Ai||(Fn&&((At=(Kt=Je[Dn]||(Je[Dn]={}))[Je.uniqueID]||(Kt[Je.uniqueID]={}))[B]=[jr,Ai]),Je!==ut)););return(Ai-=se)===Ue||Ai%Ue==0&&Ai/Ue>=0}}},PSEUDO:function(B,Z){var re,Ue=A.pseudos[B]||A.setFilters[B.toLowerCase()]||jn.error("unsupported pseudo: "+B);return Ue[Dn]?Ue(Z):Ue.length>1?(re=[B,B,"",Z],A.setFilters.hasOwnProperty(B.toLowerCase())?Ui(function(se,je){for(var We,ot=Ue(se,Z),ut=ot.length;ut--;)se[We=en(se,ot[ut])]=!(je[We]=ot[ut])}):function(se){return Ue(se,0,re)}):Ue}},pseudos:{not:Ui(function(B){var Z=[],re=[],Ue=K(B.replace(Jo,"$1"));return Ue[Dn]?Ui(function(se,je,We,ot){for(var ut,Ht=Ue(se,null,ot,[]),Ut=se.length;Ut--;)(ut=Ht[Ut])&&(se[Ut]=!(je[Ut]=ut))}):function(se,je,We){return Z[0]=se,Ue(Z,null,We,re),Z[0]=null,!re.pop()}}),has:Ui(function(B){return function(Z){return jn(B,Z).length>0}}),contains:Ui(function(B){return B=B.replace(Xi,Ti),function(Z){return(Z.textContent||k(Z)).indexOf(B)>-1}}),lang:Ui(function(B){return Jr.test(B||"")||jn.error("unsupported lang: "+B),B=B.replace(Xi,Ti).toLowerCase(),function(Z){var re;do{if(re=Mt?Z.lang:Z.getAttribute("xml:lang")||Z.getAttribute("lang"))return(re=re.toLowerCase())===B||0===re.indexOf(B+"-")}while((Z=Z.parentNode)&&1===Z.nodeType);return!1}}),target:function(B){var Z=p.location&&p.location.hash;return Z&&Z.slice(1)===B.id},root:function(B){return B===Et},focus:function(B){return B===ke.activeElement&&(!ke.hasFocus||ke.hasFocus())&&!!(B.type||B.href||~B.tabIndex)},enabled:tu(!1),disabled:tu(!0),checked:function(B){var Z=B.nodeName.toLowerCase();return"input"===Z&&!!B.checked||"option"===Z&&!!B.selected},selected:function(B){return!0===B.selected},empty:function(B){for(B=B.firstChild;B;B=B.nextSibling)if(B.nodeType<6)return!1;return!0},parent:function(B){return!A.pseudos.empty(B)},header:function(B){return Ji.test(B.nodeName)},input:function(B){return no.test(B.nodeName)},button:function(B){var Z=B.nodeName.toLowerCase();return"input"===Z&&"button"===B.type||"button"===Z},text:function(B){var Z;return"input"===B.nodeName.toLowerCase()&&"text"===B.type&&(null==(Z=B.getAttribute("type"))||"text"===Z.toLowerCase())},first:cr(function(){return[0]}),last:cr(function(B,Z){return[Z-1]}),eq:cr(function(B,Z,re){return[re<0?re+Z:re]}),even:cr(function(B,Z){for(var re=0;re<Z;re+=2)B.push(re);return B}),odd:cr(function(B,Z){for(var re=1;re<Z;re+=2)B.push(re);return B}),lt:cr(function(B,Z,re){for(var Ue=re<0?re+Z:re>Z?Z:re;--Ue>=0;)B.push(Ue);return B}),gt:cr(function(B,Z,re){for(var Ue=re<0?re+Z:re;++Ue<Z;)B.push(Ue);return B})}}).pseudos.nth=A.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[w]=Ao(w);for(w in{submit:!0,reset:!0})A.pseudos[w]=ro(w);function or(){}function nu(B){for(var Z=0,re=B.length,Ue="";Z<re;Z++)Ue+=B[Z].value;return Ue}function cc(B,Z,re){var Ue=Z.dir,se=Z.next,je=se||Ue,We=re&&"parentNode"===je,ot=Xt++;return Z.first?function(ut,Ht,Ut){for(;ut=ut[Ue];)if(1===ut.nodeType||We)return B(ut,Ht,Ut);return!1}:function(ut,Ht,Ut){var Zt,At,Kt,Je=[jr,ot];if(Ut){for(;ut=ut[Ue];)if((1===ut.nodeType||We)&&B(ut,Ht,Ut))return!0}else for(;ut=ut[Ue];)if(1===ut.nodeType||We)if(At=(Kt=ut[Dn]||(ut[Dn]={}))[ut.uniqueID]||(Kt[ut.uniqueID]={}),se&&se===ut.nodeName.toLowerCase())ut=ut[Ue]||ut;else{if((Zt=At[je])&&Zt[0]===jr&&Zt[1]===ot)return Je[2]=Zt[2];if(At[je]=Je,Je[2]=B(ut,Ht,Ut))return!0}return!1}}function pd(B){return B.length>1?function(Z,re,Ue){for(var se=B.length;se--;)if(!B[se](Z,re,Ue))return!1;return!0}:B[0]}function hl(B,Z,re,Ue,se){for(var je,We=[],ot=0,ut=B.length,Ht=null!=Z;ot<ut;ot++)(je=B[ot])&&(!re||re(je,Ue,se))&&(We.push(je),Ht&&Z.push(ot));return We}function _a(B,Z,re,Ue,se,je){return Ue&&!Ue[Dn]&&(Ue=_a(Ue)),se&&!se[Dn]&&(se=_a(se,je)),Ui(function(We,ot,ut,Ht){var Ut,Zt,At,Kt=[],Je=[],An=ot.length,qn=We||function Su(B,Z,re){for(var Ue=0,se=Z.length;Ue<se;Ue++)jn(B,Z[Ue],re);return re}(Z||"*",ut.nodeType?[ut]:ut,[]),Jn=!B||!We&&Z?qn:hl(qn,Kt,B,ut,Ht),Hn=re?se||(We?B:An||Ue)?[]:ot:Jn;if(re&&re(Jn,Hn,ut,Ht),Ue)for(Ut=hl(Hn,Je),Ue(Ut,[],ut,Ht),Zt=Ut.length;Zt--;)(At=Ut[Zt])&&(Hn[Je[Zt]]=!(Jn[Je[Zt]]=At));if(We){if(se||B){if(se){for(Ut=[],Zt=Hn.length;Zt--;)(At=Hn[Zt])&&Ut.push(Jn[Zt]=At);se(null,Hn=[],Ut,Ht)}for(Zt=Hn.length;Zt--;)(At=Hn[Zt])&&(Ut=se?en(We,At):Kt[Zt])>-1&&(We[Ut]=!(ot[Ut]=At))}}else Hn=hl(Hn===ot?Hn.splice(An,Hn.length):Hn),se?se(null,ot,Hn,Ht):ys.apply(ot,Hn)})}function es(B){for(var Z,re,Ue,se=B.length,je=A.relative[B[0].type],We=je||A.relative[" "],ot=je?1:0,ut=cc(function(Zt){return Zt===Z},We,!0),Ht=cc(function(Zt){return en(Z,Zt)>-1},We,!0),Ut=[function(Zt,At,Kt){var Je=!je&&(Kt||At!==oe)||((Z=At).nodeType?ut(Zt,At,Kt):Ht(Zt,At,Kt));return Z=null,Je}];ot<se;ot++)if(re=A.relative[B[ot].type])Ut=[cc(pd(Ut),re)];else{if((re=A.filter[B[ot].type].apply(null,B[ot].matches))[Dn]){for(Ue=++ot;Ue<se&&!A.relative[B[Ue].type];Ue++);return _a(ot>1&&pd(Ut),ot>1&&nu(B.slice(0,ot-1).concat({value:" "===B[ot-2].type?"*":""})).replace(Jo,"$1"),re,ot<Ue&&es(B.slice(ot,Ue)),Ue<se&&es(B=B.slice(Ue)),Ue<se&&nu(B))}Ut.push(re)}return pd(Ut)}return or.prototype=A.filters=A.pseudos,A.setFilters=new or,V=jn.tokenize=function(B,Z){var re,Ue,se,je,We,ot,ut,Ht=Li[B+" "];if(Ht)return Z?0:Ht.slice(0);for(We=B,ot=[],ut=A.preFilter;We;){for(je in(!re||(Ue=cl.exec(We)))&&(Ue&&(We=We.slice(Ue[0].length)||We),ot.push(se=[])),re=!1,(Ue=Wa.exec(We))&&(re=Ue.shift(),se.push({value:re,type:Ue[0].replace(Jo," ")}),We=We.slice(re.length)),A.filter)(Ue=ai[je].exec(We))&&(!ut[je]||(Ue=ut[je](Ue)))&&(re=Ue.shift(),se.push({value:re,type:je,matches:Ue}),We=We.slice(re.length));if(!re)break}return Z?We.length:We?jn.error(B):Li(B,ot).slice(0)},K=jn.compile=function(B,Z){var re,Ue=[],se=[],je=kt[B+" "];if(!je){for(Z||(Z=V(B)),re=Z.length;re--;)(je=es(Z[re]))[Dn]?Ue.push(je):se.push(je);je=kt(B,function va(B,Z){var re=Z.length>0,Ue=B.length>0,se=function(je,We,ot,ut,Ht){var Ut,Zt,At,Kt=0,Je="0",An=je&&[],qn=[],Jn=oe,Hn=je||Ue&&A.find.TAG("*",Ht),ta=jr+=null==Jn?1:Math.random()||.1,Fn=Hn.length;for(Ht&&(oe=We==ke||We||Ht);Je!==Fn&&null!=(Ut=Hn[Je]);Je++){if(Ue&&Ut){for(Zt=0,!We&&Ut.ownerDocument!=ke&&(ge(Ut),ot=!Mt);At=B[Zt++];)if(At(Ut,We||ke,ot)){ut.push(Ut);break}Ht&&(jr=ta)}re&&((Ut=!At&&Ut)&&Kt--,je&&An.push(Ut))}if(Kt+=Je,re&&Je!==Kt){for(Zt=0;At=Z[Zt++];)At(An,qn,We,ot);if(je){if(Kt>0)for(;Je--;)An[Je]||qn[Je]||(qn[Je]=Qi.call(ut));qn=hl(qn)}ys.apply(ut,qn),Ht&&!je&&qn.length>0&&Kt+Z.length>1&&jn.uniqueSort(ut)}return Ht&&(jr=ta,oe=Jn),An};return re?Ui(se):se}(se,Ue)),je.selector=B}return je},G=jn.select=function(B,Z,re,Ue){var se,je,We,ot,ut,Ht="function"==typeof B&&B,Ut=!Ue&&V(B=Ht.selector||B);if(re=re||[],1===Ut.length){if((je=Ut[0]=Ut[0].slice(0)).length>2&&"ID"===(We=je[0]).type&&9===Z.nodeType&&Mt&&A.relative[je[1].type]){if(!(Z=(A.find.ID(We.matches[0].replace(Xi,Ti),Z)||[])[0]))return re;Ht&&(Z=Z.parentNode),B=B.slice(je.shift().value.length)}for(se=ai.needsContext.test(B)?0:je.length;se--&&!A.relative[ot=(We=je[se]).type];)if((ut=A.find[ot])&&(Ue=ut(We.matches[0].replace(Xi,Ti),Xo.test(je[0].type)&&vs(Z.parentNode)||Z))){if(je.splice(se,1),!(B=Ue.length&&nu(je)))return ys.apply(re,Ue),re;break}}return(Ht||K(B,Ut))(Ue,Z,!Mt,re,!Z||Xo.test(B)&&vs(Z.parentNode)||Z),re},C.sortStable=Dn.split("").sort(Yi).join("")===Dn,C.detectDuplicates=!!Pe,ge(),C.sortDetached=$r(function(B){return 1&B.compareDocumentPosition(ke.createElement("fieldset"))}),$r(function(B){return B.innerHTML="<a href='#'></a>","#"===B.firstChild.getAttribute("href")})||eu("type|href|height|width",function(B,Z,re){if(!re)return B.getAttribute(Z,"type"===Z.toLowerCase()?1:2)}),(!C.attributes||!$r(function(B){return B.innerHTML="<input/>",B.firstChild.setAttribute("value",""),""===B.firstChild.getAttribute("value")}))&&eu("value",function(B,Z,re){if(!re&&"input"===B.nodeName.toLowerCase())return B.defaultValue}),$r(function(B){return null==B.getAttribute("disabled")})||eu(ya,function(B,Z,re){var Ue;if(!re)return!0===B[Z]?Z.toLowerCase():(Ue=B.getAttributeNode(Z))&&Ue.specified?Ue.value:null}),jn}(te);D.find=at,D.expr=at.selectors,D.expr[":"]=D.expr.pseudos,D.uniqueSort=D.unique=at.uniqueSort,D.text=at.getText,D.isXMLDoc=at.isXML,D.contains=at.contains,D.escapeSelector=at.escape;var pe=function(p,w,C){for(var A=[],k=void 0!==C;(p=p[w])&&9!==p.nodeType;)if(1===p.nodeType){if(k&&D(p).is(C))break;A.push(p)}return A},ue=function(p,w){for(var C=[];p;p=p.nextSibling)1===p.nodeType&&p!==w&&C.push(p);return C},be=D.expr.match.needsContext;function Ce(p,w){return p.nodeName&&p.nodeName.toLowerCase()===w.toLowerCase()}var Ee=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function tt(p,w,C){return Le(w)?D.grep(p,function(A,k){return!!w.call(A,k,A)!==C}):w.nodeType?D.grep(p,function(A){return A===w!==C}):"string"!=typeof w?D.grep(p,function(A){return Te.call(w,A)>-1!==C}):D.filter(w,p,C)}D.filter=function(p,w,C){var A=w[0];return C&&(p=":not("+p+")"),1===w.length&&1===A.nodeType?D.find.matchesSelector(A,p)?[A]:[]:D.find.matches(p,D.grep(w,function(k){return 1===k.nodeType}))},D.fn.extend({find:function(p){var w,C,A=this.length,k=this;if("string"!=typeof p)return this.pushStack(D(p).filter(function(){for(w=0;w<A;w++)if(D.contains(k[w],this))return!0}));for(C=this.pushStack([]),w=0;w<A;w++)D.find(p,k[w],C);return A>1?D.uniqueSort(C):C},filter:function(p){return this.pushStack(tt(this,p||[],!1))},not:function(p){return this.pushStack(tt(this,p||[],!0))},is:function(p){return!!tt(this,"string"==typeof p&&be.test(p)?D(p):p||[],!1).length}});var De,Jt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Nn=D.fn.init=function(p,w,C){var A,k;if(!p)return this;if(C=C||De,"string"==typeof p){if(!(A="<"===p[0]&&">"===p[p.length-1]&&p.length>=3?[null,p,null]:Jt.exec(p))||!A[1]&&w)return!w||w.jquery?(w||C).find(p):this.constructor(w).find(p);if(A[1]){if(D.merge(this,D.parseHTML(A[1],(w=w instanceof D?w[0]:w)&&w.nodeType?w.ownerDocument||w:_e,!0)),Ee.test(A[1])&&D.isPlainObject(w))for(A in w)Le(this[A])?this[A](w[A]):this.attr(A,w[A]);return this}return(k=_e.getElementById(A[2]))&&(this[0]=k,this.length=1),this}return p.nodeType?(this[0]=p,this.length=1,this):Le(p)?void 0!==C.ready?C.ready(p):p(D):D.makeArray(p,this)};Nn.prototype=D.fn,De=D(_e);var hr=/^(?:parents|prev(?:Until|All))/,Nt={children:!0,contents:!0,next:!0,prev:!0};function $t(p,w){for(;(p=p[w])&&1!==p.nodeType;);return p}D.fn.extend({has:function(p){var w=D(p,this),C=w.length;return this.filter(function(){for(var A=0;A<C;A++)if(D.contains(this,w[A]))return!0})},closest:function(p,w){var C,A=0,k=this.length,P=[],V="string"!=typeof p&&D(p);if(!be.test(p))for(;A<k;A++)for(C=this[A];C&&C!==w;C=C.parentNode)if(C.nodeType<11&&(V?V.index(C)>-1:1===C.nodeType&&D.find.matchesSelector(C,p))){P.push(C);break}return this.pushStack(P.length>1?D.uniqueSort(P):P)},index:function(p){return p?"string"==typeof p?Te.call(D(p),this[0]):Te.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(p,w){return this.pushStack(D.uniqueSort(D.merge(this.get(),D(p,w))))},addBack:function(p){return this.add(null==p?this.prevObject:this.prevObject.filter(p))}}),D.each({parent:function(p){var w=p.parentNode;return w&&11!==w.nodeType?w:null},parents:function(p){return pe(p,"parentNode")},parentsUntil:function(p,w,C){return pe(p,"parentNode",C)},next:function(p){return $t(p,"nextSibling")},prev:function(p){return $t(p,"previousSibling")},nextAll:function(p){return pe(p,"nextSibling")},prevAll:function(p){return pe(p,"previousSibling")},nextUntil:function(p,w,C){return pe(p,"nextSibling",C)},prevUntil:function(p,w,C){return pe(p,"previousSibling",C)},siblings:function(p){return ue((p.parentNode||{}).firstChild,p)},children:function(p){return ue(p.firstChild)},contents:function(p){return null!=p.contentDocument&&fe(p.contentDocument)?p.contentDocument:(Ce(p,"template")&&(p=p.content||p),D.merge([],p.childNodes))}},function(p,w){D.fn[p]=function(C,A){var k=D.map(this,w,C);return"Until"!==p.slice(-5)&&(A=C),A&&"string"==typeof A&&(k=D.filter(A,k)),this.length>1&&(Nt[p]||D.uniqueSort(k),hr.test(p)&&k.reverse()),this.pushStack(k)}});var bn=/[^\x20\t\r\n\f]+/g;function Wr(p){return p}function Mn(p){throw p}function cs(p,w,C,A){var k;try{p&&Le(k=p.promise)?k.call(p).done(w).fail(C):p&&Le(k=p.then)?k.call(p,w,C):w.apply(void 0,[p].slice(A))}catch(P){C.apply(void 0,[P])}}D.Callbacks=function(p){p="string"==typeof p?function Gn(p){var w={};return D.each(p.match(bn)||[],function(C,A){w[A]=!0}),w}(p):D.extend({},p);var w,C,A,k,P=[],V=[],K=-1,G=function(){for(k=k||p.once,A=w=!0;V.length;K=-1)for(C=V.shift();++K<P.length;)!1===P[K].apply(C[0],C[1])&&p.stopOnFalse&&(K=P.length,C=!1);p.memory||(C=!1),w=!1,k&&(P=C?[]:"")},oe={add:function(){return P&&(C&&!w&&(K=P.length-1,V.push(C)),function we(Pe){D.each(Pe,function(ge,ke){Le(ke)?(!p.unique||!oe.has(ke))&&P.push(ke):ke&&ke.length&&"string"!==$e(ke)&&we(ke)})}(arguments),C&&!w&&G()),this},remove:function(){return D.each(arguments,function(we,Pe){for(var ge;(ge=D.inArray(Pe,P,ge))>-1;)P.splice(ge,1),ge<=K&&K--}),this},has:function(we){return we?D.inArray(we,P)>-1:P.length>0},empty:function(){return P&&(P=[]),this},disable:function(){return k=V=[],P=C="",this},disabled:function(){return!P},lock:function(){return k=V=[],!C&&!w&&(P=C=""),this},locked:function(){return!!k},fireWith:function(we,Pe){return k||(Pe=[we,(Pe=Pe||[]).slice?Pe.slice():Pe],V.push(Pe),w||G()),this},fire:function(){return oe.fireWith(this,arguments),this},fired:function(){return!!A}};return oe},D.extend({Deferred:function(p){var w=[["notify","progress",D.Callbacks("memory"),D.Callbacks("memory"),2],["resolve","done",D.Callbacks("once memory"),D.Callbacks("once memory"),0,"resolved"],["reject","fail",D.Callbacks("once memory"),D.Callbacks("once memory"),1,"rejected"]],C="pending",A={state:function(){return C},always:function(){return k.done(arguments).fail(arguments),this},catch:function(P){return A.then(null,P)},pipe:function(){var P=arguments;return D.Deferred(function(V){D.each(w,function(K,G){var oe=Le(P[G[4]])&&P[G[4]];k[G[1]](function(){var we=oe&&oe.apply(this,arguments);we&&Le(we.promise)?we.promise().progress(V.notify).done(V.resolve).fail(V.reject):V[G[0]+"With"](this,oe?[we]:arguments)})}),P=null}).promise()},then:function(P,V,K){var G=0;function oe(we,Pe,ge,ke){return function(){var Et=this,Mt=arguments,pt=function(){var Pn,zn;if(!(we<G)){if((Pn=ge.apply(Et,Mt))===Pe.promise())throw new TypeError("Thenable self-resolution");Le(zn=Pn&&("object"==typeof Pn||"function"==typeof Pn)&&Pn.then)?ke?zn.call(Pn,oe(G,Pe,Wr,ke),oe(G,Pe,Mn,ke)):(G++,zn.call(Pn,oe(G,Pe,Wr,ke),oe(G,Pe,Mn,ke),oe(G,Pe,Wr,Pe.notifyWith))):(ge!==Wr&&(Et=void 0,Mt=[Pn]),(ke||Pe.resolveWith)(Et,Mt))}},rr=ke?pt:function(){try{pt()}catch(Pn){D.Deferred.exceptionHook&&D.Deferred.exceptionHook(Pn,rr.stackTrace),we+1>=G&&(ge!==Mn&&(Et=void 0,Mt=[Pn]),Pe.rejectWith(Et,Mt))}};we?rr():(D.Deferred.getStackHook&&(rr.stackTrace=D.Deferred.getStackHook()),te.setTimeout(rr))}}return D.Deferred(function(we){w[0][3].add(oe(0,we,Le(K)?K:Wr,we.notifyWith)),w[1][3].add(oe(0,we,Le(P)?P:Wr)),w[2][3].add(oe(0,we,Le(V)?V:Mn))}).promise()},promise:function(P){return null!=P?D.extend(P,A):A}},k={};return D.each(w,function(P,V){var K=V[2],G=V[5];A[V[1]]=K.add,G&&K.add(function(){C=G},w[3-P][2].disable,w[3-P][3].disable,w[0][2].lock,w[0][3].lock),K.add(V[3].fire),k[V[0]]=function(){return k[V[0]+"With"](this===k?void 0:this,arguments),this},k[V[0]+"With"]=K.fireWith}),A.promise(k),p&&p.call(k,k),k},when:function(p){var w=arguments.length,C=w,A=Array(C),k=Me.call(arguments),P=D.Deferred(),V=function(K){return function(G){A[K]=this,k[K]=arguments.length>1?Me.call(arguments):G,--w||P.resolveWith(A,k)}};if(w<=1&&(cs(p,P.done(V(C)).resolve,P.reject,!w),"pending"===P.state()||Le(k[C]&&k[C].then)))return P.then();for(;C--;)cs(k[C],V(C),P.reject);return P.promise()}});var kn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;D.Deferred.exceptionHook=function(p,w){te.console&&te.console.warn&&p&&kn.test(p.name)&&te.console.warn("jQuery.Deferred exception: "+p.message,p.stack,w)},D.readyException=function(p){te.setTimeout(function(){throw p})};var En=D.Deferred();function wr(){_e.removeEventListener("DOMContentLoaded",wr),te.removeEventListener("load",wr),D.ready()}D.fn.ready=function(p){return En.then(p).catch(function(w){D.readyException(w)}),this},D.extend({isReady:!1,readyWait:1,ready:function(p){(!0===p?--D.readyWait:D.isReady)||(D.isReady=!0,!(!0!==p&&--D.readyWait>0)&&En.resolveWith(_e,[D]))}}),D.ready.then=En.then,"complete"===_e.readyState||"loading"!==_e.readyState&&!_e.documentElement.doScroll?te.setTimeout(D.ready):(_e.addEventListener("DOMContentLoaded",wr),te.addEventListener("load",wr));var fr=function(p,w,C,A,k,P,V){var K=0,G=p.length,oe=null==C;if("object"===$e(C))for(K in k=!0,C)fr(p,w,K,C[K],!0,P,V);else if(void 0!==A&&(k=!0,Le(A)||(V=!0),oe&&(V?(w.call(p,A),w=null):(oe=w,w=function(we,Pe,ge){return oe.call(D(we),ge)})),w))for(;K<G;K++)w(p[K],C,V?A:A.call(p[K],K,w(p[K],C)));return k?p:oe?w.call(p):G?w(p[0],C):P},Zs=/^-ms-/,pi=/-([a-z])/g;function ds(p,w){return w.toUpperCase()}function nr(p){return p.replace(Zs,"ms-").replace(pi,ds)}var wi=function(p){return 1===p.nodeType||9===p.nodeType||!+p.nodeType};function bi(){this.expando=D.expando+bi.uid++}bi.uid=1,bi.prototype={cache:function(p){var w=p[this.expando];return w||(w={},wi(p)&&(p.nodeType?p[this.expando]=w:Object.defineProperty(p,this.expando,{value:w,configurable:!0}))),w},set:function(p,w,C){var A,k=this.cache(p);if("string"==typeof w)k[nr(w)]=C;else for(A in w)k[nr(A)]=w[A];return k},get:function(p,w){return void 0===w?this.cache(p):p[this.expando]&&p[this.expando][nr(w)]},access:function(p,w,C){return void 0===w||w&&"string"==typeof w&&void 0===C?this.get(p,w):(this.set(p,w,C),void 0!==C?C:w)},remove:function(p,w){var C,A=p[this.expando];if(void 0!==A){if(void 0!==w)for((C=(w=Array.isArray(w)?w.map(nr):(w=nr(w))in A?[w]:w.match(bn)||[]).length);C--;)delete A[w[C]];(void 0===w||D.isEmptyObject(A))&&(p.nodeType?p[this.expando]=void 0:delete p[this.expando])}},hasData:function(p){var w=p[this.expando];return void 0!==w&&!D.isEmptyObject(w)}};var Qe=new bi,Kn=new bi,Lr=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nr=/[A-Z]/g;function Ws(p,w,C){var A;if(void 0===C&&1===p.nodeType)if(A="data-"+w.replace(Nr,"-$&").toLowerCase(),"string"==typeof(C=p.getAttribute(A))){try{C=function ki(p){return"true"===p||"false"!==p&&("null"===p?null:p===+p+""?+p:Lr.test(p)?JSON.parse(p):p)}(C)}catch(k){}Kn.set(p,w,C)}else C=void 0;return C}D.extend({hasData:function(p){return Kn.hasData(p)||Qe.hasData(p)},data:function(p,w,C){return Kn.access(p,w,C)},removeData:function(p,w){Kn.remove(p,w)},_data:function(p,w,C){return Qe.access(p,w,C)},_removeData:function(p,w){Qe.remove(p,w)}}),D.fn.extend({data:function(p,w){var C,A,k,P=this[0],V=P&&P.attributes;if(void 0===p){if(this.length&&(k=Kn.get(P),1===P.nodeType&&!Qe.get(P,"hasDataAttrs"))){for(C=V.length;C--;)V[C]&&0===(A=V[C].name).indexOf("data-")&&(A=nr(A.slice(5)),Ws(P,A,k[A]));Qe.set(P,"hasDataAttrs",!0)}return k}return"object"==typeof p?this.each(function(){Kn.set(this,p)}):fr(this,function(K){var G;if(P&&void 0===K)return void 0!==(G=Kn.get(P,p))||void 0!==(G=Ws(P,p))?G:void 0;this.each(function(){Kn.set(this,p,K)})},null,w,arguments.length>1,null,!0)},removeData:function(p){return this.each(function(){Kn.remove(this,p)})}}),D.extend({queue:function(p,w,C){var A;if(p)return A=Qe.get(p,w=(w||"fx")+"queue"),C&&(!A||Array.isArray(C)?A=Qe.access(p,w,D.makeArray(C)):A.push(C)),A||[]},dequeue:function(p,w){var C=D.queue(p,w=w||"fx"),A=C.length,k=C.shift(),P=D._queueHooks(p,w);"inprogress"===k&&(k=C.shift(),A--),k&&("fx"===w&&C.unshift("inprogress"),delete P.stop,k.call(p,function(){D.dequeue(p,w)},P)),!A&&P&&P.empty.fire()},_queueHooks:function(p,w){var C=w+"queueHooks";return Qe.get(p,C)||Qe.access(p,C,{empty:D.Callbacks("once memory").add(function(){Qe.remove(p,[w+"queue",C])})})}}),D.fn.extend({queue:function(p,w){var C=2;return"string"!=typeof p&&(w=p,p="fx",C--),arguments.length<C?D.queue(this[0],p):void 0===w?this:this.each(function(){var A=D.queue(this,p,w);D._queueHooks(this,p),"fx"===p&&"inprogress"!==A[0]&&D.dequeue(this,p)})},dequeue:function(p){return this.each(function(){D.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||"fx",[])},promise:function(p,w){var C,A=1,k=D.Deferred(),P=this,V=this.length,K=function(){--A||k.resolveWith(P,[P])};for("string"!=typeof p&&(w=p,p=void 0),p=p||"fx";V--;)(C=Qe.get(P[V],p+"queueHooks"))&&C.empty&&(A++,C.empty.add(K));return K(),k.promise(w)}});var Xn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ar=new RegExp("^(?:([+-])=|)("+Xn+")([a-z%]*)$","i"),Kr=["Top","Right","Bottom","Left"],Zi=_e.documentElement,gn=function(p){return D.contains(p.ownerDocument,p)},xt={composed:!0};Zi.getRootNode&&(gn=function(p){return D.contains(p.ownerDocument,p)||p.getRootNode(xt)===p.ownerDocument});var qt=function(p,w){return"none"===(p=w||p).style.display||""===p.style.display&&gn(p)&&"none"===D.css(p,"display")};function Vr(p,w,C,A){var k,P,V=20,K=A?function(){return A.cur()}:function(){return D.css(p,w,"")},G=K(),oe=C&&C[3]||(D.cssNumber[w]?"":"px"),we=p.nodeType&&(D.cssNumber[w]||"px"!==oe&&+G)&&ar.exec(D.css(p,w));if(we&&we[3]!==oe){for(oe=oe||we[3],we=+(G/=2)||1;V--;)D.style(p,w,we+oe),(1-P)*(1-(P=K()/G||.5))<=0&&(V=0),we/=P;D.style(p,w,(we*=2)+oe),C=C||[]}return C&&(we=+we||+G||0,k=C[1]?we+(C[1]+1)*C[2]:+C[2],A&&(A.unit=oe,A.start=we,A.end=k)),k}var Wi={};function Cn(p){var w,C=p.ownerDocument,A=p.nodeName,k=Wi[A];return k||(w=C.body.appendChild(C.createElement(A)),k=D.css(w,"display"),w.parentNode.removeChild(w),"none"===k&&(k="block"),Wi[A]=k,k)}function Pi(p,w){for(var C,A,k=[],P=0,V=p.length;P<V;P++)(A=p[P]).style&&(C=A.style.display,w?("none"===C&&(k[P]=Qe.get(A,"display")||null,k[P]||(A.style.display="")),""===A.style.display&&qt(A)&&(k[P]=Cn(A))):"none"!==C&&(k[P]="none",Qe.set(A,"display",C)));for(P=0;P<V;P++)null!=k[P]&&(p[P].style.display=k[P]);return p}D.fn.extend({show:function(){return Pi(this,!0)},hide:function(){return Pi(this)},toggle:function(p){return"boolean"==typeof p?p?this.show():this.hide():this.each(function(){qt(this)?D(this).show():D(this).hide()})}});var w,C,br=/^(?:checkbox|radio)$/i,Ur=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ft=/^$|^module$|\/(?:java|ecma)script/i;w=_e.createDocumentFragment().appendChild(_e.createElement("div")),(C=_e.createElement("input")).setAttribute("type","radio"),C.setAttribute("checked","checked"),C.setAttribute("name","t"),w.appendChild(C),He.checkClone=w.cloneNode(!0).cloneNode(!0).lastChild.checked,w.innerHTML="<textarea>x</textarea>",He.noCloneChecked=!!w.cloneNode(!0).lastChild.defaultValue,w.innerHTML="<option></option>",He.option=!!w.lastChild;var Yn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Gt(p,w){var C;return C=void 0!==p.getElementsByTagName?p.getElementsByTagName(w||"*"):void 0!==p.querySelectorAll?p.querySelectorAll(w||"*"):[],void 0===w||w&&Ce(p,w)?D.merge([p],C):C}function _t(p,w){for(var C=0,A=p.length;C<A;C++)Qe.set(p[C],"globalEval",!w||Qe.get(w[C],"globalEval"))}Yn.tbody=Yn.tfoot=Yn.colgroup=Yn.caption=Yn.thead,Yn.th=Yn.td,He.option||(Yn.optgroup=Yn.option=[1,"<select multiple='multiple'>","</select>"]);var Ge=/<|&#?\w+;/;function wt(p,w,C,A,k){for(var P,V,K,G,oe,we,Pe=w.createDocumentFragment(),ge=[],ke=0,Et=p.length;ke<Et;ke++)if((P=p[ke])||0===P)if("object"===$e(P))D.merge(ge,P.nodeType?[P]:P);else if(Ge.test(P)){for(V=V||Pe.appendChild(w.createElement("div")),K=(Ur.exec(P)||["",""])[1].toLowerCase(),V.innerHTML=(G=Yn[K]||Yn._default)[1]+D.htmlPrefilter(P)+G[2],we=G[0];we--;)V=V.lastChild;D.merge(ge,V.childNodes),(V=Pe.firstChild).textContent=""}else ge.push(w.createTextNode(P));for(Pe.textContent="",ke=0;P=ge[ke++];)if(A&&D.inArray(P,A)>-1)k&&k.push(P);else if(oe=gn(P),V=Gt(Pe.appendChild(P),"script"),oe&&_t(V),C)for(we=0;P=V[we++];)Ft.test(P.type||"")&&C.push(P);return Pe}var Lt=/^([^.]*)(?:\.(.+)|)/;function ln(){return!0}function sn(){return!1}function Q(p,w){return p===function W(){try{return _e.activeElement}catch(p){}}()==("focus"===w)}function ne(p,w,C,A,k,P){var V,K;if("object"==typeof w){for(K in"string"!=typeof C&&(A=A||C,C=void 0),w)ne(p,K,C,A,w[K],P);return p}if(null==A&&null==k?(k=C,A=C=void 0):null==k&&("string"==typeof C?(k=A,A=void 0):(k=A,A=C,C=void 0)),!1===k)k=sn;else if(!k)return p;return 1===P&&(V=k,k=function(G){return D().off(G),V.apply(this,arguments)},k.guid=V.guid||(V.guid=D.guid++)),p.each(function(){D.event.add(this,w,k,A,C)})}function Se(p,w,C){C?(Qe.set(p,w,!1),D.event.add(p,w,{namespace:!1,handler:function(A){var k,P,V=Qe.get(this,w);if(1&A.isTrigger&&this[w]){if(V.length)(D.event.special[w]||{}).delegateType&&A.stopPropagation();else if(V=Me.call(arguments),Qe.set(this,w,V),k=C(this,w),this[w](),V!==(P=Qe.get(this,w))||k?Qe.set(this,w,!1):P={},V!==P)return A.stopImmediatePropagation(),A.preventDefault(),P&&P.value}else V.length&&(Qe.set(this,w,{value:D.event.trigger(D.extend(V[0],D.Event.prototype),V.slice(1),this)}),A.stopImmediatePropagation())}})):void 0===Qe.get(p,w)&&D.event.add(p,w,ln)}D.event={global:{},add:function(p,w,C,A,k){var P,V,K,G,oe,we,Pe,ge,ke,Et,Mt,pt=Qe.get(p);if(wi(p))for(C.handler&&(C=(P=C).handler,k=P.selector),k&&D.find.matchesSelector(Zi,k),C.guid||(C.guid=D.guid++),(G=pt.events)||(G=pt.events=Object.create(null)),(V=pt.handle)||(V=pt.handle=function(rr){return void 0!==D&&D.event.triggered!==rr.type?D.event.dispatch.apply(p,arguments):void 0}),oe=(w=(w||"").match(bn)||[""]).length;oe--;)ke=Mt=(K=Lt.exec(w[oe])||[])[1],Et=(K[2]||"").split(".").sort(),ke&&(Pe=D.event.special[ke]||{},Pe=D.event.special[ke=(k?Pe.delegateType:Pe.bindType)||ke]||{},we=D.extend({type:ke,origType:Mt,data:A,handler:C,guid:C.guid,selector:k,needsContext:k&&D.expr.match.needsContext.test(k),namespace:Et.join(".")},P),(ge=G[ke])||((ge=G[ke]=[]).delegateCount=0,(!Pe.setup||!1===Pe.setup.call(p,A,Et,V))&&p.addEventListener&&p.addEventListener(ke,V)),Pe.add&&(Pe.add.call(p,we),we.handler.guid||(we.handler.guid=C.guid)),k?ge.splice(ge.delegateCount++,0,we):ge.push(we),D.event.global[ke]=!0)},remove:function(p,w,C,A,k){var P,V,K,G,oe,we,Pe,ge,ke,Et,Mt,pt=Qe.hasData(p)&&Qe.get(p);if(pt&&(G=pt.events)){for(oe=(w=(w||"").match(bn)||[""]).length;oe--;)if(ke=Mt=(K=Lt.exec(w[oe])||[])[1],Et=(K[2]||"").split(".").sort(),ke){for(Pe=D.event.special[ke]||{},ge=G[ke=(A?Pe.delegateType:Pe.bindType)||ke]||[],K=K[2]&&new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"),V=P=ge.length;P--;)we=ge[P],(k||Mt===we.origType)&&(!C||C.guid===we.guid)&&(!K||K.test(we.namespace))&&(!A||A===we.selector||"**"===A&&we.selector)&&(ge.splice(P,1),we.selector&&ge.delegateCount--,Pe.remove&&Pe.remove.call(p,we));V&&!ge.length&&((!Pe.teardown||!1===Pe.teardown.call(p,Et,pt.handle))&&D.removeEvent(p,ke,pt.handle),delete G[ke])}else for(ke in G)D.event.remove(p,ke+w[oe],C,A,!0);D.isEmptyObject(G)&&Qe.remove(p,"handle events")}},dispatch:function(p){var w,C,A,k,P,V,K=new Array(arguments.length),G=D.event.fix(p),oe=(Qe.get(this,"events")||Object.create(null))[G.type]||[],we=D.event.special[G.type]||{};for(K[0]=G,w=1;w<arguments.length;w++)K[w]=arguments[w];if(G.delegateTarget=this,!we.preDispatch||!1!==we.preDispatch.call(this,G)){for(V=D.event.handlers.call(this,G,oe),w=0;(k=V[w++])&&!G.isPropagationStopped();)for(G.currentTarget=k.elem,C=0;(P=k.handlers[C++])&&!G.isImmediatePropagationStopped();)(!G.rnamespace||!1===P.namespace||G.rnamespace.test(P.namespace))&&(G.handleObj=P,G.data=P.data,void 0!==(A=((D.event.special[P.origType]||{}).handle||P.handler).apply(k.elem,K))&&!1===(G.result=A)&&(G.preventDefault(),G.stopPropagation()));return we.postDispatch&&we.postDispatch.call(this,G),G.result}},handlers:function(p,w){var C,A,k,P,V,K=[],G=w.delegateCount,oe=p.target;if(G&&oe.nodeType&&!("click"===p.type&&p.button>=1))for(;oe!==this;oe=oe.parentNode||this)if(1===oe.nodeType&&("click"!==p.type||!0!==oe.disabled)){for(P=[],V={},C=0;C<G;C++)void 0===V[k=(A=w[C]).selector+" "]&&(V[k]=A.needsContext?D(k,this).index(oe)>-1:D.find(k,this,null,[oe]).length),V[k]&&P.push(A);P.length&&K.push({elem:oe,handlers:P})}return oe=this,G<w.length&&K.push({elem:oe,handlers:w.slice(G)}),K},addProp:function(p,w){Object.defineProperty(D.Event.prototype,p,{enumerable:!0,configurable:!0,get:Le(w)?function(){if(this.originalEvent)return w(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(C){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:C})}})},fix:function(p){return p[D.expando]?p:new D.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){var w=this||p;return br.test(w.type)&&w.click&&Ce(w,"input")&&Se(w,"click",ln),!1},trigger:function(p){var w=this||p;return br.test(w.type)&&w.click&&Ce(w,"input")&&Se(w,"click"),!0},_default:function(p){var w=p.target;return br.test(w.type)&&w.click&&Ce(w,"input")&&Qe.get(w,"click")||Ce(w,"a")}},beforeunload:{postDispatch:function(p){void 0!==p.result&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}},D.removeEvent=function(p,w,C){p.removeEventListener&&p.removeEventListener(w,C)},D.Event=function(p,w){if(!(this instanceof D.Event))return new D.Event(p,w);p&&p.type?(this.originalEvent=p,this.type=p.type,this.isDefaultPrevented=p.defaultPrevented||void 0===p.defaultPrevented&&!1===p.returnValue?ln:sn,this.target=p.target&&3===p.target.nodeType?p.target.parentNode:p.target,this.currentTarget=p.currentTarget,this.relatedTarget=p.relatedTarget):this.type=p,w&&D.extend(this,w),this.timeStamp=p&&p.timeStamp||Date.now(),this[D.expando]=!0},D.Event.prototype={constructor:D.Event,isDefaultPrevented:sn,isPropagationStopped:sn,isImmediatePropagationStopped:sn,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=ln,p&&!this.isSimulated&&p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=ln,p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=ln,p&&!this.isSimulated&&p.stopImmediatePropagation(),this.stopPropagation()}},D.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},D.event.addProp),D.each({focus:"focusin",blur:"focusout"},function(p,w){D.event.special[p]={setup:function(){return Se(this,p,Q),!1},trigger:function(){return Se(this,p),!0},_default:function(){return!0},delegateType:w}}),D.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(p,w){D.event.special[p]={delegateType:w,bindType:w,handle:function(C){var A,k=this,P=C.relatedTarget,V=C.handleObj;return(!P||P!==k&&!D.contains(k,P))&&(C.type=V.origType,A=V.handler.apply(this,arguments),C.type=w),A}}}),D.fn.extend({on:function(p,w,C,A){return ne(this,p,w,C,A)},one:function(p,w,C,A){return ne(this,p,w,C,A,1)},off:function(p,w,C){var A,k;if(p&&p.preventDefault&&p.handleObj)return A=p.handleObj,D(p.delegateTarget).off(A.namespace?A.origType+"."+A.namespace:A.origType,A.selector,A.handler),this;if("object"==typeof p){for(k in p)this.off(k,w,p[k]);return this}return(!1===w||"function"==typeof w)&&(C=w,w=void 0),!1===C&&(C=sn),this.each(function(){D.event.remove(this,p,C,w)})}});var he=/<script|<style|<link/i,lt=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Sn(p,w){return Ce(p,"table")&&Ce(11!==w.nodeType?w:w.firstChild,"tr")&&D(p).children("tbody")[0]||p}function ii(p){return p.type=(null!==p.getAttribute("type"))+"/"+p.type,p}function Tn(p){return"true/"===(p.type||"").slice(0,5)?p.type=p.type.slice(5):p.removeAttribute("type"),p}function ir(p,w){var C,A,k,V,K,G;if(1===w.nodeType){if(Qe.hasData(p)&&(G=Qe.get(p).events))for(k in Qe.remove(w,"handle events"),G)for(C=0,A=G[k].length;C<A;C++)D.event.add(w,k,G[k][C]);Kn.hasData(p)&&(V=Kn.access(p),K=D.extend({},V),Kn.set(w,K))}}function cn(p,w){var C=w.nodeName.toLowerCase();"input"===C&&br.test(p.type)?w.checked=p.checked:("input"===C||"textarea"===C)&&(w.defaultValue=p.defaultValue)}function Rn(p,w,C,A){w=Ie(w);var k,P,V,K,G,oe,we=0,Pe=p.length,ge=Pe-1,ke=w[0],Et=Le(ke);if(Et||Pe>1&&"string"==typeof ke&&!He.checkClone&&lt.test(ke))return p.each(function(Mt){var pt=p.eq(Mt);Et&&(w[0]=ke.call(this,Mt,pt.html())),Rn(pt,w,C,A)});if(Pe&&(P=(k=wt(w,p[0].ownerDocument,!1,p,A)).firstChild,1===k.childNodes.length&&(k=P),P||A)){for(K=(V=D.map(Gt(k,"script"),ii)).length;we<Pe;we++)G=k,we!==ge&&(G=D.clone(G,!0,!0),K&&D.merge(V,Gt(G,"script"))),C.call(p[we],G,we);if(K)for(oe=V[V.length-1].ownerDocument,D.map(V,Tn),we=0;we<K;we++)Ft.test((G=V[we]).type||"")&&!Qe.access(G,"globalEval")&&D.contains(oe,G)&&(G.src&&"module"!==(G.type||"").toLowerCase()?D._evalUrl&&!G.noModule&&D._evalUrl(G.src,{nonce:G.nonce||G.getAttribute("nonce")},oe):yt(G.textContent.replace(zt,""),G,oe))}return p}function kr(p,w,C){for(var A,k=w?D.filter(w,p):p,P=0;null!=(A=k[P]);P++)!C&&1===A.nodeType&&D.cleanData(Gt(A)),A.parentNode&&(C&&gn(A)&&_t(Gt(A,"script")),A.parentNode.removeChild(A));return p}D.extend({htmlPrefilter:function(p){return p},clone:function(p,w,C){var A,k,P,V,K=p.cloneNode(!0),G=gn(p);if(!(He.noCloneChecked||1!==p.nodeType&&11!==p.nodeType||D.isXMLDoc(p)))for(V=Gt(K),A=0,k=(P=Gt(p)).length;A<k;A++)cn(P[A],V[A]);if(w)if(C)for(P=P||Gt(p),V=V||Gt(K),A=0,k=P.length;A<k;A++)ir(P[A],V[A]);else ir(p,K);return(V=Gt(K,"script")).length>0&&_t(V,!G&&Gt(p,"script")),K},cleanData:function(p){for(var w,C,A,k=D.event.special,P=0;void 0!==(C=p[P]);P++)if(wi(C)){if(w=C[Qe.expando]){if(w.events)for(A in w.events)k[A]?D.event.remove(C,A):D.removeEvent(C,A,w.handle);C[Qe.expando]=void 0}C[Kn.expando]&&(C[Kn.expando]=void 0)}}}),D.fn.extend({detach:function(p){return kr(this,p,!0)},remove:function(p){return kr(this,p)},text:function(p){return fr(this,function(w){return void 0===w?D.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=w)})},null,p,arguments.length)},append:function(){return Rn(this,arguments,function(p){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Sn(this,p).appendChild(p)})},prepend:function(){return Rn(this,arguments,function(p){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var w=Sn(this,p);w.insertBefore(p,w.firstChild)}})},before:function(){return Rn(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return Rn(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,w=0;null!=(p=this[w]);w++)1===p.nodeType&&(D.cleanData(Gt(p,!1)),p.textContent="");return this},clone:function(p,w){return p=null!=p&&p,w=null==w?p:w,this.map(function(){return D.clone(this,p,w)})},html:function(p){return fr(this,function(w){var C=this[0]||{},A=0,k=this.length;if(void 0===w&&1===C.nodeType)return C.innerHTML;if("string"==typeof w&&!he.test(w)&&!Yn[(Ur.exec(w)||["",""])[1].toLowerCase()]){w=D.htmlPrefilter(w);try{for(;A<k;A++)1===(C=this[A]||{}).nodeType&&(D.cleanData(Gt(C,!1)),C.innerHTML=w);C=0}catch(P){}}C&&this.empty().append(w)},null,p,arguments.length)},replaceWith:function(){var p=[];return Rn(this,arguments,function(w){var C=this.parentNode;D.inArray(this,p)<0&&(D.cleanData(Gt(this)),C&&C.replaceChild(w,this))},p)}}),D.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,w){D.fn[p]=function(C){for(var A,k=[],P=D(C),V=P.length-1,K=0;K<=V;K++)A=K===V?this:this.clone(!0),D(P[K])[w](A),Re.apply(k,A.get());return this.pushStack(k)}});var Ns=new RegExp("^("+Xn+")(?!px)[a-z%]+$","i"),wo=function(p){var w=p.ownerDocument.defaultView;return(!w||!w.opener)&&(w=te),w.getComputedStyle(p)},zo=function(p,w,C){var A,k,P={};for(k in w)P[k]=p.style[k],p.style[k]=w[k];for(k in A=C.call(p),w)p.style[k]=P[k];return A},ks=new RegExp(Kr.join("|"),"i");function sr(p,w,C){var A,k,P,V,K=p.style;return(C=C||wo(p))&&(""===(V=C.getPropertyValue(w)||C[w])&&!gn(p)&&(V=D.style(p,w)),!He.pixelBoxStyles()&&Ns.test(V)&&ks.test(w)&&(A=K.width,k=K.minWidth,P=K.maxWidth,K.minWidth=K.maxWidth=K.width=V,V=C.width,K.width=A,K.minWidth=k,K.maxWidth=P)),void 0!==V?V+"":V}function Zo(p,w){return{get:function(){if(!p())return(this.get=w).apply(this,arguments);delete this.get}}}!function(){function p(){if(oe){G.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",oe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Zi.appendChild(G).appendChild(oe);var we=te.getComputedStyle(oe);C="1%"!==we.top,K=12===w(we.marginLeft),oe.style.right="60%",P=36===w(we.right),A=36===w(we.width),oe.style.position="absolute",k=12===w(oe.offsetWidth/3),Zi.removeChild(G),oe=null}}function w(we){return Math.round(parseFloat(we))}var C,A,k,P,V,K,G=_e.createElement("div"),oe=_e.createElement("div");!oe.style||(oe.style.backgroundClip="content-box",oe.cloneNode(!0).style.backgroundClip="",He.clearCloneStyle="content-box"===oe.style.backgroundClip,D.extend(He,{boxSizingReliable:function(){return p(),A},pixelBoxStyles:function(){return p(),P},pixelPosition:function(){return p(),C},reliableMarginLeft:function(){return p(),K},scrollboxSize:function(){return p(),k},reliableTrDimensions:function(){var we,Pe,ge,ke;return null==V&&(we=_e.createElement("table"),Pe=_e.createElement("tr"),ge=_e.createElement("div"),we.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Pe.style.cssText="border:1px solid",Pe.style.height="1px",ge.style.height="9px",ge.style.display="block",Zi.appendChild(we).appendChild(Pe).appendChild(ge),ke=te.getComputedStyle(Pe),V=parseInt(ke.height,10)+parseInt(ke.borderTopWidth,10)+parseInt(ke.borderBottomWidth,10)===Pe.offsetHeight,Zi.removeChild(we)),V}}))}();var Ei=["Webkit","Moz","ms"],rt=_e.createElement("div").style,dn={};function Pr(p){return D.cssProps[p]||dn[p]||(p in rt?p:dn[p]=function Qn(p){for(var w=p[0].toUpperCase()+p.slice(1),C=Ei.length;C--;)if((p=Ei[C]+w)in rt)return p}(p)||p)}var Ks=/^(none|table(?!-c[ea]).+)/,pr=/^--/,hs={position:"absolute",visibility:"hidden",display:"block"},Un={letterSpacing:"0",fontWeight:"400"};function ur(p,w,C){var A=ar.exec(w);return A?Math.max(0,A[2]-(C||0))+(A[3]||"px"):w}function fs(p,w,C,A,k,P){var V="width"===w?1:0,K=0,G=0;if(C===(A?"border":"content"))return 0;for(;V<4;V+=2)"margin"===C&&(G+=D.css(p,C+Kr[V],!0,k)),A?("content"===C&&(G-=D.css(p,"padding"+Kr[V],!0,k)),"margin"!==C&&(G-=D.css(p,"border"+Kr[V]+"Width",!0,k))):(G+=D.css(p,"padding"+Kr[V],!0,k),"padding"!==C?G+=D.css(p,"border"+Kr[V]+"Width",!0,k):K+=D.css(p,"border"+Kr[V]+"Width",!0,k));return!A&&P>=0&&(G+=Math.max(0,Math.ceil(p["offset"+w[0].toUpperCase()+w.slice(1)]-P-G-K-.5))||0),G}function on(p,w,C){var A=wo(p),P=(!He.boxSizingReliable()||C)&&"border-box"===D.css(p,"boxSizing",!1,A),V=P,K=sr(p,w,A),G="offset"+w[0].toUpperCase()+w.slice(1);if(Ns.test(K)){if(!C)return K;K="auto"}return(!He.boxSizingReliable()&&P||!He.reliableTrDimensions()&&Ce(p,"tr")||"auto"===K||!parseFloat(K)&&"inline"===D.css(p,"display",!1,A))&&p.getClientRects().length&&(P="border-box"===D.css(p,"boxSizing",!1,A),(V=G in p)&&(K=p[G])),(K=parseFloat(K)||0)+fs(p,w,C||(P?"border":"content"),V,A,K)+"px"}function Er(p,w,C,A,k){return new Er.prototype.init(p,w,C,A,k)}D.extend({cssHooks:{opacity:{get:function(p,w){if(w){var C=sr(p,"opacity");return""===C?"1":C}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(p,w,C,A){if(p&&3!==p.nodeType&&8!==p.nodeType&&p.style){var k,P,V,K=nr(w),G=pr.test(w),oe=p.style;if(G||(w=Pr(K)),V=D.cssHooks[w]||D.cssHooks[K],void 0===C)return V&&"get"in V&&void 0!==(k=V.get(p,!1,A))?k:oe[w];if("string"==(P=typeof C)&&(k=ar.exec(C))&&k[1]&&(C=Vr(p,w,k),P="number"),null==C||C!=C)return;"number"===P&&!G&&(C+=k&&k[3]||(D.cssNumber[K]?"":"px")),!He.clearCloneStyle&&""===C&&0===w.indexOf("background")&&(oe[w]="inherit"),(!V||!("set"in V)||void 0!==(C=V.set(p,C,A)))&&(G?oe.setProperty(w,C):oe[w]=C)}},css:function(p,w,C,A){var k,P,V,K=nr(w);return pr.test(w)||(w=Pr(K)),(V=D.cssHooks[w]||D.cssHooks[K])&&"get"in V&&(k=V.get(p,!0,C)),void 0===k&&(k=sr(p,w,A)),"normal"===k&&w in Un&&(k=Un[w]),""===C||C?(P=parseFloat(k),!0===C||isFinite(P)?P||0:k):k}}),D.each(["height","width"],function(p,w){D.cssHooks[w]={get:function(C,A,k){if(A)return!Ks.test(D.css(C,"display"))||C.getClientRects().length&&C.getBoundingClientRect().width?on(C,w,k):zo(C,hs,function(){return on(C,w,k)})},set:function(C,A,k){var P,V=wo(C),K=!He.scrollboxSize()&&"absolute"===V.position,oe=(K||k)&&"border-box"===D.css(C,"boxSizing",!1,V),we=k?fs(C,w,k,oe,V):0;return oe&&K&&(we-=Math.ceil(C["offset"+w[0].toUpperCase()+w.slice(1)]-parseFloat(V[w])-fs(C,w,"border",!1,V)-.5)),we&&(P=ar.exec(A))&&"px"!==(P[3]||"px")&&(C.style[w]=A,A=D.css(C,w)),ur(0,A,we)}}}),D.cssHooks.marginLeft=Zo(He.reliableMarginLeft,function(p,w){if(w)return(parseFloat(sr(p,"marginLeft"))||p.getBoundingClientRect().left-zo(p,{marginLeft:0},function(){return p.getBoundingClientRect().left}))+"px"}),D.each({margin:"",padding:"",border:"Width"},function(p,w){D.cssHooks[p+w]={expand:function(C){for(var A=0,k={},P="string"==typeof C?C.split(" "):[C];A<4;A++)k[p+Kr[A]+w]=P[A]||P[A-2]||P[0];return k}},"margin"!==p&&(D.cssHooks[p+w].set=ur)}),D.fn.extend({css:function(p,w){return fr(this,function(C,A,k){var P,V,K={},G=0;if(Array.isArray(A)){for(P=wo(C),V=A.length;G<V;G++)K[A[G]]=D.css(C,A[G],!1,P);return K}return void 0!==k?D.style(C,A,k):D.css(C,A)},p,w,arguments.length>1)}}),D.Tween=Er,(Er.prototype={constructor:Er,init:function(p,w,C,A,k,P){this.elem=p,this.prop=C,this.easing=k||D.easing._default,this.options=w,this.start=this.now=this.cur(),this.end=A,this.unit=P||(D.cssNumber[C]?"":"px")},cur:function(){var p=Er.propHooks[this.prop];return p&&p.get?p.get(this):Er.propHooks._default.get(this)},run:function(p){var w,C=Er.propHooks[this.prop];return this.pos=w=this.options.duration?D.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):p,this.now=(this.end-this.start)*w+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),C&&C.set?C.set(this):Er.propHooks._default.set(this),this}}).init.prototype=Er.prototype,(Er.propHooks={_default:{get:function(p){var w;return 1!==p.elem.nodeType||null!=p.elem[p.prop]&&null==p.elem.style[p.prop]?p.elem[p.prop]:(w=D.css(p.elem,p.prop,""))&&"auto"!==w?w:0},set:function(p){D.fx.step[p.prop]?D.fx.step[p.prop](p):1!==p.elem.nodeType||!D.cssHooks[p.prop]&&null==p.elem.style[Pr(p.prop)]?p.elem[p.prop]=p.now:D.style(p.elem,p.prop,p.now+p.unit)}}}).scrollTop=Er.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}},D.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:"swing"},D.fx=Er.prototype.init,D.fx.step={};var Oi,Ys,Qs=/^(?:toggle|show|hide)$/,Br=/queueHooks$/;function Ki(){Ys&&(!1===_e.hidden&&te.requestAnimationFrame?te.requestAnimationFrame(Ki):te.setTimeout(Ki,D.fx.interval),D.fx.tick())}function ps(){return te.setTimeout(function(){Oi=void 0}),Oi=Date.now()}function gr(p,w){var C,A=0,k={height:p};for(w=w?1:0;A<4;A+=2-w)k["margin"+(C=Kr[A])]=k["padding"+C]=p;return w&&(k.opacity=k.width=p),k}function Bn(p,w,C){for(var A,k=(lr.tweeners[w]||[]).concat(lr.tweeners["*"]),P=0,V=k.length;P<V;P++)if(A=k[P].call(C,w,p))return A}function lr(p,w,C){var A,k,P=0,V=lr.prefilters.length,K=D.Deferred().always(function(){delete G.elem}),G=function(){if(k)return!1;for(var Pe=Oi||ps(),ge=Math.max(0,oe.startTime+oe.duration-Pe),Et=1-(ge/oe.duration||0),Mt=0,pt=oe.tweens.length;Mt<pt;Mt++)oe.tweens[Mt].run(Et);return K.notifyWith(p,[oe,Et,ge]),Et<1&&pt?ge:(pt||K.notifyWith(p,[oe,1,0]),K.resolveWith(p,[oe]),!1)},oe=K.promise({elem:p,props:D.extend({},w),opts:D.extend(!0,{specialEasing:{},easing:D.easing._default},C),originalProperties:w,originalOptions:C,startTime:Oi||ps(),duration:C.duration,tweens:[],createTween:function(Pe,ge){var ke=D.Tween(p,oe.opts,Pe,ge,oe.opts.specialEasing[Pe]||oe.opts.easing);return oe.tweens.push(ke),ke},stop:function(Pe){var ge=0,ke=Pe?oe.tweens.length:0;if(k)return this;for(k=!0;ge<ke;ge++)oe.tweens[ge].run(1);return Pe?(K.notifyWith(p,[oe,1,0]),K.resolveWith(p,[oe,Pe])):K.rejectWith(p,[oe,Pe]),this}}),we=oe.props;for(function Ua(p,w){var C,A,k,P,V;for(C in p)if(k=w[A=nr(C)],P=p[C],Array.isArray(P)&&(k=P[1],P=p[C]=P[0]),C!==A&&(p[A]=P,delete p[C]),(V=D.cssHooks[A])&&"expand"in V)for(C in P=V.expand(P),delete p[A],P)C in p||(p[C]=P[C],w[C]=k);else w[A]=k}(we,oe.opts.specialEasing);P<V;P++)if(A=lr.prefilters[P].call(oe,p,we,oe.opts))return Le(A.stop)&&(D._queueHooks(oe.elem,oe.opts.queue).stop=A.stop.bind(A)),A;return D.map(we,Bn,oe),Le(oe.opts.start)&&oe.opts.start.call(p,oe),oe.progress(oe.opts.progress).done(oe.opts.done,oe.opts.complete).fail(oe.opts.fail).always(oe.opts.always),D.fx.timer(D.extend(G,{elem:p,anim:oe,queue:oe.opts.queue})),oe}D.Animation=D.extend(lr,{tweeners:{"*":[function(p,w){var C=this.createTween(p,w);return Vr(C.elem,p,ar.exec(w),C),C}]},tweener:function(p,w){Le(p)?(w=p,p=["*"]):p=p.match(bn);for(var C,A=0,k=p.length;A<k;A++)(lr.tweeners[C=p[A]]=lr.tweeners[C]||[]).unshift(w)},prefilters:[function Va(p,w,C){var A,k,P,V,K,G,oe,we,Pe="width"in w||"height"in w,ge=this,ke={},Et=p.style,Mt=p.nodeType&&qt(p),pt=Qe.get(p,"fxshow");for(A in C.queue||(null==(V=D._queueHooks(p,"fx")).unqueued&&(V.unqueued=0,K=V.empty.fire,V.empty.fire=function(){V.unqueued||K()}),V.unqueued++,ge.always(function(){ge.always(function(){V.unqueued--,D.queue(p,"fx").length||V.empty.fire()})})),w)if(Qs.test(k=w[A])){if(delete w[A],P=P||"toggle"===k,k===(Mt?"hide":"show")){if("show"!==k||!pt||void 0===pt[A])continue;Mt=!0}ke[A]=pt&&pt[A]||D.style(p,A)}if((G=!D.isEmptyObject(w))||!D.isEmptyObject(ke))for(A in Pe&&1===p.nodeType&&(C.overflow=[Et.overflow,Et.overflowX,Et.overflowY],null==(oe=pt&&pt.display)&&(oe=Qe.get(p,"display")),"none"===(we=D.css(p,"display"))&&(oe?we=oe:(Pi([p],!0),oe=p.style.display||oe,we=D.css(p,"display"),Pi([p]))),("inline"===we||"inline-block"===we&&null!=oe)&&"none"===D.css(p,"float")&&(G||(ge.done(function(){Et.display=oe}),null==oe&&(oe="none"===(we=Et.display)?"":we)),Et.display="inline-block")),C.overflow&&(Et.overflow="hidden",ge.always(function(){Et.overflow=C.overflow[0],Et.overflowX=C.overflow[1],Et.overflowY=C.overflow[2]})),G=!1,ke)G||(pt?"hidden"in pt&&(Mt=pt.hidden):pt=Qe.access(p,"fxshow",{display:oe}),P&&(pt.hidden=!Mt),Mt&&Pi([p],!0),ge.done(function(){for(A in Mt||Pi([p]),Qe.remove(p,"fxshow"),ke)D.style(p,A,ke[A])})),G=Bn(Mt?pt[A]:0,A,ge),A in pt||(pt[A]=G.start,Mt&&(G.end=G.start,G.start=0))}],prefilter:function(p,w){w?lr.prefilters.unshift(p):lr.prefilters.push(p)}}),D.speed=function(p,w,C){var A=p&&"object"==typeof p?D.extend({},p):{complete:C||!C&&w||Le(p)&&p,duration:p,easing:C&&w||w&&!Le(w)&&w};return D.fx.off?A.duration=0:"number"!=typeof A.duration&&(A.duration=A.duration in D.fx.speeds?D.fx.speeds[A.duration]:D.fx.speeds._default),(null==A.queue||!0===A.queue)&&(A.queue="fx"),A.old=A.complete,A.complete=function(){Le(A.old)&&A.old.call(this),A.queue&&D.dequeue(this,A.queue)},A},D.fn.extend({fadeTo:function(p,w,C,A){return this.filter(qt).css("opacity",0).show().end().animate({opacity:w},p,C,A)},animate:function(p,w,C,A){var k=D.isEmptyObject(p),P=D.speed(w,C,A),V=function(){var K=lr(this,D.extend({},p),P);(k||Qe.get(this,"finish"))&&K.stop(!0)};return V.finish=V,k||!1===P.queue?this.each(V):this.queue(P.queue,V)},stop:function(p,w,C){var A=function(k){var P=k.stop;delete k.stop,P(C)};return"string"!=typeof p&&(C=w,w=p,p=void 0),w&&this.queue(p||"fx",[]),this.each(function(){var k=!0,P=null!=p&&p+"queueHooks",V=D.timers,K=Qe.get(this);if(P)K[P]&&K[P].stop&&A(K[P]);else for(P in K)K[P]&&K[P].stop&&Br.test(P)&&A(K[P]);for(P=V.length;P--;)V[P].elem===this&&(null==p||V[P].queue===p)&&(V[P].anim.stop(C),k=!1,V.splice(P,1));(k||!C)&&D.dequeue(this,p)})},finish:function(p){return!1!==p&&(p=p||"fx"),this.each(function(){var w,C=Qe.get(this),A=C[p+"queue"],k=C[p+"queueHooks"],P=D.timers,V=A?A.length:0;for(C.finish=!0,D.queue(this,p,[]),k&&k.stop&&k.stop.call(this,!0),w=P.length;w--;)P[w].elem===this&&P[w].queue===p&&(P[w].anim.stop(!0),P.splice(w,1));for(w=0;w<V;w++)A[w]&&A[w].finish&&A[w].finish.call(this);delete C.finish})}}),D.each(["toggle","show","hide"],function(p,w){var C=D.fn[w];D.fn[w]=function(A,k,P){return null==A||"boolean"==typeof A?C.apply(this,arguments):this.animate(gr(w,!0),A,k,P)}}),D.each({slideDown:gr("show"),slideUp:gr("hide"),slideToggle:gr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(p,w){D.fn[p]=function(C,A,k){return this.animate(w,C,A,k)}}),D.timers=[],D.fx.tick=function(){var p,w=0,C=D.timers;for(Oi=Date.now();w<C.length;w++)!(p=C[w])()&&C[w]===p&&C.splice(w--,1);C.length||D.fx.stop(),Oi=void 0},D.fx.timer=function(p){D.timers.push(p),D.fx.start()},D.fx.interval=13,D.fx.start=function(){Ys||(Ys=!0,Ki())},D.fx.stop=function(){Ys=null},D.fx.speeds={slow:600,fast:200,_default:400},D.fn.delay=function(p,w){return p=D.fx&&D.fx.speeds[p]||p,this.queue(w=w||"fx",function(C,A){var k=te.setTimeout(C,p);A.stop=function(){te.clearTimeout(k)}})},function(){var p=_e.createElement("input"),C=_e.createElement("select").appendChild(_e.createElement("option"));p.type="checkbox",He.checkOn=""!==p.value,He.optSelected=C.selected,(p=_e.createElement("input")).value="t",p.type="radio",He.radioValue="t"===p.value}();var Ii,Wo=D.expr.attrHandle;D.fn.extend({attr:function(p,w){return fr(this,D.attr,p,w,arguments.length>1)},removeAttr:function(p){return this.each(function(){D.removeAttr(this,p)})}}),D.extend({attr:function(p,w,C){var A,k,P=p.nodeType;if(3!==P&&8!==P&&2!==P)return void 0===p.getAttribute?D.prop(p,w,C):((1!==P||!D.isXMLDoc(p))&&(k=D.attrHooks[w.toLowerCase()]||(D.expr.match.bool.test(w)?Ii:void 0)),void 0!==C?null===C?void D.removeAttr(p,w):k&&"set"in k&&void 0!==(A=k.set(p,C,w))?A:(p.setAttribute(w,C+""),C):k&&"get"in k&&null!==(A=k.get(p,w))?A:null==(A=D.find.attr(p,w))?void 0:A)},attrHooks:{type:{set:function(p,w){if(!He.radioValue&&"radio"===w&&Ce(p,"input")){var C=p.value;return p.setAttribute("type",w),C&&(p.value=C),w}}}},removeAttr:function(p,w){var C,A=0,k=w&&w.match(bn);if(k&&1===p.nodeType)for(;C=k[A++];)p.removeAttribute(C)}}),Ii={set:function(p,w,C){return!1===w?D.removeAttr(p,C):p.setAttribute(C,C),C}},D.each(D.expr.match.bool.source.match(/\w+/g),function(p,w){var C=Wo[w]||D.find.attr;Wo[w]=function(A,k,P){var V,K,G=k.toLowerCase();return P||(K=Wo[G],Wo[G]=V,V=null!=C(A,k,P)?G:null,Wo[G]=K),V}});var Js=/^(?:input|select|textarea|button)$/i,Ba=/^(?:a|area)$/i;function Ir(p){return(p.match(bn)||[]).join(" ")}function bo(p){return p.getAttribute&&p.getAttribute("class")||""}function ja(p){return Array.isArray(p)?p:"string"==typeof p&&p.match(bn)||[]}D.fn.extend({prop:function(p,w){return fr(this,D.prop,p,w,arguments.length>1)},removeProp:function(p){return this.each(function(){delete this[D.propFix[p]||p]})}}),D.extend({prop:function(p,w,C){var A,k,P=p.nodeType;if(3!==P&&8!==P&&2!==P)return(1!==P||!D.isXMLDoc(p))&&(k=D.propHooks[w=D.propFix[w]||w]),void 0!==C?k&&"set"in k&&void 0!==(A=k.set(p,C,w))?A:p[w]=C:k&&"get"in k&&null!==(A=k.get(p,w))?A:p[w]},propHooks:{tabIndex:{get:function(p){var w=D.find.attr(p,"tabindex");return w?parseInt(w,10):Js.test(p.nodeName)||Ba.test(p.nodeName)&&p.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),He.optSelected||(D.propHooks.selected={get:function(p){return null},set:function(p){}}),D.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){D.propFix[this.toLowerCase()]=this}),D.fn.extend({addClass:function(p){var w,C,A,k,P,V,K,G=0;if(Le(p))return this.each(function(oe){D(this).addClass(p.call(this,oe,bo(this)))});if((w=ja(p)).length)for(;C=this[G++];)if(k=bo(C),A=1===C.nodeType&&" "+Ir(k)+" "){for(V=0;P=w[V++];)A.indexOf(" "+P+" ")<0&&(A+=P+" ");k!==(K=Ir(A))&&C.setAttribute("class",K)}return this},removeClass:function(p){var w,C,A,k,P,V,K,G=0;if(Le(p))return this.each(function(oe){D(this).removeClass(p.call(this,oe,bo(this)))});if(!arguments.length)return this.attr("class","");if((w=ja(p)).length)for(;C=this[G++];)if(k=bo(C),A=1===C.nodeType&&" "+Ir(k)+" "){for(V=0;P=w[V++];)for(;A.indexOf(" "+P+" ")>-1;)A=A.replace(" "+P+" "," ");k!==(K=Ir(A))&&C.setAttribute("class",K)}return this},toggleClass:function(p,w){var C=typeof p,A="string"===C||Array.isArray(p);return"boolean"==typeof w&&A?w?this.addClass(p):this.removeClass(p):Le(p)?this.each(function(k){D(this).toggleClass(p.call(this,k,bo(this),w),w)}):this.each(function(){var k,P,V,K;if(A)for(P=0,V=D(this),K=ja(p);k=K[P++];)V.hasClass(k)?V.removeClass(k):V.addClass(k);else(void 0===p||"boolean"===C)&&((k=bo(this))&&Qe.set(this,"__className__",k),this.setAttribute&&this.setAttribute("class",k||!1===p?"":Qe.get(this,"__className__")||""))})},hasClass:function(p){var w,C,A=0;for(w=" "+p+" ";C=this[A++];)if(1===C.nodeType&&(" "+Ir(bo(C))+" ").indexOf(w)>-1)return!0;return!1}});var Ha=/\r/g;D.fn.extend({val:function(p){var w,C,A,k=this[0];return arguments.length?(A=Le(p),this.each(function(P){var V;1===this.nodeType&&(null==(V=A?p.call(this,P,D(this).val()):p)?V="":"number"==typeof V?V+="":Array.isArray(V)&&(V=D.map(V,function(K){return null==K?"":K+""})),(!(w=D.valHooks[this.type]||D.valHooks[this.nodeName.toLowerCase()])||!("set"in w)||void 0===w.set(this,V,"value"))&&(this.value=V))})):k?(w=D.valHooks[k.type]||D.valHooks[k.nodeName.toLowerCase()])&&"get"in w&&void 0!==(C=w.get(k,"value"))?C:"string"==typeof(C=k.value)?C.replace(Ha,""):null==C?"":C:void 0}}),D.extend({valHooks:{option:{get:function(p){var w=D.find.attr(p,"value");return null!=w?w:Ir(D.text(p))}},select:{get:function(p){var w,C,A,k=p.options,P=p.selectedIndex,V="select-one"===p.type,K=V?null:[],G=V?P+1:k.length;for(A=P<0?G:V?P:0;A<G;A++)if(((C=k[A]).selected||A===P)&&!C.disabled&&(!C.parentNode.disabled||!Ce(C.parentNode,"optgroup"))){if(w=D(C).val(),V)return w;K.push(w)}return K},set:function(p,w){for(var C,A,k=p.options,P=D.makeArray(w),V=k.length;V--;)((A=k[V]).selected=D.inArray(D.valHooks.option.get(A),P)>-1)&&(C=!0);return C||(p.selectedIndex=-1),P}}}}),D.each(["radio","checkbox"],function(){D.valHooks[this]={set:function(p,w){if(Array.isArray(w))return p.checked=D.inArray(D(p).val(),w)>-1}},He.checkOn||(D.valHooks[this].get=function(p){return null===p.getAttribute("value")?"on":p.value})}),He.focusin="onfocusin"in te;var mr=/^(?:focusinfocus|focusoutblur)$/,Cu=function(p){p.stopPropagation()};D.extend(D.event,{trigger:function(p,w,C,A){var k,P,V,K,G,oe,we,Pe,ge=[C||_e],ke=de.call(p,"type")?p.type:p,Et=de.call(p,"namespace")?p.namespace.split("."):[];if(P=Pe=V=C=C||_e,3!==C.nodeType&&8!==C.nodeType&&!mr.test(ke+D.event.triggered)&&(ke.indexOf(".")>-1&&(Et=ke.split("."),ke=Et.shift(),Et.sort()),G=ke.indexOf(":")<0&&"on"+ke,(p=p[D.expando]?p:new D.Event(ke,"object"==typeof p&&p)).isTrigger=A?2:3,p.namespace=Et.join("."),p.rnamespace=p.namespace?new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p.result=void 0,p.target||(p.target=C),w=null==w?[p]:D.makeArray(w,[p]),we=D.event.special[ke]||{},A||!we.trigger||!1!==we.trigger.apply(C,w))){if(!A&&!we.noBubble&&!xe(C)){for(mr.test((K=we.delegateType||ke)+ke)||(P=P.parentNode);P;P=P.parentNode)ge.push(P),V=P;V===(C.ownerDocument||_e)&&ge.push(V.defaultView||V.parentWindow||te)}for(k=0;(P=ge[k++])&&!p.isPropagationStopped();)Pe=P,p.type=k>1?K:we.bindType||ke,(oe=(Qe.get(P,"events")||Object.create(null))[p.type]&&Qe.get(P,"handle"))&&oe.apply(P,w),(oe=G&&P[G])&&oe.apply&&wi(P)&&(p.result=oe.apply(P,w),!1===p.result&&p.preventDefault());return p.type=ke,!A&&!p.isDefaultPrevented()&&(!we._default||!1===we._default.apply(ge.pop(),w))&&wi(C)&&G&&Le(C[ke])&&!xe(C)&&((V=C[G])&&(C[G]=null),D.event.triggered=ke,p.isPropagationStopped()&&Pe.addEventListener(ke,Cu),C[ke](),p.isPropagationStopped()&&Pe.removeEventListener(ke,Cu),D.event.triggered=void 0,V&&(C[G]=V)),p.result}},simulate:function(p,w,C){var A=D.extend(new D.Event,C,{type:p,isSimulated:!0});D.event.trigger(A,null,w)}}),D.fn.extend({trigger:function(p,w){return this.each(function(){D.event.trigger(p,w,this)})},triggerHandler:function(p,w){var C=this[0];if(C)return D.event.trigger(p,w,C,!0)}}),He.focusin||D.each({focus:"focusin",blur:"focusout"},function(p,w){var C=function(A){D.event.simulate(w,A.target,D.event.fix(A))};D.event.special[w]={setup:function(){var A=this.ownerDocument||this.document||this,k=Qe.access(A,w);k||A.addEventListener(p,C,!0),Qe.access(A,w,(k||0)+1)},teardown:function(){var A=this.ownerDocument||this.document||this,k=Qe.access(A,w)-1;k?Qe.access(A,w,k):(A.removeEventListener(p,C,!0),Qe.remove(A,w))}}});var $a=te.location,gs={guid:Date.now()},ol=/\?/;D.parseXML=function(p){var w,C;if(!p||"string"!=typeof p)return null;try{w=(new te.DOMParser).parseFromString(p,"text/xml")}catch(A){}return C=w&&w.getElementsByTagName("parsererror")[0],(!w||C)&&D.error("Invalid XML: "+(C?D.map(C.childNodes,function(A){return A.textContent}).join("\n"):p)),w};var Du=/\[\]$/,qa=/\r?\n/g,Xs=/^(?:submit|button|image|reset|file)$/i,cd=/^(?:input|select|textarea|keygen)/i;function Ga(p,w,C,A){var k;if(Array.isArray(w))D.each(w,function(P,V){C||Du.test(p)?A(p,V):Ga(p+"["+("object"==typeof V&&null!=V?P:"")+"]",V,C,A)});else if(C||"object"!==$e(w))A(p,w);else for(k in w)Ga(p+"["+k+"]",w[k],C,A)}D.param=function(p,w){var C,A=[],k=function(P,V){var K=Le(V)?V():V;A[A.length]=encodeURIComponent(P)+"="+encodeURIComponent(null==K?"":K)};if(null==p)return"";if(Array.isArray(p)||p.jquery&&!D.isPlainObject(p))D.each(p,function(){k(this.name,this.value)});else for(C in p)Ga(C,p[C],w,k);return A.join("&")},D.fn.extend({serialize:function(){return D.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=D.prop(this,"elements");return p?D.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!D(this).is(":disabled")&&cd.test(this.nodeName)&&!Xs.test(p)&&(this.checked||!br.test(p))}).map(function(p,w){var C=D(this).val();return null==C?null:Array.isArray(C)?D.map(C,function(A){return{name:w.name,value:A.replace(qa,"\r\n")}}):{name:w.name,value:C.replace(qa,"\r\n")}}).get()}});var dd=/%20/g,hd=/#.*$/,al=/([?&])_=[^&]*/,Ko=/^(.*?):[ \t]*([^\r\n]*)$/gm,za=/^(?:GET|HEAD)$/,Eo=/^\/\//,ul={},ma={},Ps="*/".concat("*"),si=_e.createElement("a");function Io(p){return function(w,C){"string"!=typeof w&&(C=w,w="*");var A,k=0,P=w.toLowerCase().match(bn)||[];if(Le(C))for(;A=P[k++];)"+"===A[0]?(A=A.slice(1)||"*",(p[A]=p[A]||[]).unshift(C)):(p[A]=p[A]||[]).push(C)}}function eo(p,w,C,A){var k={},P=p===ma;function V(K){var G;return k[K]=!0,D.each(p[K]||[],function(oe,we){var Pe=we(w,C,A);return"string"!=typeof Pe||P||k[Pe]?P?!(G=Pe):void 0:(w.dataTypes.unshift(Pe),V(Pe),!1)}),G}return V(w.dataTypes[0])||!k["*"]&&V("*")}function Co(p,w){var C,A,k=D.ajaxSettings.flatOptions||{};for(C in w)void 0!==w[C]&&((k[C]?p:A||(A={}))[C]=w[C]);return A&&D.extend(!0,p,A),p}si.href=$a.href,D.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$a.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test($a.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ps,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":D.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,w){return w?Co(Co(p,D.ajaxSettings),w):Co(D.ajaxSettings,p)},ajaxPrefilter:Io(ul),ajaxTransport:Io(ma),ajax:function(p,w){"object"==typeof p&&(w=p,p=void 0);var C,A,k,P,V,K,G,oe,we,Pe,ge=D.ajaxSetup({},w=w||{}),ke=ge.context||ge,Et=ge.context&&(ke.nodeType||ke.jquery)?D(ke):D.event,Mt=D.Deferred(),pt=D.Callbacks("once memory"),rr=ge.statusCode||{},Pn={},zn={},Dn="canceled",Vt={readyState:0,getResponseHeader:function(Xt){var On;if(G){if(!P)for(P={};On=Ko.exec(k);)P[On[1].toLowerCase()+" "]=(P[On[1].toLowerCase()+" "]||[]).concat(On[2]);On=P[Xt.toLowerCase()+" "]}return null==On?null:On.join(", ")},getAllResponseHeaders:function(){return G?k:null},setRequestHeader:function(Xt,On){return null==G&&(Xt=zn[Xt.toLowerCase()]=zn[Xt.toLowerCase()]||Xt,Pn[Xt]=On),this},overrideMimeType:function(Xt){return null==G&&(ge.mimeType=Xt),this},statusCode:function(Xt){var On;if(Xt)if(G)Vt.always(Xt[Vt.status]);else for(On in Xt)rr[On]=[rr[On],Xt[On]];return this},abort:function(Xt){var On=Xt||Dn;return C&&C.abort(On),jr(0,On),this}};if(Mt.promise(Vt),ge.url=((p||ge.url||$a.href)+"").replace(Eo,$a.protocol+"//"),ge.type=w.method||w.type||ge.method||ge.type,ge.dataTypes=(ge.dataType||"*").toLowerCase().match(bn)||[""],null==ge.crossDomain){K=_e.createElement("a");try{K.href=ge.url,K.href=K.href,ge.crossDomain=si.protocol+"//"+si.host!=K.protocol+"//"+K.host}catch(Xt){ge.crossDomain=!0}}if(ge.data&&ge.processData&&"string"!=typeof ge.data&&(ge.data=D.param(ge.data,ge.traditional)),eo(ul,ge,w,Vt),G)return Vt;for(we in(oe=D.event&&ge.global)&&0==D.active++&&D.event.trigger("ajaxStart"),ge.type=ge.type.toUpperCase(),ge.hasContent=!za.test(ge.type),A=ge.url.replace(hd,""),ge.hasContent?ge.data&&ge.processData&&0===(ge.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ge.data=ge.data.replace(dd,"+")):(Pe=ge.url.slice(A.length),ge.data&&(ge.processData||"string"==typeof ge.data)&&(A+=(ol.test(A)?"&":"?")+ge.data,delete ge.data),!1===ge.cache&&(A=A.replace(al,"$1"),Pe=(ol.test(A)?"&":"?")+"_="+gs.guid+++Pe),ge.url=A+Pe),ge.ifModified&&(D.lastModified[A]&&Vt.setRequestHeader("If-Modified-Since",D.lastModified[A]),D.etag[A]&&Vt.setRequestHeader("If-None-Match",D.etag[A])),(ge.data&&ge.hasContent&&!1!==ge.contentType||w.contentType)&&Vt.setRequestHeader("Content-Type",ge.contentType),Vt.setRequestHeader("Accept",ge.dataTypes[0]&&ge.accepts[ge.dataTypes[0]]?ge.accepts[ge.dataTypes[0]]+("*"!==ge.dataTypes[0]?", "+Ps+"; q=0.01":""):ge.accepts["*"]),ge.headers)Vt.setRequestHeader(we,ge.headers[we]);if(ge.beforeSend&&(!1===ge.beforeSend.call(ke,Vt,ge)||G))return Vt.abort();if(Dn="abort",pt.add(ge.complete),Vt.done(ge.success),Vt.fail(ge.error),C=eo(ma,ge,w,Vt)){if(Vt.readyState=1,oe&&Et.trigger("ajaxSend",[Vt,ge]),G)return Vt;ge.async&&ge.timeout>0&&(V=te.setTimeout(function(){Vt.abort("timeout")},ge.timeout));try{G=!1,C.send(Pn,jr)}catch(Xt){if(G)throw Xt;jr(-1,Xt)}}else jr(-1,"No Transport");function jr(Xt,On,Li,kt){var Qr,Yi,ms,Hr,Qi,gi=On;G||(G=!0,V&&te.clearTimeout(V),C=void 0,k=kt||"",Vt.readyState=Xt>0?4:0,Qr=Xt>=200&&Xt<300||304===Xt,Li&&(Hr=function ll(p,w,C){for(var A,k,P,V,K=p.contents,G=p.dataTypes;"*"===G[0];)G.shift(),void 0===A&&(A=p.mimeType||w.getResponseHeader("Content-Type"));if(A)for(k in K)if(K[k]&&K[k].test(A)){G.unshift(k);break}if(G[0]in C)P=G[0];else{for(k in C){if(!G[0]||p.converters[k+" "+G[0]]){P=k;break}V||(V=k)}P=P||V}if(P)return P!==G[0]&&G.unshift(P),C[P]}(ge,Vt,Li)),!Qr&&D.inArray("script",ge.dataTypes)>-1&&D.inArray("json",ge.dataTypes)<0&&(ge.converters["text script"]=function(){}),Hr=function fd(p,w,C,A){var k,P,V,K,G,oe={},we=p.dataTypes.slice();if(we[1])for(V in p.converters)oe[V.toLowerCase()]=p.converters[V];for(P=we.shift();P;)if(p.responseFields[P]&&(C[p.responseFields[P]]=w),!G&&A&&p.dataFilter&&(w=p.dataFilter(w,p.dataType)),G=P,P=we.shift())if("*"===P)P=G;else if("*"!==G&&G!==P){if(!(V=oe[G+" "+P]||oe["* "+P]))for(k in oe)if((K=k.split(" "))[1]===P&&(V=oe[G+" "+K[0]]||oe["* "+K[0]])){!0===V?V=oe[k]:!0!==oe[k]&&(P=K[0],we.unshift(K[1]));break}if(!0!==V)if(V&&p.throws)w=V(w);else try{w=V(w)}catch(Pe){return{state:"parsererror",error:V?Pe:"No conversion from "+G+" to "+P}}}return{state:"success",data:w}}(ge,Hr,Vt,Qr),Qr?(ge.ifModified&&((Qi=Vt.getResponseHeader("Last-Modified"))&&(D.lastModified[A]=Qi),(Qi=Vt.getResponseHeader("etag"))&&(D.etag[A]=Qi)),204===Xt||"HEAD"===ge.type?gi="nocontent":304===Xt?gi="notmodified":(gi=Hr.state,Yi=Hr.data,Qr=!(ms=Hr.error))):(ms=gi,(Xt||!gi)&&(gi="error",Xt<0&&(Xt=0))),Vt.status=Xt,Vt.statusText=(On||gi)+"",Qr?Mt.resolveWith(ke,[Yi,gi,Vt]):Mt.rejectWith(ke,[Vt,gi,ms]),Vt.statusCode(rr),rr=void 0,oe&&Et.trigger(Qr?"ajaxSuccess":"ajaxError",[Vt,ge,Qr?Yi:ms]),pt.fireWith(ke,[Vt,gi]),oe&&(Et.trigger("ajaxComplete",[Vt,ge]),--D.active||D.event.trigger("ajaxStop")))}return Vt},getJSON:function(p,w,C){return D.get(p,w,C,"json")},getScript:function(p,w){return D.get(p,void 0,w,"script")}}),D.each(["get","post"],function(p,w){D[w]=function(C,A,k,P){return Le(A)&&(P=P||k,k=A,A=void 0),D.ajax(D.extend({url:C,type:w,dataType:P,data:A,success:k},D.isPlainObject(C)&&C))}}),D.ajaxPrefilter(function(p){var w;for(w in p.headers)"content-type"===w.toLowerCase()&&(p.contentType=p.headers[w]||"")}),D._evalUrl=function(p,w,C){return D.ajax({url:p,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(A){D.globalEval(A,w,C)}})},D.fn.extend({wrapAll:function(p){var w;return this[0]&&(Le(p)&&(p=p.call(this[0])),w=D(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&w.insertBefore(this[0]),w.map(function(){for(var C=this;C.firstElementChild;)C=C.firstElementChild;return C}).append(this)),this},wrapInner:function(p){return Le(p)?this.each(function(w){D(this).wrapInner(p.call(this,w))}):this.each(function(){var w=D(this),C=w.contents();C.length?C.wrapAll(p):w.append(p)})},wrap:function(p){var w=Le(p);return this.each(function(C){D(this).wrapAll(w?p.call(this,C):p)})},unwrap:function(p){return this.parent(p).not("body").each(function(){D(this).replaceWith(this.childNodes)}),this}}),D.expr.pseudos.hidden=function(p){return!D.expr.pseudos.visible(p)},D.expr.pseudos.visible=function(p){return!!(p.offsetWidth||p.offsetHeight||p.getClientRects().length)},D.ajaxSettings.xhr=function(){try{return new te.XMLHttpRequest}catch(p){}};var Yo={0:200,1223:204},Fi=D.ajaxSettings.xhr();He.cors=!!Fi&&"withCredentials"in Fi,He.ajax=Fi=!!Fi,D.ajaxTransport(function(p){var w,C;if(He.cors||Fi&&!p.crossDomain)return{send:function(A,k){var P,V=p.xhr();if(V.open(p.type,p.url,p.async,p.username,p.password),p.xhrFields)for(P in p.xhrFields)V[P]=p.xhrFields[P];for(P in p.mimeType&&V.overrideMimeType&&V.overrideMimeType(p.mimeType),!p.crossDomain&&!A["X-Requested-With"]&&(A["X-Requested-With"]="XMLHttpRequest"),A)V.setRequestHeader(P,A[P]);w=function(K){return function(){w&&(w=C=V.onload=V.onerror=V.onabort=V.ontimeout=V.onreadystatechange=null,"abort"===K?V.abort():"error"===K?"number"!=typeof V.status?k(0,"error"):k(V.status,V.statusText):k(Yo[V.status]||V.status,V.statusText,"text"!==(V.responseType||"text")||"string"!=typeof V.responseText?{binary:V.response}:{text:V.responseText},V.getAllResponseHeaders()))}},V.onload=w(),C=V.onerror=V.ontimeout=w("error"),void 0!==V.onabort?V.onabort=C:V.onreadystatechange=function(){4===V.readyState&&te.setTimeout(function(){w&&C()})},w=w("abort");try{V.send(p.hasContent&&p.data||null)}catch(K){if(w)throw K}},abort:function(){w&&w()}}}),D.ajaxPrefilter(function(p){p.crossDomain&&(p.contents.script=!1)}),D.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){return D.globalEval(p),p}}}),D.ajaxPrefilter("script",function(p){void 0===p.cache&&(p.cache=!1),p.crossDomain&&(p.type="GET")}),D.ajaxTransport("script",function(p){var w,C;if(p.crossDomain||p.scriptAttrs)return{send:function(A,k){w=D("<script>").attr(p.scriptAttrs||{}).prop({charset:p.scriptCharset,src:p.url}).on("load error",C=function(P){w.remove(),C=null,P&&k("error"===P.type?404:200,P.type)}),_e.head.appendChild(w[0])},abort:function(){C&&C()}}});var p,Ci=[],Qo=/(=)\?(?=&|$)|\?\?/;D.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=Ci.pop()||D.expando+"_"+gs.guid++;return this[p]=!0,p}}),D.ajaxPrefilter("json jsonp",function(p,w,C){var A,k,P,V=!1!==p.jsonp&&(Qo.test(p.url)?"url":"string"==typeof p.data&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qo.test(p.data)&&"data");if(V||"jsonp"===p.dataTypes[0])return A=p.jsonpCallback=Le(p.jsonpCallback)?p.jsonpCallback():p.jsonpCallback,V?p[V]=p[V].replace(Qo,"$1"+A):!1!==p.jsonp&&(p.url+=(ol.test(p.url)?"&":"?")+p.jsonp+"="+A),p.converters["script json"]=function(){return P||D.error(A+" was not called"),P[0]},p.dataTypes[0]="json",k=te[A],te[A]=function(){P=arguments},C.always(function(){void 0===k?D(te).removeProp(A):te[A]=k,p[A]&&(p.jsonpCallback=w.jsonpCallback,Ci.push(A)),P&&Le(k)&&k(P[0]),P=k=void 0}),"script"}),He.createHTMLDocument=((p=_e.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===p.childNodes.length),D.parseHTML=function(p,w,C){return"string"!=typeof p?[]:("boolean"==typeof w&&(C=w,w=!1),w||(He.createHTMLDocument?((A=(w=_e.implementation.createHTMLDocument("")).createElement("base")).href=_e.location.href,w.head.appendChild(A)):w=_e),P=!C&&[],(k=Ee.exec(p))?[w.createElement(k[1])]:(k=wt([p],w,P),P&&P.length&&D(P).remove(),D.merge([],k.childNodes)));var A,k,P},D.fn.load=function(p,w,C){var A,k,P,V=this,K=p.indexOf(" ");return K>-1&&(A=Ir(p.slice(K)),p=p.slice(0,K)),Le(w)?(C=w,w=void 0):w&&"object"==typeof w&&(k="POST"),V.length>0&&D.ajax({url:p,type:k||"GET",dataType:"html",data:w}).done(function(G){P=arguments,V.html(A?D("<div>").append(D.parseHTML(G)).find(A):G)}).always(C&&function(G,oe){V.each(function(){C.apply(this,P||[G.responseText,oe,G])})}),this},D.expr.pseudos.animated=function(p){return D.grep(D.timers,function(w){return p===w.elem}).length},D.offset={setOffset:function(p,w,C){var A,k,P,V,K,G,we=D.css(p,"position"),Pe=D(p),ge={};"static"===we&&(p.style.position="relative"),K=Pe.offset(),P=D.css(p,"top"),G=D.css(p,"left"),("absolute"===we||"fixed"===we)&&(P+G).indexOf("auto")>-1?(V=(A=Pe.position()).top,k=A.left):(V=parseFloat(P)||0,k=parseFloat(G)||0),Le(w)&&(w=w.call(p,C,D.extend({},K))),null!=w.top&&(ge.top=w.top-K.top+V),null!=w.left&&(ge.left=w.left-K.left+k),"using"in w?w.using.call(p,ge):Pe.css(ge)}},D.fn.extend({offset:function(p){if(arguments.length)return void 0===p?this:this.each(function(k){D.offset.setOffset(this,p,k)});var w,C,A=this[0];return A?A.getClientRects().length?{top:(w=A.getBoundingClientRect()).top+(C=A.ownerDocument.defaultView).pageYOffset,left:w.left+C.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var p,w,C,A=this[0],k={top:0,left:0};if("fixed"===D.css(A,"position"))w=A.getBoundingClientRect();else{for(w=this.offset(),C=A.ownerDocument,p=A.offsetParent||C.documentElement;p&&(p===C.body||p===C.documentElement)&&"static"===D.css(p,"position");)p=p.parentNode;p&&p!==A&&1===p.nodeType&&((k=D(p).offset()).top+=D.css(p,"borderTopWidth",!0),k.left+=D.css(p,"borderLeftWidth",!0))}return{top:w.top-k.top-D.css(A,"marginTop",!0),left:w.left-k.left-D.css(A,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=this.offsetParent;p&&"static"===D.css(p,"position");)p=p.offsetParent;return p||Zi})}}),D.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(p,w){var C="pageYOffset"===w;D.fn[p]=function(A){return fr(this,function(k,P,V){var K;if(xe(k)?K=k:9===k.nodeType&&(K=k.defaultView),void 0===V)return K?K[w]:k[P];K?K.scrollTo(C?K.pageXOffset:V,C?V:K.pageYOffset):k[P]=V},p,A,arguments.length)}}),D.each(["top","left"],function(p,w){D.cssHooks[w]=Zo(He.pixelPosition,function(C,A){if(A)return A=sr(C,w),Ns.test(A)?D(C).position()[w]+"px":A})}),D.each({Height:"height",Width:"width"},function(p,w){D.each({padding:"inner"+p,content:w,"":"outer"+p},function(C,A){D.fn[A]=function(k,P){var V=arguments.length&&(C||"boolean"!=typeof k),K=C||(!0===k||!0===P?"margin":"border");return fr(this,function(G,oe,we){var Pe;return xe(G)?0===A.indexOf("outer")?G["inner"+p]:G.document.documentElement["client"+p]:9===G.nodeType?(Pe=G.documentElement,Math.max(G.body["scroll"+p],Pe["scroll"+p],G.body["offset"+p],Pe["offset"+p],Pe["client"+p])):void 0===we?D.css(G,oe,K):D.style(G,oe,we,K)},w,V?k:void 0,V)}})}),D.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(p,w){D.fn[w]=function(C){return this.on(w,C)}}),D.fn.extend({bind:function(p,w,C){return this.on(p,null,w,C)},unbind:function(p,w){return this.off(p,null,w)},delegate:function(p,w,C,A){return this.on(w,p,C,A)},undelegate:function(p,w,C){return 1===arguments.length?this.off(p,"**"):this.off(w,p||"**",C)},hover:function(p,w){return this.mouseenter(p).mouseleave(w||p)}}),D.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(p,w){D.fn[w]=function(C,A){return arguments.length>0?this.on(w,null,C,A):this.trigger(w)}});var Za=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;D.proxy=function(p,w){var C,A,k;if("string"==typeof w&&(C=p[w],w=p,p=C),Le(p))return A=Me.call(arguments,2),k=function(){return p.apply(w||this,A.concat(Me.call(arguments)))},k.guid=p.guid=p.guid||D.guid++,k},D.holdReady=function(p){p?D.readyWait++:D.ready(!0)},D.isArray=Array.isArray,D.parseJSON=JSON.parse,D.nodeName=Ce,D.isFunction=Le,D.isWindow=xe,D.camelCase=nr,D.type=$e,D.now=Date.now,D.isNumeric=function(p){var w=D.type(p);return("number"===w||"string"===w)&&!isNaN(p-parseFloat(p))},D.trim=function(p){return null==p?"":(p+"").replace(Za,"")},void 0!==(c=function(){return D}.apply(Ze,[]))&&(Rt.exports=c);var Di=te.jQuery,Yr=te.$;return D.noConflict=function(p){return te.$===D&&(te.$=Yr),p&&te.jQuery===D&&(te.jQuery=Di),D},void 0===H&&(te.jQuery=te.$=D),D})},8306:(Rt,Ze,$)=>{"use strict";$.d(Ze,{y:()=>X});var c=$(2961),te=$(727),H=$(8822),ve=$(4671);var Ie=$(2416),Re=$(576),Te=$(2806);let X=(()=>{class Ke{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const xe=new Ke;return xe.source=this,xe.operator=Le,xe}subscribe(Le,xe,_e){const bt=function mt(Ke){return Ke&&Ke instanceof c.Lv||function de(Ke){return Ke&&(0,Re.m)(Ke.next)&&(0,Re.m)(Ke.error)&&(0,Re.m)(Ke.complete)}(Ke)&&(0,te.Nn)(Ke)}(Le)?Le:new c.Hp(Le,xe,_e);return(0,Te.x)(()=>{const{operator:yt,source:$e}=this;bt.add(yt?yt.call(bt,$e):$e?this._subscribe(bt):this._trySubscribe(bt))}),bt}_trySubscribe(Le){try{return this._subscribe(Le)}catch(xe){Le.error(xe)}}forEach(Le,xe){return new(xe=ee(xe))((_e,bt)=>{const yt=new c.Hp({next:$e=>{try{Le($e)}catch(Ve){bt(Ve),yt.unsubscribe()}},error:bt,complete:_e});this.subscribe(yt)})}_subscribe(Le){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Le)}[H.L](){return this}pipe(...Le){return function Me(Ke){return 0===Ke.length?ve.y:1===Ke.length?Ke[0]:function(Le){return Ke.reduce((xe,_e)=>_e(xe),Le)}}(Le)(this)}toPromise(Le){return new(Le=ee(Le))((xe,_e)=>{let bt;this.subscribe(yt=>bt=yt,yt=>_e(yt),()=>xe(bt))})}}return Ke.create=He=>new Ke(He),Ke})();function ee(Ke){var He;return null!==(He=null!=Ke?Ke:Ie.v.Promise)&&void 0!==He?He:Promise}},7579:(Rt,Ze,$)=>{"use strict";$.d(Ze,{x:()=>Ie});var c=$(8306),te=$(727);const ve=(0,$(3888).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=$(8737),Me=$(2806);let Ie=(()=>{class Te extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const de=new Re(this,this);return de.operator=ee,de}_throwIfClosed(){if(this.closed)throw new ve}next(ee){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(ee)}})}error(ee){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:de}=this;for(;de.length;)de.shift().error(ee)}})}complete(){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:de,isStopped:mt,observers:Ke}=this;return de||mt?te.Lc:(this.currentObservers=null,Ke.push(ee),new te.w0(()=>{this.currentObservers=null,(0,fe.P)(Ke,ee)}))}_checkFinalizedStatuses(ee){const{hasError:de,thrownError:mt,isStopped:Ke}=this;de?ee.error(mt):Ke&&ee.complete()}asObservable(){const ee=new c.y;return ee.source=this,ee}}return Te.create=(X,ee)=>new Re(X,ee),Te})();class Re extends Ie{constructor(X,ee){super(),this.destination=X,this.source=ee}next(X){var ee,de;null===(de=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===de||de.call(ee,X)}error(X){var ee,de;null===(de=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===de||de.call(ee,X)}complete(){var X,ee;null===(ee=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===ee||ee.call(X)}_subscribe(X){var ee,de;return null!==(de=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(X))&&void 0!==de?de:te.Lc}}},2961:(Rt,Ze,$)=>{"use strict";$.d(Ze,{Hp:()=>Le,Lv:()=>de});var c=$(576),te=$(727),H=$(2416),ve=$(7849);function fe(){}const Me=Te("C",void 0,void 0);function Te($e,Ve,D){return{kind:$e,value:Ve,error:D}}var X=$(3410),ee=$(2806);class de extends te.w0{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,te.Nn)(Ve)&&Ve.add(this)):this.destination=yt}static create(Ve,D,ct){return new Le(Ve,D,ct)}next(Ve){this.isStopped?bt(function Re($e){return Te("N",$e,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?bt(function Ie($e){return Te("E",void 0,$e)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?bt(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mt=Function.prototype.bind;function Ke($e,Ve){return mt.call($e,Ve)}class He{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:D}=this;if(D.next)try{D.next(Ve)}catch(ct){xe(ct)}}error(Ve){const{partialObserver:D}=this;if(D.error)try{D.error(Ve)}catch(ct){xe(ct)}else xe(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(D){xe(D)}}}class Le extends de{constructor(Ve,D,ct){let at;if(super(),(0,c.m)(Ve)||!Ve)at={next:null!=Ve?Ve:void 0,error:null!=D?D:void 0,complete:null!=ct?ct:void 0};else{let pe;this&&H.v.useDeprecatedNextContext?(pe=Object.create(Ve),pe.unsubscribe=()=>this.unsubscribe(),at={next:Ve.next&&Ke(Ve.next,pe),error:Ve.error&&Ke(Ve.error,pe),complete:Ve.complete&&Ke(Ve.complete,pe)}):at=Ve}this.destination=new He(at)}}function xe($e){H.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)($e):(0,ve.h)($e)}function bt($e,Ve){const{onStoppedNotification:D}=H.v;D&&X.z.setTimeout(()=>D($e,Ve))}const yt={closed:!0,next:fe,error:function _e($e){throw $e},complete:fe}},727:(Rt,Ze,$)=>{"use strict";$.d(Ze,{Lc:()=>Me,w0:()=>fe,Nn:()=>Ie});var c=$(576);const H=(0,$(3888).d)(Te=>function(ee){Te(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((de,mt)=>`${mt+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ve=$(8737);class fe{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Ke of ee)Ke.remove(this);else ee.remove(this);const{initialTeardown:de}=this;if((0,c.m)(de))try{de()}catch(Ke){X=Ke instanceof H?Ke.errors:[Ke]}const{_finalizers:mt}=this;if(mt){this._finalizers=null;for(const Ke of mt)try{Re(Ke)}catch(He){X=null!=X?X:[],He instanceof H?X=[...X,...He.errors]:X.push(He)}}if(X)throw new H(X)}}add(X){var ee;if(X&&X!==this)if(this.closed)Re(X);else{if(X instanceof fe){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(X)}}_hasParent(X){const{_parentage:ee}=this;return ee===X||Array.isArray(ee)&&ee.includes(X)}_addParent(X){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(X),ee):ee?[ee,X]:X}_removeParent(X){const{_parentage:ee}=this;ee===X?this._parentage=null:Array.isArray(ee)&&(0,ve.P)(ee,X)}remove(X){const{_finalizers:ee}=this;ee&&(0,ve.P)(ee,X),X instanceof fe&&X._removeParent(this)}}fe.EMPTY=(()=>{const Te=new fe;return Te.closed=!0,Te})();const Me=fe.EMPTY;function Ie(Te){return Te instanceof fe||Te&&"closed"in Te&&(0,c.m)(Te.remove)&&(0,c.m)(Te.add)&&(0,c.m)(Te.unsubscribe)}function Re(Te){(0,c.m)(Te)?Te():Te.unsubscribe()}},2416:(Rt,Ze,$)=>{"use strict";$.d(Ze,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Rt,Ze,$)=>{"use strict";$.d(Ze,{E:()=>te});const te=new($(8306).y)(fe=>fe.complete())},8996:(Rt,Ze,$)=>{"use strict";$.d(Ze,{D:()=>Ve});var c=$(8421),te=$(5363),H=$(9468),Me=$(8306),Re=$(2202),Te=$(576),X=$(9672);function de(D,ct){if(!D)throw new Error("Iterable cannot be null");return new Me.y(at=>{(0,X.f)(at,ct,()=>{const pe=D[Symbol.asyncIterator]();(0,X.f)(at,ct,()=>{pe.next().then(ue=>{ue.done?at.complete():at.next(ue.value)})},0,!0)})})}var mt=$(3670),Ke=$(8239),He=$(1144),Le=$(6495),xe=$(2206),_e=$(4532),bt=$(3260);function Ve(D,ct){return ct?function $e(D,ct){if(null!=D){if((0,mt.c)(D))return function ve(D,ct){return(0,c.Xf)(D).pipe((0,H.R)(ct),(0,te.Q)(ct))}(D,ct);if((0,He.z)(D))return function Ie(D,ct){return new Me.y(at=>{let pe=0;return ct.schedule(function(){pe===D.length?at.complete():(at.next(D[pe++]),at.closed||this.schedule())})})}(D,ct);if((0,Ke.t)(D))return function fe(D,ct){return(0,c.Xf)(D).pipe((0,H.R)(ct),(0,te.Q)(ct))}(D,ct);if((0,xe.D)(D))return de(D,ct);if((0,Le.T)(D))return function ee(D,ct){return new Me.y(at=>{let pe;return(0,X.f)(at,ct,()=>{pe=D[Re.h](),(0,X.f)(at,ct,()=>{let ue,be;try{({value:ue,done:be}=pe.next())}catch(Ce){return void at.error(Ce)}be?at.complete():at.next(ue)},0,!0)}),()=>(0,Te.m)(null==pe?void 0:pe.return)&&pe.return()})}(D,ct);if((0,bt.L)(D))return function yt(D,ct){return de((0,bt.Q)(D),ct)}(D,ct)}throw(0,_e.z)(D)}(D,ct):(0,c.Xf)(D)}},8421:(Rt,Ze,$)=>{"use strict";$.d(Ze,{Xf:()=>mt});var c=$(655),te=$(1144),H=$(8239),ve=$(8306),fe=$(3670),Me=$(2206),Ie=$(4532),Re=$(6495),Te=$(3260),X=$(576),ee=$(7849),de=$(8822);function mt($e){if($e instanceof ve.y)return $e;if(null!=$e){if((0,fe.c)($e))return function Ke($e){return new ve.y(Ve=>{const D=$e[de.L]();if((0,X.m)(D.subscribe))return D.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,te.z)($e))return function He($e){return new ve.y(Ve=>{for(let D=0;D<$e.length&&!Ve.closed;D++)Ve.next($e[D]);Ve.complete()})}($e);if((0,H.t)($e))return function Le($e){return new ve.y(Ve=>{$e.then(D=>{Ve.closed||(Ve.next(D),Ve.complete())},D=>Ve.error(D)).then(null,ee.h)})}($e);if((0,Me.D)($e))return _e($e);if((0,Re.T)($e))return function xe($e){return new ve.y(Ve=>{for(const D of $e)if(Ve.next(D),Ve.closed)return;Ve.complete()})}($e);if((0,Te.L)($e))return function bt($e){return _e((0,Te.Q)($e))}($e)}throw(0,Ie.z)($e)}function _e($e){return new ve.y(Ve=>{(function yt($e,Ve){var D,ct,at,pe;return(0,c.mG)(this,void 0,void 0,function*(){try{for(D=(0,c.KL)($e);!(ct=yield D.next()).done;)if(Ve.next(ct.value),Ve.closed)return}catch(ue){at={error:ue}}finally{try{ct&&!ct.done&&(pe=D.return)&&(yield pe.call(D))}finally{if(at)throw at.error}}Ve.complete()})})($e,Ve).catch(D=>Ve.error(D))})}},6451:(Rt,Ze,$)=>{"use strict";$.d(Ze,{T:()=>Me});var c=$(8189),te=$(8421),H=$(515),ve=$(7669),fe=$(8996);function Me(...Ie){const Re=(0,ve.yG)(Ie),Te=(0,ve._6)(Ie,1/0),X=Ie;return X.length?1===X.length?(0,te.Xf)(X[0]):(0,c.J)(Te)((0,fe.D)(X,Re)):H.E}},5403:(Rt,Ze,$)=>{"use strict";$.d(Ze,{x:()=>te});var c=$(2961);function te(ve,fe,Me,Ie,Re){return new H(ve,fe,Me,Ie,Re)}class H extends c.Lv{constructor(fe,Me,Ie,Re,Te,X){super(fe),this.onFinalize=Te,this.shouldUnsubscribe=X,this._next=Me?function(ee){try{Me(ee)}catch(de){fe.error(de)}}:super._next,this._error=Re?function(ee){try{Re(ee)}catch(de){fe.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(ee){fe.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Me}=this;super.unsubscribe(),!Me&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(Rt,Ze,$)=>{"use strict";$.d(Ze,{U:()=>H});var c=$(4482),te=$(5403);function H(ve,fe){return(0,c.e)((Me,Ie)=>{let Re=0;Me.subscribe((0,te.x)(Ie,Te=>{Ie.next(ve.call(fe,Te,Re++))}))})}},8189:(Rt,Ze,$)=>{"use strict";$.d(Ze,{J:()=>H});var c=$(5577),te=$(4671);function H(ve=1/0){return(0,c.z)(te.y,ve)}},5577:(Rt,Ze,$)=>{"use strict";$.d(Ze,{z:()=>Re});var c=$(4004),te=$(8421),H=$(4482),ve=$(9672),fe=$(5403),Ie=$(576);function Re(Te,X,ee=1/0){return(0,Ie.m)(X)?Re((de,mt)=>(0,c.U)((Ke,He)=>X(de,Ke,mt,He))((0,te.Xf)(Te(de,mt))),ee):("number"==typeof X&&(ee=X),(0,H.e)((de,mt)=>function Me(Te,X,ee,de,mt,Ke,He,Le){const xe=[];let _e=0,bt=0,yt=!1;const $e=()=>{yt&&!xe.length&&!_e&&X.complete()},Ve=ct=>_e<de?D(ct):xe.push(ct),D=ct=>{Ke&&X.next(ct),_e++;let at=!1;(0,te.Xf)(ee(ct,bt++)).subscribe((0,fe.x)(X,pe=>{null==mt||mt(pe),Ke?Ve(pe):X.next(pe)},()=>{at=!0},void 0,()=>{if(at)try{for(_e--;xe.length&&_e<de;){const pe=xe.shift();He?(0,ve.f)(X,He,()=>D(pe)):D(pe)}$e()}catch(pe){X.error(pe)}}))};return Te.subscribe((0,fe.x)(X,Ve,()=>{yt=!0,$e()})),()=>{null==Le||Le()}}(de,mt,Te,ee)))}},5363:(Rt,Ze,$)=>{"use strict";$.d(Ze,{Q:()=>ve});var c=$(9672),te=$(4482),H=$(5403);function ve(fe,Me=0){return(0,te.e)((Ie,Re)=>{Ie.subscribe((0,H.x)(Re,Te=>(0,c.f)(Re,fe,()=>Re.next(Te),Me),()=>(0,c.f)(Re,fe,()=>Re.complete(),Me),Te=>(0,c.f)(Re,fe,()=>Re.error(Te),Me)))})}},3099:(Rt,Ze,$)=>{"use strict";$.d(Ze,{B:()=>Me});var c=$(8996),te=$(5698),H=$(7579),ve=$(2961),fe=$(4482);function Me(Re={}){const{connector:Te=(()=>new H.x),resetOnError:X=!0,resetOnComplete:ee=!0,resetOnRefCountZero:de=!0}=Re;return mt=>{let Ke=null,He=null,Le=null,xe=0,_e=!1,bt=!1;const yt=()=>{null==He||He.unsubscribe(),He=null},$e=()=>{yt(),Ke=Le=null,_e=bt=!1},Ve=()=>{const D=Ke;$e(),null==D||D.unsubscribe()};return(0,fe.e)((D,ct)=>{xe++,!bt&&!_e&&yt();const at=Le=null!=Le?Le:Te();ct.add(()=>{xe--,0===xe&&!bt&&!_e&&(He=Ie(Ve,de))}),at.subscribe(ct),Ke||(Ke=new ve.Hp({next:pe=>at.next(pe),error:pe=>{bt=!0,yt(),He=Ie($e,X,pe),at.error(pe)},complete:()=>{_e=!0,yt(),He=Ie($e,ee),at.complete()}}),(0,c.D)(D).subscribe(Ke))})(mt)}}function Ie(Re,Te,...X){return!0===Te?(Re(),null):!1===Te?null:Te(...X).pipe((0,te.q)(1)).subscribe(()=>Re())}},9468:(Rt,Ze,$)=>{"use strict";$.d(Ze,{R:()=>te});var c=$(4482);function te(H,ve=0){return(0,c.e)((fe,Me)=>{Me.add(H.schedule(()=>fe.subscribe(Me),ve))})}},5698:(Rt,Ze,$)=>{"use strict";$.d(Ze,{q:()=>ve});var c=$(515),te=$(4482),H=$(5403);function ve(fe){return fe<=0?()=>c.E:(0,te.e)((Me,Ie)=>{let Re=0;Me.subscribe((0,H.x)(Ie,Te=>{++Re<=fe&&(Ie.next(Te),fe<=Re&&Ie.complete())}))})}},8505:(Rt,Ze,$)=>{"use strict";$.d(Ze,{b:()=>fe});var c=$(576),te=$(4482),H=$(5403),ve=$(4671);function fe(Me,Ie,Re){const Te=(0,c.m)(Me)||Ie||Re?{next:Me,error:Ie,complete:Re}:Me;return Te?(0,te.e)((X,ee)=>{var de;null===(de=Te.subscribe)||void 0===de||de.call(Te);let mt=!0;X.subscribe((0,H.x)(ee,Ke=>{var He;null===(He=Te.next)||void 0===He||He.call(Te,Ke),ee.next(Ke)},()=>{var Ke;mt=!1,null===(Ke=Te.complete)||void 0===Ke||Ke.call(Te),ee.complete()},Ke=>{var He;mt=!1,null===(He=Te.error)||void 0===He||He.call(Te,Ke),ee.error(Ke)},()=>{var Ke,He;mt&&(null===(Ke=Te.unsubscribe)||void 0===Ke||Ke.call(Te)),null===(He=Te.finalize)||void 0===He||He.call(Te)}))}):ve.y}},4408:(Rt,Ze,$)=>{"use strict";$.d(Ze,{o:()=>fe});var c=$(727);class te extends c.w0{constructor(Ie,Re){super()}schedule(Ie,Re=0){return this}}const H={setInterval(Me,Ie,...Re){const{delegate:Te}=H;return(null==Te?void 0:Te.setInterval)?Te.setInterval(Me,Ie,...Re):setInterval(Me,Ie,...Re)},clearInterval(Me){const{delegate:Ie}=H;return((null==Ie?void 0:Ie.clearInterval)||clearInterval)(Me)},delegate:void 0};var ve=$(8737);class fe extends te{constructor(Ie,Re){super(Ie,Re),this.scheduler=Ie,this.work=Re,this.pending=!1}schedule(Ie,Re=0){if(this.closed)return this;this.state=Ie;const Te=this.id,X=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(X,Te,Re)),this.pending=!0,this.delay=Re,this.id=this.id||this.requestAsyncId(X,this.id,Re),this}requestAsyncId(Ie,Re,Te=0){return H.setInterval(Ie.flush.bind(Ie,this),Te)}recycleAsyncId(Ie,Re,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return Re;H.clearInterval(Re)}execute(Ie,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(Ie,Re);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,Re){let X,Te=!1;try{this.work(Ie)}catch(ee){Te=!0,X=ee||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:Re}=this,{actions:Te}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(Te,this),null!=Ie&&(this.id=this.recycleAsyncId(Re,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(Rt,Ze,$)=>{"use strict";$.d(Ze,{v:()=>H});var c=$(6063);class te{constructor(fe,Me=te.now){this.schedulerActionCtor=fe,this.now=Me}schedule(fe,Me=0,Ie){return new this.schedulerActionCtor(this,fe).schedule(Ie,Me)}}te.now=c.l.now;class H extends te{constructor(fe,Me=te.now){super(fe,Me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:Me}=this;if(this._active)return void Me.push(fe);let Ie;this._active=!0;do{if(Ie=fe.execute(fe.state,fe.delay))break}while(fe=Me.shift());if(this._active=!1,Ie){for(;fe=Me.shift();)fe.unsubscribe();throw Ie}}}},4986:(Rt,Ze,$)=>{"use strict";$.d(Ze,{z:()=>H});var c=$(4408);const H=new($(7565).v)(c.o)},6063:(Rt,Ze,$)=>{"use strict";$.d(Ze,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Rt,Ze,$)=>{"use strict";$.d(Ze,{z:()=>c});const c={setTimeout(te,H,...ve){const{delegate:fe}=c;return(null==fe?void 0:fe.setTimeout)?fe.setTimeout(te,H,...ve):setTimeout(te,H,...ve)},clearTimeout(te){const{delegate:H}=c;return((null==H?void 0:H.clearTimeout)||clearTimeout)(te)},delegate:void 0}},2202:(Rt,Ze,$)=>{"use strict";$.d(Ze,{h:()=>te});const te=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Rt,Ze,$)=>{"use strict";$.d(Ze,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Rt,Ze,$)=>{"use strict";$.d(Ze,{_6:()=>Me,jO:()=>ve,yG:()=>fe});var c=$(576);function H(Ie){return Ie[Ie.length-1]}function ve(Ie){return(0,c.m)(H(Ie))?Ie.pop():void 0}function fe(Ie){return function te(Ie){return Ie&&(0,c.m)(Ie.schedule)}(H(Ie))?Ie.pop():void 0}function Me(Ie,Re){return"number"==typeof H(Ie)?Ie.pop():Re}},8737:(Rt,Ze,$)=>{"use strict";function c(te,H){if(te){const ve=te.indexOf(H);0<=ve&&te.splice(ve,1)}}$.d(Ze,{P:()=>c})},3888:(Rt,Ze,$)=>{"use strict";function c(te){const ve=te(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}$.d(Ze,{d:()=>c})},2806:(Rt,Ze,$)=>{"use strict";$.d(Ze,{O:()=>ve,x:()=>H});var c=$(2416);let te=null;function H(fe){if(c.v.useDeprecatedSynchronousErrorHandling){const Me=!te;if(Me&&(te={errorThrown:!1,error:null}),fe(),Me){const{errorThrown:Ie,error:Re}=te;if(te=null,Ie)throw Re}}else fe()}function ve(fe){c.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=fe)}},9672:(Rt,Ze,$)=>{"use strict";function c(te,H,ve,fe=0,Me=!1){const Ie=H.schedule(function(){ve(),Me?te.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(te.add(Ie),!Me)return Ie}$.d(Ze,{f:()=>c})},4671:(Rt,Ze,$)=>{"use strict";function c(te){return te}$.d(Ze,{y:()=>c})},1144:(Rt,Ze,$)=>{"use strict";$.d(Ze,{z:()=>c});const c=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(Rt,Ze,$)=>{"use strict";$.d(Ze,{D:()=>te});var c=$(576);function te(H){return Symbol.asyncIterator&&(0,c.m)(null==H?void 0:H[Symbol.asyncIterator])}},576:(Rt,Ze,$)=>{"use strict";function c(te){return"function"==typeof te}$.d(Ze,{m:()=>c})},3670:(Rt,Ze,$)=>{"use strict";$.d(Ze,{c:()=>H});var c=$(8822),te=$(576);function H(ve){return(0,te.m)(ve[c.L])}},6495:(Rt,Ze,$)=>{"use strict";$.d(Ze,{T:()=>H});var c=$(2202),te=$(576);function H(ve){return(0,te.m)(null==ve?void 0:ve[c.h])}},8239:(Rt,Ze,$)=>{"use strict";$.d(Ze,{t:()=>te});var c=$(576);function te(H){return(0,c.m)(null==H?void 0:H.then)}},3260:(Rt,Ze,$)=>{"use strict";$.d(Ze,{L:()=>ve,Q:()=>H});var c=$(655),te=$(576);function H(fe){return(0,c.FC)(this,arguments,function*(){const Ie=fe.getReader();try{for(;;){const{value:Re,done:Te}=yield(0,c.qq)(Ie.read());if(Te)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Re)}}finally{Ie.releaseLock()}})}function ve(fe){return(0,te.m)(null==fe?void 0:fe.getReader)}},4482:(Rt,Ze,$)=>{"use strict";$.d(Ze,{A:()=>te,e:()=>H});var c=$(576);function te(ve){return(0,c.m)(null==ve?void 0:ve.lift)}function H(ve){return fe=>{if(te(fe))return fe.lift(function(Me){try{return ve(Me,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Rt,Ze,$)=>{"use strict";$.d(Ze,{h:()=>H});var c=$(2416),te=$(3410);function H(ve){te.z.setTimeout(()=>{const{onUnhandledError:fe}=c.v;if(!fe)throw ve;fe(ve)})}},4532:(Rt,Ze,$)=>{"use strict";function c(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(Ze,{z:()=>c})},655:(Rt,Ze,$)=>{"use strict";function ve(ue,be){var Ce={};for(var Ee in ue)Object.prototype.hasOwnProperty.call(ue,Ee)&&be.indexOf(Ee)<0&&(Ce[Ee]=ue[Ee]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Ee=Object.getOwnPropertySymbols(ue);tt<Ee.length;tt++)be.indexOf(Ee[tt])<0&&Object.prototype.propertyIsEnumerable.call(ue,Ee[tt])&&(Ce[Ee[tt]]=ue[Ee[tt]])}return Ce}function Re(ue,be,Ce,Ee){return new(Ce||(Ce=Promise))(function(De,Jt){function Nn($t){try{Nt(Ee.next($t))}catch(bn){Jt(bn)}}function hr($t){try{Nt(Ee.throw($t))}catch(bn){Jt(bn)}}function Nt($t){$t.done?De($t.value):function tt(De){return De instanceof Ce?De:new Ce(function(Jt){Jt(De)})}($t.value).then(Nn,hr)}Nt((Ee=Ee.apply(ue,be||[])).next())})}function xe(ue){return this instanceof xe?(this.v=ue,this):new xe(ue)}function _e(ue,be,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Ee=Ce.apply(ue,be||[]),De=[];return tt={},Jt("next"),Jt("throw"),Jt("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function Jt(Gn){Ee[Gn]&&(tt[Gn]=function(Wr){return new Promise(function(Mn,cs){De.push([Gn,Wr,Mn,cs])>1||Nn(Gn,Wr)})})}function Nn(Gn,Wr){try{!function hr(Gn){Gn.value instanceof xe?Promise.resolve(Gn.value.v).then(Nt,$t):bn(De[0][2],Gn)}(Ee[Gn](Wr))}catch(Mn){bn(De[0][3],Mn)}}function Nt(Gn){Nn("next",Gn)}function $t(Gn){Nn("throw",Gn)}function bn(Gn,Wr){Gn(Wr),De.shift(),De.length&&Nn(De[0][0],De[0][1])}}function yt(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,be=ue[Symbol.asyncIterator];return be?be.call(ue):(ue=function de(ue){var be="function"==typeof Symbol&&Symbol.iterator,Ce=be&&ue[be],Ee=0;if(Ce)return Ce.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Ee>=ue.length&&(ue=void 0),{value:ue&&ue[Ee++],done:!ue}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Ce={},Ee("next"),Ee("throw"),Ee("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Ee(De){Ce[De]=ue[De]&&function(Jt){return new Promise(function(Nn,hr){!function tt(De,Jt,Nn,hr){Promise.resolve(hr).then(function(Nt){De({value:Nt,done:Nn})},Jt)}(Nn,hr,(Jt=ue[De](Jt)).done,Jt.value)})}}}$.d(Ze,{FC:()=>_e,KL:()=>yt,_T:()=>ve,mG:()=>Re,qq:()=>xe})},5e3:(Rt,Ze,$)=>{"use strict";$.d(Ze,{$8M:()=>au,$Z:()=>Wd,AFp:()=>Ih,ALo:()=>er,AaK:()=>Re,CHM:()=>ya,CRH:()=>Xc,CZH:()=>mp,CqO:()=>cv,EJc:()=>TD,EpF:()=>Ff,F4k:()=>Lf,FYo:()=>Ob,FiY:()=>Cs,G48:()=>a0,GfV:()=>Gl,Gpc:()=>ee,JOm:()=>Ae,LFG:()=>It,LSH:()=>El,Lbi:()=>DD,MAs:()=>ev,NdJ:()=>vr,OlP:()=>Dr,Oqu:()=>am,PXZ:()=>Wm,Q6J:()=>zu,QGY:()=>Qd,Qsj:()=>Fb,R0b:()=>pa,RDi:()=>P,Rgc:()=>up,SBq:()=>dh,Sil:()=>CE,Suo:()=>Jc,TTD:()=>eo,TgZ:()=>Kd,VLi:()=>rd,X6Q:()=>kD,XFs:()=>Qe,Xpm:()=>sn,Y36:()=>Pl,YKP:()=>gh,YNc:()=>Zg,Yjl:()=>ii,Yz7:()=>Mn,ZZ4:()=>xp,_Bn:()=>Bv,_UZ:()=>Of,_Vd:()=>wm,_c5:()=>BE,_uU:()=>th,aQg:()=>_0,c2e:()=>Yl,cJS:()=>kn,cg1:()=>pm,dDg:()=>nd,deG:()=>zp,dqk:()=>Cn,eFA:()=>xE,ekj:()=>rm,g9A:()=>bE,h0i:()=>Yc,hGG:()=>ny,hij:()=>$f,iGM:()=>oE,ifc:()=>gn,ip1:()=>r0,kL8:()=>pb,lG2:()=>Sn,lcZ:()=>sp,n5z:()=>_d,oAB:()=>he,oxw:()=>Ww,q4F:()=>$v,qLn:()=>Ri,qOj:()=>jg,qZA:()=>Zu,sBO:()=>kE,sIi:()=>Bc,s_b:()=>fi,soG:()=>qm,tBr:()=>Bi,tb:()=>EE,tp0:()=>Ca,uIk:()=>Y_,vHH:()=>He,vpe:()=>ka,wAp:()=>Yt,xp6:()=>MI,z2F:()=>Km,zSh:()=>Ng,zs3:()=>xa});var c=$(7579),te=$(727),H=$(8306),ve=$(6451),fe=$(3099);function Me(i){for(let s in i)if(i[s]===Me)return s;throw Error("Could not find renamed property on target object.")}function Ie(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Re(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Re).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Te(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const X=Me({__forward_ref__:Me});function ee(i){return i.__forward_ref__=ee,i.toString=function(){return Re(this())},i}function de(i){return mt(i)?i():i}function mt(i){return"function"==typeof i&&i.hasOwnProperty(X)&&i.__forward_ref__===ee}class He extends Error{constructor(s,a){super(function Le(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function xe(i){return"string"==typeof i?i:null==i?"":String(i)}function _e(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():xe(i)}function Ve(i,s){const a=s?` in ${s}`:"";throw new He(-201,`No provider for ${_e(i)} found${a}`)}function Nt(i,s){null==i&&function $t(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Mn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function kn(i){return{providers:i.providers||[],imports:i.imports||[]}}function En(i){return wr(i,ds)||wr(i,wi)}function wr(i,s){return i.hasOwnProperty(s)?i[s]:null}function pi(i){return i&&(i.hasOwnProperty(nr)||i.hasOwnProperty(bi))?i[nr]:null}const ds=Me({\u0275prov:Me}),nr=Me({\u0275inj:Me}),wi=Me({ngInjectableDef:Me}),bi=Me({ngInjectorDef:Me});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let Kn;function Nr(i){const s=Kn;return Kn=i,s}function ki(i,s,a){const l=En(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Qe.Optional?null:void 0!==s?s:void Ve(Re(i),"Injector")}function Xn(i){return{toString:i}.toString()}var ar=(()=>((ar=ar||{})[ar.OnPush=0]="OnPush",ar[ar.Default=1]="Default",ar))(),gn=(()=>{return(i=gn||(gn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",gn;var i})();const xt="undefined"!=typeof globalThis&&globalThis,qt="undefined"!=typeof window&&window,Vr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Cn=xt||"undefined"!=typeof global&&global||qt||Vr,Ur={},Ft=[],Yn=Me({\u0275cmp:Me}),Gt=Me({\u0275dir:Me}),_t=Me({\u0275pipe:Me}),Ge=Me({\u0275mod:Me}),wt=Me({\u0275fac:Me}),Lt=Me({__NG_ELEMENT_ID__:Me});let ln=0;function sn(i){return Xn(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===ar.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Ft,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||gn.Emulated,id:"c",styles:i.styles||Ft,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,g=i.features,v=i.pipes;return l.id+=ln++,l.inputs=zt(i.inputs,a),l.outputs=zt(i.outputs),g&&g.forEach(I=>I(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(W):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(ne):null,l})}function W(i){return Tn(i)||function ir(i){return i[Gt]||null}(i)}function ne(i){return function cn(i){return i[_t]||null}(i)}const Se={};function he(i){return Xn(()=>{const s={type:i.type,bootstrap:i.bootstrap||Ft,declarations:i.declarations||Ft,imports:i.imports||Ft,exports:i.exports||Ft,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Se[i.id]=i.type),s})}function zt(i,s){if(null==i)return Ur;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,s&&(s[d]=g)}return a}const Sn=sn;function ii(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Tn(i){return i[Yn]||null}function Rn(i,s){const a=i[Ge]||null;if(!a&&!0===s)throw new Error(`Type ${Re(i)} does not have '\u0275mod' property.`);return a}function lr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Ii(i){return Array.isArray(i)&&!0===i[1]}function Wo(i){return 0!=(8&i.flags)}function Js(i){return 2==(2&i.flags)}function Ba(i){return 1==(1&i.flags)}function Ir(i){return null!==i.template}function bo(i){return 0!=(512&i[2])}function si(i,s){return i.hasOwnProperty(wt)?i[wt]:null}class Io{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function eo(){return Co}function Co(i){return i.type.prototype.ngOnChanges&&(i.setInput=fd),ll}function ll(){const i=Fi(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Ur)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function fd(i,s,a,l){const d=Fi(i)||function Ci(i,s){return i[Yo]=s}(i,{previous:Ur,current:null}),g=d.current||(d.current={}),v=d.previous,I=this.declaredInputs[a],T=v[I];g[I]=new Io(T&&T.currentValue,s,v===Ur),i[l]=s}eo.ngInherit=!0;const Yo="__ngSimpleChanges__";function Fi(i){return i[Yo]||null}const w="math";let k;function P(i){k=i}function G(i){return!!i.listen}const oe={createRenderer:(i,s)=>function V(){return void 0!==k?k:"undefined"!=typeof document?document:void 0}()};function Pe(i){for(;Array.isArray(i);)i=i[0];return i}function Et(i,s){return Pe(s[i])}function Mt(i,s){return Pe(s[i.index])}function rr(i,s){return i.data[s]}function Pn(i,s){return i[s]}function zn(i,s){const a=s[i];return lr(a)?a:a[0]}function Dn(i){return 4==(4&i[2])}function Vt(i){return 128==(128&i[2])}function Xt(i,s){return null==s?null:i[s]}function On(i){i[18]=0}function Li(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const kt={lFrame:$r(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qi(){return kt.bindingsEnabled}function qe(){return kt.lFrame.lView}function en(){return kt.lFrame.tView}function ya(i){return kt.lFrame.contextLView=i,i[8]}function jt(){let i=Vi();for(;null!==i&&64===i.type;)i=i.parent;return i}function Vi(){return kt.lFrame.currentTNode}function oi(i,s){const a=kt.lFrame;a.currentTNode=i,a.isParent=s}function Tu(){return kt.lFrame.isParent}function Ka(){return kt.isInCheckNoChangesMode}function to(i){kt.isInCheckNoChangesMode=i}function no(){return kt.lFrame.bindingIndex++}function Xo(i,s){const a=kt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ti(s)}function Ti(i){kt.lFrame.currentDirectiveIndex=i}function Ja(){return kt.lFrame.currentQueryIndex}function Xa(i){kt.lFrame.currentQueryIndex=i}function dl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function jn(i,s,a){if(a&Qe.SkipSelf){let d=s,g=i;for(;!(d=d.parent,null!==d||a&Qe.Host||(d=dl(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;s=d,i=g}const l=kt.lFrame=Ui();return l.currentTNode=s,l.lView=i,!0}function _s(i){const s=Ui(),a=i[1];kt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Ui(){const i=kt.lFrame,s=null===i?null:i.child;return null===s?$r(i):s}function $r(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function eu(){const i=kt.lFrame;return kt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Au=eu;function Ao(){const i=eu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function cr(){return kt.lFrame.selectedIndex}function vs(i){kt.lFrame.selectedIndex=i}function or(){const i=kt.lFrame;return rr(i.tView,i.selectedIndex)}function es(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:T,ngAfterViewChecked:N,ngOnDestroy:O}=g;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),I&&((i.contentHooks||(i.contentHooks=[])).push(a,I),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,I)),T&&(i.viewHooks||(i.viewHooks=[])).push(-a,T),N&&((i.viewHooks||(i.viewHooks=[])).push(a,N),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,N)),null!=O&&(i.destroyHooks||(i.destroyHooks=[])).push(a,O)}}function va(i,s,a){re(i,s,3,a)}function B(i,s,a,l){(3&i[2])===a&&re(i,s,a,l)}function Z(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function re(i,s,a,l){const g=null!=l?l:-1,v=s.length-1;let I=0;for(let T=void 0!==l?65535&i[18]:0;T<v;T++)if("number"==typeof s[T+1]){if(I=s[T],null!=l&&I>=l)break}else s[T]<0&&(i[18]+=65536),(I<g||-1==g)&&(Ue(i,a,s,T),i[18]=(4294901760&i[18])+T+2),T++}function Ue(i,s,a,l){const d=a[l]<0,g=a[l+1],I=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{g.call(I)}finally{}}}else try{g.call(I)}finally{}}class je{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Je(i,s,a){const l=G(i);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const v=a[d++],I=a[d++],T=a[d++];l?i.setAttribute(s,I,T,v):s.setAttributeNS(v,I,T)}else{const v=g,I=a[++d];qn(v)?l&&i.setProperty(s,v,I):l?i.setAttribute(s,v,I):s.setAttribute(v,I),d++}}return d}function An(i){return 3===i||4===i||6===i}function qn(i){return 64===i.charCodeAt(0)}function Jn(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||Hn(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function Hn(i,s,a,l,d){let g=0,v=i.length;if(-1===s)v=-1;else for(;g<i.length;){const I=i[g++];if("number"==typeof I){if(I===s){v=-1;break}if(I>s){v=g-1;break}}}for(;g<i.length;){const I=i[g];if("number"==typeof I)break;if(I===a){if(null===l)return void(null!==d&&(i[g+1]=d));if(l===i[g+1])return void(i[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(i.splice(v,0,s),g=v+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==d&&i.splice(g++,0,d)}function ta(i){return-1!==i}function Fn(i){return 32767&i}function Os(i,s){let a=function Ai(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let fl=!0;function ws(i){const s=fl;return fl=i,s}let md=0;function Or(i,s){const a=ru(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,So(l.data,i),So(s,null),So(l.blueprint,null));const d=bs(i,s),g=i.injectorIndex;if(ta(d)){const v=Fn(d),I=Os(d,s),T=I[1].data;for(let N=0;N<8;N++)s[g+N]=I[v+N]|T[v+N]}return s[g+8]=d,g}function So(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ru(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function bs(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const g=d[1],v=g.type;if(l=2===v?g.declTNode:1===v?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function na(i,s,a){!function wa(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Lt)&&(l=a[Lt]),null==l&&(l=a[Lt]=md++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function io(i,s,a){if(a&Qe.Optional)return i;Ve(s,"NodeInjector")}function hc(i,s,a,l){if(a&Qe.Optional&&void 0===l&&(l=null),0==(a&(Qe.Self|Qe.Host))){const d=i[9],g=Nr(void 0);try{return d?d.get(s,l,a&Qe.Optional):ki(s,l,a&Qe.Optional)}finally{Nr(g)}}return io(l,s,a)}function ra(i,s,a,l=Qe.Default,d){if(null!==i){const g=function su(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Lt)?i[Lt]:void 0;return"number"==typeof s?s>=0?255&s:fc:s}(a);if("function"==typeof g){if(!jn(s,i,l))return l&Qe.Host?io(d,a,l):hc(s,a,l,d);try{const v=g(l);if(null!=v||l&Qe.Optional)return v;Ve(a)}finally{Au()}}else if("number"==typeof g){let v=null,I=ru(i,s),T=-1,N=l&Qe.Host?s[16][6]:null;for((-1===I||l&Qe.SkipSelf)&&(T=-1===I?bs(i,s):s[I+8],-1!==T&&Si(l,!1)?(v=s[1],I=Fn(T),s=Os(T,s)):I=-1);-1!==I;){const O=s[1];if(ou(g,I,O.data)){const q=yd(I,s,a,v,l,N);if(q!==so)return q}T=s[I+8],-1!==T&&Si(l,s[1].data[I+8]===N)&&ou(g,I,s)?(v=O,I=Fn(T),s=Os(T,s)):I=-1}}}return hc(s,a,l,d)}const so={};function fc(){return new Ls(jt(),qe())}function yd(i,s,a,l,d,g){const v=s[1],I=v.data[i+8],O=iu(I,v,a,null==l?Js(I)&&fl:l!=v&&0!=(3&I.type),d&Qe.Host&&g===I);return null!==O?Fs(s,v,O,I):so}function iu(i,s,a,l,d){const g=i.providerIndexes,v=s.data,I=1048575&g,T=i.directiveStart,O=g>>20,J=d?I+O:i.directiveEnd;for(let ce=l?I:I+O;ce<J;ce++){const Be=v[ce];if(ce<T&&a===Be||ce>=T&&Be.type===a)return ce}if(d){const ce=v[T];if(ce&&Ir(ce)&&ce.type===a)return T}return null}function Fs(i,s,a,l){let d=i[a];const g=s.data;if(function We(i){return i instanceof je}(d)){const v=d;v.resolving&&function bt(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new He(-200,`Circular dependency in DI detected for ${i}${a}`)}(_e(g[a]));const I=ws(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Nr(v.injectImpl):null;jn(i,l,Qe.Default);try{d=i[a]=v.factory(void 0,g,i,l),s.firstCreatePass&&a>=l.directiveStart&&function _a(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=s.type.prototype;if(l){const v=Co(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==T&&Nr(T),ws(I),v.resolving=!1,Au()}}return d}function ou(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Si(i,s){return!(i&Qe.Self||i&Qe.Host&&s)}class Ls{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return ra(this._tNode,this._lView,s,l,a)}}function _d(i){return Xn(()=>{const s=i.prototype.constructor,a=s[wt]||yr(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const g=d[wt]||yr(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function yr(i){return mt(i)?()=>{const s=yr(de(i));return s&&s()}:si(i)}function au(i){return function xu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(An(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===s)return a[d+1];d+=2}}}return null}(jt(),i)}const uu="__parameters__";function Cr(i,s,a){return Xn(()=>{const l=function oo(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return I.annotation=v,I;function I(T,N,O){const q=T.hasOwnProperty(uu)?T[uu]:Object.defineProperty(T,uu,{value:[]})[uu];for(;q.length<=O;)q.push(null);return(q[O]=q[O]||[]).push(v),T}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Dr{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Mn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zp=new Dr("AnalyzeForEntryComponents");function mi(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),mi(l,s)):s!==i&&s.push(l)}return s}function Es(i,s){i.forEach(a=>Array.isArray(a)?Es(a,s):s(a))}function mc(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ro(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Xr(i,s,a){let l=aa(i,s);return l>=0?i[1|l]=a:(l=~l,function yc(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function wc(i,s){const a=aa(i,s);if(a>=0)return i[1|a]}function aa(i,s){return function ba(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const g=l+(d-l>>1),v=i[g<<a];if(s===v)return g<<a;v>s?d=g:l=g+1}return~(d<<a)}(i,s,1)}const Ea={},cu="__NG_DI_FLAG__",yl="ngTempTokenPath",M=/\n/gm,z="__source",le=Me({provide:String,useValue:Me});let me;function Xe(i){const s=me;return me=i,s}function et(i,s=Qe.Default){if(void 0===me)throw new He(203,"");return null===me?ki(i,void 0,s):me.get(i,s&Qe.Optional?null:void 0,s)}function It(i,s=Qe.Default){return(function Lr(){return Kn}()||et)(de(i),s)}const yn=It;function an(i){const s=[];for(let a=0;a<i.length;a++){const l=de(i[a]);if(Array.isArray(l)){if(0===l.length)throw new He(900,"");let d,g=Qe.Default;for(let v=0;v<l.length;v++){const I=l[v],T=Tr(I);"number"==typeof T?-1===T?d=I.token:g|=T:d=I}s.push(It(d,g))}else s.push(It(l))}return s}function Gr(i,s){return i[cu]=s,i.prototype[cu]=s,i}function Tr(i){return i[cu]}const Bi=Gr(Cr("Inject",i=>({token:i})),-1),Cs=Gr(Cr("Optional"),8),Ca=Gr(Cr("SkipSelf"),4);class Sd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ua(i){return i instanceof Sd?i.changingThisBreaksApplicationSecurity:i}const la=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Zn=(()=>((Zn=Zn||{})[Zn.NONE=0]="NONE",Zn[Zn.HTML=1]="HTML",Zn[Zn.STYLE=2]="STYLE",Zn[Zn.SCRIPT=3]="SCRIPT",Zn[Zn.URL=4]="URL",Zn[Zn.RESOURCE_URL=5]="RESOURCE_URL",Zn))();function El(i){const s=function gu(){const i=qe();return i&&i[12]}();return s?s.sanitize(Zn.URL,i)||"":function fu(i,s){const a=function vl(i){return i instanceof Sd&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?ua(i):function wl(i){return(i=String(i)).match(la)||i.match(Gh)?i:"unsafe:"+i}(xe(i))}const tf="__ngContext__";function ji(i,s){i[tf]=s}function nf(i){const s=function Pu(i){return i[tf]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Lu(i){return i.ngOriginalError}function ug(i,...s){i.error(...s)}class Ri{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function $y(i){return i&&i.ngErrorLogger||ug}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Lu(s);for(;a&&Lu(a);)a=Lu(a);return a||null}}const Zy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Cn))();function m(i){return i instanceof Function?i():i}var Ae=(()=>((Ae=Ae||{})[Ae.Important=1]="Important",Ae[Ae.DashCase=2]="DashCase",Ae))();function Ct(i,s){return undefined(i,s)}function Ar(i){const s=i[3];return Ii(s)?s[3]:s}function Il(i){return hf(i[13])}function Cl(i){return hf(i[4])}function hf(i){for(;null!==i&&!Ii(i);)i=i[4];return i}function mu(i,s,a,l,d){if(null!=l){let g,v=!1;Ii(l)?g=l:lr(l)&&(v=!0,l=l[0]);const I=Pe(l);0===i&&null!==a?null==d?e_(s,a,I):ko(s,a,I,d||null,!0):1===i&&null!==a?ko(s,a,I,d||null,!0):2===i?function i_(i,s,a){const l=gf(i,s);l&&function bI(i,s,a,l){G(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,I,v):3===i&&s.destroyNode(I),null!=g&&function CI(i,s,a,l,d){const g=a[7];g!==Pe(a)&&mu(s,i,l,g,d);for(let I=10;I<a.length;I++){const T=a[I];pg(T[1],T,i,s,l,g)}}(s,i,g,a,d)}}function Fd(i,s,a){if(G(i))return i.createElement(s,a);{const l=null!==a?function A(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":s===w?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function H0(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Li(d,-1)),a.splice(l,1)}function Qy(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&H0(d,l),s>0&&(i[a-1][4]=l[4]);const g=Ro(i,10+s);!function yi(i,s){pg(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Jy(i,s){if(!(256&s[2])){const a=s[11];G(a)&&a.destroyNode&&pg(i,s,a,3,null,null),function Yy(i){let s=i[13];if(!s)return Xy(i[1],i);for(;s;){let a=null;if(lr(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)lr(s)&&Xy(s[1],s),s=s[3];null===s&&(s=i),lr(s)&&Xy(s[1],s),a=s&&s[4]}s=a}}(s)}}function Xy(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function q0(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof je)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=d[g[v]],T=g[v+1];try{T.call(I)}finally{}}else try{g.call(d)}finally{}}}}(i,s),function $0(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],I="function"==typeof v?v(s):Pe(s[v]),T=l[d=a[g+2]],N=a[g+3];"boolean"==typeof N?I.removeEventListener(a[g],T,N):N>=0?l[d=N]():l[d=-N].unsubscribe(),g+=2}else{const v=l[d=a[g+1]];a[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();s[7]=null}}(i,s),1===s[1].type&&G(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Ii(s[3])){a!==s[3]&&H0(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function hg(i,s,a){return function wI(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===gn.None||d===gn.Emulated)return null}return Mt(l,a)}(i,s.parent,a)}function ko(i,s,a,l,d){G(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function e_(i,s,a){G(i)?i.appendChild(s,a):s.appendChild(a)}function G0(i,s,a,l,d){null!==l?ko(i,s,a,l,d):e_(i,s,a)}function gf(i,s){return G(i)?i.parentNode(s):s.parentNode}let t_=function Z0(i,s,a){return 40&i.type?Mt(i,a):null};function fg(i,s,a,l){const d=hg(i,l,s),g=s[11],I=function z0(i,s,a){return t_(i,s,a)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let T=0;T<a.length;T++)G0(g,d,a[T],I,!1);else G0(g,d,a,I,!1)}function Vd(i,s){if(null!==s){const a=s.type;if(3&a)return Mt(s,i);if(4&a)return r_(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Vd(i,l);{const d=i[s.index];return Ii(d)?r_(-1,d):Pe(d)}}if(32&a)return Ct(s,i)()||Pe(i[s.index]);{const l=K0(i,s);return null!==l?Array.isArray(l)?l[0]:Vd(Ar(i[16]),l):Vd(i,s.next)}}return null}function K0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function r_(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return Vd(l,d)}return s[7]}function s_(i,s,a,l,d,g,v){for(;null!=a;){const I=l[a.index],T=a.type;if(v&&0===s&&(I&&ji(Pe(I),l),a.flags|=4),64!=(64&a.flags))if(8&T)s_(i,s,a.child,l,d,g,!1),mu(s,i,d,I,g);else if(32&T){const N=Ct(a,l);let O;for(;O=N();)mu(s,i,d,O,g);mu(s,i,d,I,g)}else 16&T?mf(i,s,l,a,d,g):mu(s,i,d,I,g);a=v?a.projectionNext:a.next}}function pg(i,s,a,l,d,g){s_(a,l,i.firstChild,s,d,g,!1)}function mf(i,s,a,l,d,g){const v=a[16],T=v[6].projection[l.projection];if(Array.isArray(T))for(let N=0;N<T.length;N++)mu(s,i,d,T[N],g);else s_(i,s,T,v[3],d,g,!0)}function Y0(i,s,a){G(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Ud(i,s,a){G(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Q0(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const g=s.length;if(d+g===l||i.charCodeAt(d+g)<=32)return d}a=d+1}}const J0="ng-template";function X0(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==Q0(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function o_(i){return 4===i.type&&i.value!==J0}function a_(i,s,a){return s===(4!==i.type||a?i.value:J0)}function Fr(i,s,a){let l=4;const d=i.attrs||[],g=function MA(i){for(let s=0;s<i.length;s++)if(An(i[s]))return s;return i.length}(d);let v=!1;for(let I=0;I<s.length;I++){const T=s[I];if("number"!=typeof T){if(!v)if(4&l){if(l=2|1&l,""!==T&&!a_(i,T,a)||""===T&&1===s.length){if(Sr(l))return!1;v=!0}}else{const N=8&l?T:s[++I];if(8&l&&null!==i.attrs){if(!X0(i.attrs,N,a)){if(Sr(l))return!1;v=!0}continue}const q=ew(8&l?"class":T,d,o_(i),a);if(-1===q){if(Sr(l))return!1;v=!0;continue}if(""!==N){let J;J=q>g?"":d[q+1].toLowerCase();const ce=8&l?J:null;if(ce&&-1!==Q0(ce,N,0)||2&l&&N!==J){if(Sr(l))return!1;v=!0}}}}else{if(!v&&!Sr(l)&&!Sr(T))return!1;if(v&&Sr(T))continue;v=!1,l=T|1&l}}return Sr(l)||v}function Sr(i){return 0==(1&i)}function ew(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let g=!1;for(;d<s.length;){const v=s[d];if(v===i)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=s[++d];for(;"string"==typeof I;)I=s[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function TI(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function yf(i,s,a=!1){for(let l=0;l<s.length;l++)if(Fr(i,s[l],a))return!0;return!1}function AI(i,s){return i?":not("+s.trim()+")":s}function RA(i){let s=i[0],a=1,l=2,d="",g=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&l){const I=i[++a];d+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!Sr(v)&&(s+=AI(g,d),d=""),l=v,g=g||!Sr(l);a++}return""!==d&&(s+=AI(g,d)),s}const vn={};function MI(i){RI(en(),qe(),cr()+i,Ka())}function RI(i,s,a,l){if(!l)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&va(s,g,a)}else{const g=i.preOrderHooks;null!==g&&B(s,g,0,a)}vs(a)}function l_(i,s){return i<<17|s<<2}function yu(i){return i>>17&32767}function Po(i){return 2|i}function fo(i){return(131068&i)>>2}function nn(i,s){return-131069&i|s<<2}function gg(i){return 1|i}function uw(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const v=i.data[g];Xa(d),v.contentQueries(2,s[g],g)}}}function jd(i,s,a,l,d,g,v,I,T,N){const O=s.blueprint.slice();return O[0]=d,O[2]=140|l,On(O),O[3]=O[15]=i,O[8]=a,O[10]=v||i&&i[10],O[11]=I||i&&i[11],O[12]=T||i&&i[12]||null,O[9]=N||i&&i[9]||null,O[6]=g,O[16]=2==s.type?i[16]:O,O}function Tl(i,s,a,l,d){let g=i.data[s];if(null===g)g=function m_(i,s,a,l,d){const g=Vi(),v=Tu(),T=i.data[s]=function $I(i,s,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(i,s,a,l,d),function To(){return kt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const v=function Do(){const i=kt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return oi(g,!0),g}function Hd(i,s,a,l){if(0===a)return-1;const d=s.length;for(let g=0;g<a;g++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function bf(i,s,a){_s(s);try{const l=i.viewQuery;null!==l&&A_(1,l,a);const d=i.template;null!==d&&Ig(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&uw(i,s),i.staticViewQueries&&A_(2,i.viewQuery,a);const g=i.components;null!==g&&function lw(i,s){for(let a=0;a<s.length;a++)XI(i,s[a])}(s,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Ao()}}function Bu(i,s,a,l){const d=s[2];if(256==(256&d))return;_s(s);const g=Ka();try{On(s),function Ya(i){return kt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Ig(i,s,a,2,l);const v=3==(3&d);if(!g)if(v){const N=i.preOrderCheckHooks;null!==N&&va(s,N,null)}else{const N=i.preOrderHooks;null!==N&&B(s,N,0,null),Z(s,0)}if(function JI(i){for(let s=Il(i);null!==s;s=Cl(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(1024&d[2])&&Li(g,1),d[2]|=1024}}}(s),function $A(i){for(let s=Il(i);null!==s;s=Cl(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];Vt(l)&&Bu(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&uw(i,s),!g)if(v){const N=i.contentCheckHooks;null!==N&&va(s,N)}else{const N=i.contentHooks;null!==N&&B(s,N,1),Z(s,1)}!function aw(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)vs(~d);else{const g=d,v=a[++l],I=a[++l];Xo(v,g),I(2,s[g])}}}finally{vs(-1)}}(i,s);const I=i.components;null!==I&&function g_(i,s){for(let a=0;a<s.length;a++)qA(i,s[a])}(s,I);const T=i.viewQuery;if(null!==T&&A_(2,T,l),!g)if(v){const N=i.viewCheckHooks;null!==N&&va(s,N)}else{const N=i.viewHooks;null!==N&&B(s,N,2),Z(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Li(s[3],-1))}finally{Ao()}}function y_(i,s,a,l){const d=s[10],g=!Ka(),v=Dn(s);try{g&&!v&&d.begin&&d.begin(),v&&bf(i,s,l),Bu(i,s,a,l)}finally{g&&!v&&d.end&&d.end()}}function Ig(i,s,a,l,d){const g=cr(),v=2&l;try{vs(-1),v&&s.length>20&&RI(i,s,20,Ka()),a(l,d)}finally{vs(g)}}function Dg(i,s,a){!Qi()||(function _w(i,s,a,l){const d=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Or(a,s),ji(l,s);const v=a.initialInputs;for(let I=d;I<g;I++){const T=i.data[I],N=Ir(T);N&&bw(s,a,T);const O=Fs(s,i,I,a);ji(O,s),null!==v&&E_(0,I-d,O,T,0,v),N&&(zn(a.index,s)[8]=O)}}(i,s,a,Mt(a,s)),128==(128&a.flags)&&function vw(i,s,a){const l=a.directiveStart,d=a.directiveEnd,v=a.index,I=function Xi(){return kt.lFrame.currentDirectiveIndex}();try{vs(v);for(let T=l;T<d;T++){const N=i.data[T],O=s[T];Ti(T),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&WI(N,O)}}finally{vs(-1),Ti(I)}}(i,s,a))}function __(i,s,a=Mt){const l=s.localNames;if(null!==l){let d=s.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],I=-1===v?a(s,i):i[v];i[d++]=I}}}function v_(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Lc(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Lc(i,s,a,l,d,g,v,I,T,N){const O=20+l,q=O+d,J=function HI(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:vn);return a}(O,q),ce="function"==typeof N?N():N;return J[1]={type:i,blueprint:J,template:a,queries:null,viewQuery:I,declTNode:s,data:J.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:ce,incompleteFirstPass:!1}}function hw(i,s,a,l){const d=S_(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&x_(i).push(l,d.length-1))}function fw(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function Ag(i,s,a,l){let d=!1;if(Qi()){const g=function KI(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];yf(a,v.selectors,!1)&&(d||(d=[]),na(Or(a,s),i,v.type),Ir(v)?(YI(i,a),d.unshift(v)):d.push(v))}return d}(i,s,a),v=null===l?null:{"":-1};if(null!==g){d=!0,QI(a,i.data.length,g.length);for(let O=0;O<g.length;O++){const q=g[O];q.providersResolver&&q.providersResolver(q)}let I=!1,T=!1,N=Hd(i,s,g.length,null);for(let O=0;O<g.length;O++){const q=g[O];a.mergedAttrs=Jn(a.mergedAttrs,q.hostAttrs),ww(i,a,s,N,q),b_(N,q,v),null!==q.contentQueries&&(a.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(a.flags|=128);const J=q.type.prototype;!I&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),I=!0),!T&&(J.ngOnChanges||J.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),T=!0),N++}!function qI(i,s){const l=s.directiveEnd,d=i.data,g=s.attrs,v=[];let I=null,T=null;for(let N=s.directiveStart;N<l;N++){const O=d[N],q=O.inputs,J=null===g||o_(s)?null:xg(q,g);v.push(J),I=fw(q,N,I),T=fw(O.outputs,N,T)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=16),I.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=I,s.outputs=T}(i,a)}v&&function HA(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const g=a[s[d+1]];if(null==g)throw new He(-301,!1);l.push(s[d],g)}}}(a,l,v)}return a.mergedAttrs=Jn(a.mergedAttrs,a.attrs),d}function w_(i,s,a,l,d,g){const v=g.hostBindings;if(v){let I=i.hostBindingOpCodes;null===I&&(I=i.hostBindingOpCodes=[]);const T=~s.index;(function yw(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=T&&I.push(T),I.push(l,d,v)}}function WI(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function YI(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function b_(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Ir(s)&&(a[""]=i)}}function QI(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function ww(i,s,a,l,d){i.data[l]=d;const g=d.factory||(d.factory=si(d.type)),v=new je(g,Ir(d),null);i.blueprint[l]=v,a[l]=v,w_(i,s,0,l,Hd(i,a,d.hostVars,vn),d)}function bw(i,s,a){const l=Mt(s,i),d=v_(a),g=i[10],v=C_(i,jd(i,d,null,a.onPush?64:16,l,s,g,g.createRenderer(l,a),null,null));i[s.index]=v}function _u(i,s,a,l,d,g){const v=Mt(i,s);!function Sg(i,s,a,l,d,g,v){if(null==g)G(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const I=null==v?xe(g):v(g,l||"",d);G(i)?i.setAttribute(s,d,I,a):a?s.setAttributeNS(a,d,I):s.setAttribute(d,I)}}(s[11],v,g,i.value,a,l,d)}function E_(i,s,a,l,d,g){const v=g[s];if(null!==v){const I=l.setInput;for(let T=0;T<v.length;){const N=v[T++],O=v[T++],q=v[T++];null!==I?l.setInput(a,q,N,O):a[O]=q}}}function xg(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Mg(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function qA(i,s){const a=zn(s,i);if(Vt(a)){const l=a[1];80&a[2]?Bu(l,a,l.template,a[8]):a[5]>0&&I_(a)}}function I_(i){for(let l=Il(i);null!==l;l=Cl(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const v=g[1];Bu(v,g,v.template,g[8])}else g[5]>0&&I_(g)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=zn(a[l],i);Vt(d)&&d[5]>0&&I_(d)}}function XI(i,s){const a=zn(s,i),l=a[1];(function GA(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),bf(l,a,a[8])}function C_(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function D_(i){for(;i;){i[2]|=64;const s=Ar(i);if(bo(i)&&!s)return i;i=s}return null}function Iw(i,s,a){const l=s[10];l.begin&&l.begin();try{Bu(i,s,i.template,a)}catch(d){throw R_(s,d),d}finally{l.end&&l.end()}}function eC(i){!function Ew(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=nf(a),d=l[1];y_(d,l,d.template,a)}}(i[8])}function A_(i,s,a){Xa(0),s(i,a)}const Cw=(()=>Promise.resolve(null))();function S_(i){return i[7]||(i[7]=[])}function x_(i){return i.cleanup||(i.cleanup=[])}function R_(i,s){const a=i[9],l=a?a.get(Ri,null):null;l&&l.handleError(s)}function N_(i,s,a,l,d){for(let g=0;g<a.length;){const v=a[g++],I=a[g++],T=s[v],N=i.data[v];null!==N.setInput?N.setInput(T,d,l,I):T[I]=d}}function Fo(i,s,a){const l=Et(s,i);!function Od(i,s,a){G(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function Rg(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,g=0;if(null!==s)for(let v=0;v<s.length;v++){const I=s[v];"number"==typeof I?g=I:1==g?d=Te(d,I):2==g&&(l=Te(l,I+": "+s[++v]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const P_=new Dr("INJECTOR",-1);class nC{get(s,a=Ea){if(a===Ea){const l=new Error(`NullInjectorError: No provider for ${Re(s)}!`);throw l.name="NullInjectorError",l}return a}}const Ng=new Dr("Set Injector scope."),Ef={},ju={};let Dt;function kg(){return void 0===Dt&&(Dt=new nC),Dt}function hn(i,s=null,a=null,l){const d=If(i,s,a,l);return d._resolveInjectorDefTypes(),d}function If(i,s=null,a=null,l){return new O_(i,a,s||kg(),l)}class O_{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&Es(a,I=>this.processProvider(I,s,a)),Es([s],I=>this.processInjectorType(I,[],g)),this.records.set(P_,$d(void 0,this));const v=this.records.get(Ng);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof s?null:Re(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Ea,l=Qe.Default){this.assertNotDestroyed();const d=Xe(this),g=Nr(void 0);try{if(!(l&Qe.SkipSelf)){let I=this.records.get(s);if(void 0===I){const T=function Sw(i){return"function"==typeof i||"object"==typeof i&&i instanceof Dr}(s)&&En(s);I=T&&this.injectableDefInScope(T)?$d(Vc(s),Ef):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(l&Qe.Self?kg():this.parent).get(s,a=l&Qe.Optional&&a===Ea?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[yl]=v[yl]||[]).unshift(Re(s)),d)throw v;return function du(i,s,a,l){const d=i[yl];throw s[z]&&d.unshift(s[z]),i.message=function Ia(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=Re(s);if(Array.isArray(s))d=s.map(Re).join(" -> ");else if("object"==typeof s){let g=[];for(let v in s)if(s.hasOwnProperty(v)){let I=s[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):Re(I)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(M,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[yl]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{Nr(g),Xe(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(Re(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processInjectorType(s,a,l){if(!(s=de(s)))return!1;let d=pi(s);const g=null==d&&s.ngModule||void 0,v=void 0===g?s:g,I=-1!==l.indexOf(v);if(void 0!==g&&(d=pi(g)),null==d)return!1;if(null!=d.imports&&!I){let O;l.push(v);try{Es(d.imports,q=>{this.processInjectorType(q,a,l)&&(void 0===O&&(O=[]),O.push(q))})}finally{}if(void 0!==O)for(let q=0;q<O.length;q++){const{ngModule:J,providers:ce}=O[q];Es(ce,Be=>this.processProvider(Be,J,ce||Ft))}}this.injectorDefTypes.add(v);const T=si(v)||(()=>new v);this.records.set(v,$d(T,Ef));const N=d.providers;if(null!=N&&!I){const O=s;Es(N,q=>this.processProvider(q,O,N))}return void 0!==g&&void 0!==s.providers}processProvider(s,a,l){let d=ei(s=de(s))?s:de(s&&s.provide);const g=function F_(i,s,a){return Aw(i)?$d(void 0,i.useValue):$d(Tw(i),Ef)}(s);if(ei(s)||!0!==s.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=$d(void 0,Ef,!0),v.factory=()=>an(v.multi),this.records.set(d,v)),d=s,v.multi.push(s)}this.records.set(d,g)}hydrate(s,a){return a.value===Ef&&(a.value=ju,a.value=a.factory()),"object"==typeof a.value&&a.value&&function sC(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=de(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Vc(i){const s=En(i),a=null!==s?s.factory:si(i);if(null!==a)return a;if(i instanceof Dr)throw new He(204,!1);if(i instanceof Function)return function rC(i){const s=i.length;if(s>0)throw function Us(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new He(204,!1);const a=function fr(i){const s=i&&(i[ds]||i[wi]);if(s){const a=function Zs(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new He(204,!1)}function Tw(i,s,a){let l;if(ei(i)){const d=de(i);return si(d)||Vc(d)}if(Aw(i))l=()=>de(i.useValue);else if(function Pg(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...an(i.deps||[]));else if(function rs(i){return!(!i||!i.useExisting)}(i))l=()=>It(de(i.useExisting));else{const d=de(i&&(i.useClass||i.provide));if(!function iC(i){return!!i.deps}(i))return si(d)||Vc(d);l=()=>new d(...an(i.deps))}return l}function $d(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Aw(i){return null!==i&&"object"==typeof i&&le in i}function ei(i){return"function"==typeof i}let xa=(()=>{class i{static create(a,l){var d;if(Array.isArray(a))return hn({name:""},l,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return hn({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=Ea,i.NULL=new nC,i.\u0275prov=Mn({token:i,providedIn:"any",factory:()=>It(P_)}),i.__NG_ELEMENT_ID__=-1,i})();function uC(i,s){es(nf(i)[1],jt())}function jg(i){let s=function Bg(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(Ir(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new He(903,"");d=s.\u0275dir}if(d){if(a){l.push(d);const v=i;v.inputs=z_(i.inputs),v.declaredInputs=z_(i.declaredInputs),v.outputs=z_(i.outputs);const I=d.hostBindings;I&&cC(i,I);const T=d.viewQuery,N=d.contentQueries;if(T&&Ts(i,T),N&&Df(i,N),Ie(i.inputs,d.inputs),Ie(i.declaredInputs,d.declaredInputs),Ie(i.outputs,d.outputs),Ir(d)&&d.data.animation){const O=i.data;O.animation=(O.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(i),I===jg&&(a=!1)}}s=Object.getPrototypeOf(s)}!function lC(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Jn(d.hostAttrs,a=Jn(a,d.hostAttrs))}}(l)}function z_(i){return i===Ur?{}:i===Ft?[]:i}function Ts(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function Df(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,g)=>{s(l,d,g),a(l,d,g)}:s}function cC(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let Uc=null;function Hu(){if(!Uc){const i=Cn.Symbol;if(i&&i.iterator)Uc=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Uc=l)}}}return Uc}function Bc(i){return!!Hg(i)&&(Array.isArray(i)||!(i instanceof Map)&&Hu()in i)}function Hg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function is(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Y_(i,s,a,l){const d=qe();return is(d,no(),s)&&(en(),_u(or(),d,i,s,a,l)),Y_}function Zg(i,s,a,l,d,g,v,I){const T=qe(),N=en(),O=i+20,q=N.firstCreatePass?function zg(i,s,a,l,d,g,v,I,T){const N=s.consts,O=Tl(s,i,4,v||null,Xt(N,I));Ag(s,a,O,Xt(N,T)),es(s,O);const q=O.tViews=Lc(2,O,l,d,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,N);return null!==s.queries&&(s.queries.template(s,O),q.queries=s.queries.embeddedTView(O)),O}(O,N,T,s,a,l,d,g,v):N.data[O];oi(q,!1);const J=T[11].createComment("");fg(N,T,J,q),ji(J,T),C_(T,T[O]=Mg(J,T,J,q)),Ba(q)&&Dg(N,T,q),null!=v&&__(T,q,I)}function ev(i){return Pn(function Wa(){return kt.lFrame.contextLView}(),20+i)}function Pl(i,s=Qe.Default){const a=qe();return null===a?It(i,s):ra(jt(),a,de(i),s)}function Wd(){throw new Error("invalid")}function zu(i,s,a){const l=qe();return is(l,no(),s)&&function Oo(i,s,a,l,d,g,v,I){const T=Mt(s,a);let O,N=s.inputs;!I&&null!=N&&(O=N[l])?(N_(i,a,O,l,d),Js(s)&&function Tg(i,s){const a=zn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function GI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=v?v(d,s.value||"",l):d,G(g)?g.setProperty(T,l,d):qn(l)||(T.setProperty?T.setProperty(l,d):T[l]=d))}(en(),or(),l,i,s,l[11],a,!1),zu}function Pf(i,s,a,l,d){const v=d?"class":"style";N_(i,a,s.inputs[v],v,l)}function Kd(i,s,a,l){const d=qe(),g=en(),v=20+i,I=d[11],T=d[v]=Fd(I,s,function hl(){return kt.lFrame.currentNamespace}()),N=g.firstCreatePass?function bC(i,s,a,l,d,g,v){const I=s.consts,N=Tl(s,i,2,d,Xt(I,g));return Ag(s,a,N,Xt(I,v)),null!==N.attrs&&Rg(N,N.attrs,!1),null!==N.mergedAttrs&&Rg(N,N.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,N),N}(v,g,d,0,s,a,l):g.data[v];oi(N,!0);const O=N.mergedAttrs;null!==O&&Je(I,T,O);const q=N.classes;null!==q&&Ud(I,T,q);const J=N.styles;return null!==J&&Y0(I,T,J),64!=(64&N.flags)&&fg(g,d,T,N),0===function Yi(){return kt.lFrame.elementDepthCount}()&&ji(T,d),function ms(){kt.lFrame.elementDepthCount++}(),Ba(N)&&(Dg(g,d,N),function Cg(i,s,a){if(Wo(s)){const d=s.directiveEnd;for(let g=s.directiveStart;g<d;g++){const v=i.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,N,d)),null!==l&&__(d,N),Kd}function Zu(){let i=jt();Tu()?function Jo(){kt.lFrame.isParent=!1}():(i=i.parent,oi(i,!1));const s=i;!function Hr(){kt.lFrame.elementDepthCount--}();const a=en();return a.firstCreatePass&&(es(a,i),Wo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Ut(i){return 0!=(16&i.flags)}(s)&&Pf(a,s,qe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Zt(i){return 0!=(32&i.flags)}(s)&&Pf(a,s,qe(),s.stylesWithoutHost,!1),Zu}function Of(i,s,a,l){return Kd(i,s,a,l),Zu(),Of}function Ff(){return qe()}function Qd(i){return!!i&&"function"==typeof i.then}function Lf(i){return!!i&&"function"==typeof i.subscribe}const cv=Lf;function vr(i,s,a,l){const d=qe(),g=en(),v=jt();return function Zw(i,s,a,l,d,g,v,I){const T=Ba(l),O=i.firstCreatePass&&x_(i),q=s[8],J=S_(s);let ce=!0;if(3&l.type||I){const ht=Mt(l,s),Tt=I?I(ht):ht,ze=J.length,Ot=I?xn=>I(Pe(xn[l.index])):l.index;if(G(a)){let xn=null;if(!I&&T&&(xn=function EC(i,s,a,l){const d=i.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===l){const I=s[7],T=d[g+2];return I.length>T?I[T]:null}"string"==typeof v&&(g+=2)}return null}(i,s,d,l.index)),null!==xn)(xn.__ngLastListenerFn__||xn).__ngNextListenerFn__=g,xn.__ngLastListenerFn__=g,ce=!1;else{g=jc(l,s,q,g,!1);const tr=a.listen(Tt,d,g);J.push(g,tr),O&&O.push(d,Ot,ze,ze+1)}}else g=jc(l,s,q,g,!0),Tt.addEventListener(d,g,v),J.push(g),O&&O.push(d,Ot,ze,v)}else g=jc(l,s,q,g,!1);const Be=l.outputs;let st;if(ce&&null!==Be&&(st=Be[d])){const ht=st.length;if(ht)for(let Tt=0;Tt<ht;Tt+=2){const Bo=s[st[Tt]][st[Tt+1]].subscribe(g),rc=J.length;J.push(g,Bo),O&&O.push(d,l.index,rc,-(rc+1))}}}(g,d,d[11],v,i,s,!!a,l),vr}function Jd(i,s,a,l){try{return!1!==a(l)}catch(d){return R_(i,d),!1}}function jc(i,s,a,l,d){return function g(v){if(v===Function)return l;const I=2&i.flags?zn(i.index,s):s;0==(32&s[2])&&D_(I);let T=Jd(s,0,l,v),N=g.__ngNextListenerFn__;for(;N;)T=Jd(s,0,N,v)&&T,N=N.__ngNextListenerFn__;return d&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function Ww(i=1){return function ro(i){return(kt.lFrame.contextLView=function tu(i,s){for(;i>0;)s=s[15],i--;return s}(i,kt.lFrame.contextLView))[8]}(i)}function gv(i,s,a,l,d){const g=i[a+1],v=null===s;let I=l?yu(g):fo(g),T=!1;for(;0!==I&&(!1===T||v);){const O=i[I+1];mv(i[I],s)&&(T=!0,i[I+1]=l?gg(O):Po(O)),I=l?yu(O):fo(O)}T&&(i[a+1]=l?Po(g):gg(g))}function mv(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&aa(i,s)>=0}function rm(i,s){return function ca(i,s,a,l){const d=qe(),g=en(),v=function Ji(i){const s=kt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);g.firstUpdatePass&&function jf(i,s,a,l){const d=i.data;if(null===d[a+1]){const g=d[cr()],v=function bv(i,s){return s>=i.expandoStartIndex}(i,a);(function Iv(i,s){return 0!=(i.flags&(s?16:32))})(g,l)&&null===s&&!v&&(s=!1),s=function rb(i,s,a,l){const d=function ea(i){const s=kt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let g=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=Qu(a=Hf(null,i,s,a,l),s.attrs,l),g=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==d)if(a=Hf(d,i,s,a,l),null===g){let T=function Yu(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==fo(l))return i[yu(l)]}(i,s,l);void 0!==T&&Array.isArray(T)&&(T=Hf(null,i,s,T[1],l),T=Qu(T,s.attrs,l),function ib(i,s,a,l){i[yu(a?s.classBindings:s.styleBindings)]=l}(i,s,l,T))}else g=function MC(i,s,a){let l;const d=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<d;g++)l=Qu(l,i[g].hostAttrs,a);return Qu(l,s.attrs,a)}(i,s,l)}return void 0!==g&&(l?s.residualClasses=g:s.residualStyles=g),a}(d,g,s,l),function TC(i,s,a,l,d,g){let v=g?s.classBindings:s.styleBindings,I=yu(v),T=fo(v);i[l]=a;let O,N=!1;if(Array.isArray(a)){const q=a;O=q[1],(null===O||aa(q,O)>0)&&(N=!0)}else O=a;if(d)if(0!==T){const J=yu(i[I+1]);i[l+1]=l_(J,I),0!==J&&(i[J+1]=nn(i[J+1],l)),i[I+1]=function NA(i,s){return 131071&i|s<<17}(i[I+1],l)}else i[l+1]=l_(I,0),0!==I&&(i[I+1]=nn(i[I+1],l)),I=l;else i[l+1]=l_(T,0),0===I?I=l:i[T+1]=nn(i[T+1],l),T=l;N&&(i[l+1]=Po(i[l+1])),gv(i,O,l,!0),gv(i,O,l,!1),function Xw(i,s,a,l,d){const g=d?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&aa(g,s)>=0&&(a[l+1]=gg(a[l+1]))}(s,O,i,l,g),v=l_(I,T),g?s.classBindings=v:s.styleBindings=v}(d,g,s,a,v,l)}}(g,i,v,l),s!==vn&&is(d,v,s)&&function Ev(i,s,a,l,d,g,v,I){if(!(3&s.type))return;const T=i.data,N=T[I+1];$c(function Vu(i){return 1==(1&i)}(N)?om(T,s,a,d,fo(N),v):void 0)||($c(g)||function kI(i){return 2==(2&i)}(N)&&(g=om(T,null,a,d,I,v)),function Oe(i,s,a,l,d){const g=G(i);if(s)d?g?i.addClass(a,l):a.classList.add(l):g?i.removeClass(a,l):a.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:Ae.DashCase;if(null==d)g?i.removeStyle(a,l,v):a.style.removeProperty(l);else{const I="string"==typeof d&&d.endsWith("!important");I&&(d=d.slice(0,-10),v|=Ae.Important),g?i.setStyle(a,l,d,v):a.style.setProperty(l,d,I?"important":"")}}}(l,v,Et(cr(),a),d,g))}(g,g.data[cr()],d,d[11],i,d[v+1]=function RC(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Re(ua(i)))),i}(s,a),l,v)}(i,s,null,!0),rm}function Hf(i,s,a,l,d){let g=null;const v=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<v&&(g=s[I],l=Qu(l,g.hostAttrs,d),g!==i);)I++;return null!==i&&(a.directiveStylingLast=I),l}function Qu(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let g=0;g<s.length;g++){const v=s[g];"number"==typeof v?d=v:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Xr(i,v,!!a||s[++g]))}return void 0===i?null:i}function om(i,s,a,l,d,g){const v=null===s;let I;for(;d>0;){const T=i[d],N=Array.isArray(T),O=N?T[1]:T,q=null===O;let J=a[d+1];J===vn&&(J=q?Ft:void 0);let ce=q?wc(J,l):O===l?J:void 0;if(N&&!$c(ce)&&(ce=wc(T,l)),$c(ce)&&(I=ce,v))return I;const Be=i[d+1];d=v?yu(Be):fo(Be)}if(null!==s){let T=g?s.residualClasses:s.residualStyles;null!=T&&(I=wc(T,l))}return I}function $c(i){return void 0!==i}function th(i,s=""){const a=qe(),l=en(),d=i+20,g=l.firstCreatePass?Tl(l,d,1,s,null):l.data[d],v=a[d]=function Pd(i,s){return G(i)?i.createText(s):i.createTextNode(s)}(a[11],s);fg(l,a,v,g),oi(g,!1)}function am(i){return $f("",i,""),am}function $f(i,s,a){const l=qe(),d=function Ml(i,s,a,l){return is(i,no(),a)?s+xe(a)+l:vn}(l,i,s,a);return d!==vn&&Fo(l,cr(),d),$f}const Gc=void 0;var Ne=["en",[["a","p"],["AM","PM"],Gc],[["AM","PM"],Gc,Gc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gc,"{1} 'at' {0}",Gc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vt(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ye={};function pm(i){const s=function mb(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=gb(s);if(a)return a;const l=s.split("-")[0];if(a=gb(l),a)return a;if("en"===l)return Ne;throw new Error(`Missing locale data for the locale "${i}".`)}function pb(i){return pm(i)[Yt.PluralCase]}function gb(i){return i in Ye||(Ye[i]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[i]),Ye[i]}var Yt=(()=>((Yt=Yt||{})[Yt.LocaleId=0]="LocaleId",Yt[Yt.DayPeriodsFormat=1]="DayPeriodsFormat",Yt[Yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Yt[Yt.DaysFormat=3]="DaysFormat",Yt[Yt.DaysStandalone=4]="DaysStandalone",Yt[Yt.MonthsFormat=5]="MonthsFormat",Yt[Yt.MonthsStandalone=6]="MonthsStandalone",Yt[Yt.Eras=7]="Eras",Yt[Yt.FirstDayOfWeek=8]="FirstDayOfWeek",Yt[Yt.WeekendRange=9]="WeekendRange",Yt[Yt.DateFormat=10]="DateFormat",Yt[Yt.TimeFormat=11]="TimeFormat",Yt[Yt.DateTimeFormat=12]="DateTimeFormat",Yt[Yt.NumberSymbols=13]="NumberSymbols",Yt[Yt.NumberFormats=14]="NumberFormats",Yt[Yt.CurrencyCode=15]="CurrencyCode",Yt[Yt.CurrencySymbol=16]="CurrencySymbol",Yt[Yt.CurrencyName=17]="CurrencyName",Yt[Yt.Currencies=18]="Currencies",Yt[Yt.Directionality=19]="Directionality",Yt[Yt.PluralCase=20]="PluralCase",Yt[Yt.ExtraData=21]="ExtraData",Yt))();const Ss="en-US";let ni=Ss;function $l(i,s,a,l,d){if(i=de(i),Array.isArray(i))for(let g=0;g<i.length;g++)$l(i[g],s,a,l,d);else{const g=en(),v=qe();let I=ei(i)?i:de(i.provide),T=Tw(i);const N=jt(),O=1048575&N.providerIndexes,q=N.directiveStart,J=N.providerIndexes>>20;if(ei(i)||!i.multi){const ce=new je(T,d,Pl),Be=tp(I,s,d?O:O+J,q);-1===Be?(na(Or(N,v),g,I),ch(g,i,s.length),s.push(I),N.directiveStart++,N.directiveEnd++,d&&(N.providerIndexes+=1048576),a.push(ce),v.push(ce)):(a[Be]=ce,v[Be]=ce)}else{const ce=tp(I,s,O+J,q),Be=tp(I,s,O,O+J),st=ce>=0&&a[ce],ht=Be>=0&&a[Be];if(d&&!ht||!d&&!st){na(Or(N,v),g,I);const Tt=function ha(i,s,a,l,d){const g=new je(i,a,Pl);return g.multi=[],g.index=s,g.componentProviders=0,ep(g,d,l&&!a),g}(d?Uv:Vv,a.length,d,l,T);!d&&ht&&(a[Be].providerFactory=Tt),ch(g,i,s.length,0),s.push(I),N.directiveStart++,N.directiveEnd++,d&&(N.providerIndexes+=1048576),a.push(Tt),v.push(Tt)}else ch(g,i,ce>-1?ce:Be,ep(a[d?Be:ce],T,!d&&l));!d&&l&&ht&&a[Be].componentProviders++}}}function ch(i,s,a,l){const d=ei(s),g=function Al(i){return!!i.useClass}(s);if(d||g){const T=(g?de(s.useClass):s).prototype.ngOnDestroy;if(T){const N=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const O=N.indexOf(a);-1===O?N.push(a,[l,T]):N[O+1].push(l,T)}else N.push(a,T)}}}function ep(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function tp(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function Vv(i,s,a,l){return ql(this.multi,[])}function Uv(i,s,a,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Fs(a,a[1],this.providerFactory.index,l);g=I.slice(0,v),ql(d,g);for(let T=v;T<I.length;T++)g.push(I[T])}else g=[],ql(d,g);return g}function ql(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Bv(i,s=[]){return a=>{a.providersResolver=(l,d)=>function Nb(i,s,a){const l=en();if(l.firstCreatePass){const d=Ir(i);$l(a,l.data,l.blueprint,d,!0),$l(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class jv{}class kb{resolveComponentFactory(s){throw function Hv(i){const s=Error(`No component factory found for ${Re(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let wm=(()=>{class i{}return i.NULL=new kb,i})();function Pb(){return Wc(jt(),qe())}function Wc(i,s){return new dh(Mt(i,s))}let dh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Pb,i})();function bm(i){return i instanceof dh?i.nativeElement:i}class Ob{}let Fb=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Kc(){const i=qe(),a=zn(jt().index,i);return function hh(i){return i[11]}(lr(a)?a:i)}(),i})(),Lb=(()=>{class i{}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:()=>null}),i})();class Gl{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const $v=new Gl("13.3.3"),zl={};function rp(i,s,a,l,d=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&l.push(Pe(g)),Ii(g))for(let I=10;I<g.length;I++){const T=g[I],N=T[1].firstChild;null!==N&&rp(T[1],T,N,l)}const v=a.type;if(8&v)rp(i,s,a.child,l);else if(32&v){const I=Ct(a,s);let T;for(;T=I();)l.push(T)}else if(16&v){const I=K0(s,a);if(Array.isArray(I))l.push(...I);else{const T=Ar(s[16]);rp(T[1],T,I,l,!0)}}a=d?a.projectionNext:a.next}return l}class fh{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return rp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Ii(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Qy(s,l),Ro(a,l))}this._attachedToViewContainer=!1}Jy(this._lView[1],this._lView)}onDestroy(s){hw(this._lView[1],this._lView,null,s)}markForCheck(){D_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Iw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ZA(i,s,a){to(!0);try{Iw(i,s,a)}finally{to(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new He(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cg(i,s){pg(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new He(902,"");this._appRef=s}}class ip extends fh{constructor(s){super(s),this._view=s}detectChanges(){eC(this._view)}checkNoChanges(){!function T_(i){to(!0);try{eC(i)}finally{to(!1)}}(this._view)}get context(){return null}}class Vb extends wm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Tn(s);return new ph(a,this.ngModule)}}function Ub(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class ph extends jv{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function SI(i){return i.map(RA).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Ub(this.componentDef.inputs)}get outputs(){return Ub(this.componentDef.outputs)}create(s,a,l,d){const g=(d=d||this.ngModule)?function Em(i,s){return{get:(a,l,d)=>{const g=i.get(a,zl,d);return g!==zl||l===zl?g:s.get(a,l,d)}}}(s,d.injector):s,v=g.get(Ob,oe),I=g.get(Lb,null),T=v.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",O=l?function dw(i,s,a){if(G(i))return i.selectRootElement(s,a===gn.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(T,l,this.componentDef.encapsulation):Fd(v.createRenderer(null,this.componentDef),N,function _i(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?w:null}(N)),q=this.componentDef.onPush?576:528,J=function Ug(i,s){return{components:[],scheduler:i||Zy,clean:Cw,playerHandler:s||null,flags:0}}(),ce=Lc(0,null,null,1,0,null,null,null,null,null),Be=jd(null,ce,J,q,null,null,v,T,I,g);let st,ht;_s(Be);try{const Tt=function Lg(i,s,a,l,d,g){const v=a[1];a[20]=i;const T=Tl(v,20,2,"#host",null),N=T.mergedAttrs=s.hostAttrs;null!==N&&(Rg(T,N,!0),null!==i&&(Je(d,i,N),null!==T.classes&&Ud(d,i,T.classes),null!==T.styles&&Y0(d,i,T.styles)));const O=l.createRenderer(i,s),q=jd(a,v_(s),null,s.onPush?64:16,a[20],T,l,O,g||null,null);return v.firstCreatePass&&(na(Or(T,a),v,s.type),YI(v,T),QI(T,a.length,1)),C_(a,q),a[20]=q}(O,this.componentDef,Be,v,T);if(O)if(l)Je(T,O,["ng-version",$v.full]);else{const{attrs:ze,classes:Ot}=function xI(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===d?""!==g&&s.push(g,i[++l]):8===d&&a.push(g);else{if(!Sr(d))break;d=g}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ze&&Je(T,O,ze),Ot&&Ot.length>0&&Ud(T,O,Ot.join(" "))}if(ht=rr(ce,20),void 0!==a){const ze=ht.projection=[];for(let Ot=0;Ot<this.ngContentSelectors.length;Ot++){const xn=a[Ot];ze.push(null!=xn?Array.from(xn):null)}}st=function Vg(i,s,a,l,d){const g=a[1],v=function ZI(i,s,a){const l=jt();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ww(i,l,s,Hd(i,s,1,null),a));const d=Fs(s,i,l.directiveStart,l);ji(d,s);const g=Mt(l,s);return g&&ji(g,s),d}(g,a,s);if(l.components.push(v),i[8]=v,d&&d.forEach(T=>T(v,s)),s.contentQueries){const T=jt();s.contentQueries(1,v,T.directiveStart)}const I=jt();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(vs(I.index),w_(a[1],I,0,I.directiveStart,I.directiveEnd,s),WI(s,v)),v}(Tt,this.componentDef,Be,J,[uC]),bf(ce,Be,null)}finally{Ao()}return new rD(this.componentType,st,Wc(ht,Be),Be,ht)}}class rD extends class np{}{constructor(s,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new ip(d),this.componentType=s}get injector(){return new Ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Yc{}class gh{}const fa=new Map;class di extends Yc{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Vb(this);const l=Rn(s);this._bootstrapComponents=m(l.bootstrap),this._r3Injector=If(s,a,[{provide:Yc,useValue:this},{provide:wm,useValue:this.componentFactoryResolver}],Re(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=xa.THROW_IF_NOT_FOUND,l=Qe.Default){return s===xa||s===Yc||s===P_?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Ln extends gh{constructor(s){super(),this.moduleType=s,null!==Rn(s)&&function Hb(i){const s=new Set;!function a(l){const d=Rn(l,!0),g=d.id;null!==g&&(function qv(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${Re(s)} vs ${Re(s.name)}`)}(g,fa.get(g),l),fa.set(g,l));const v=m(d.imports);for(const I of v)s.has(I)||(s.add(I),a(I))}(i)}(s)}create(s){return new di(this.moduleType,s)}}function zb(i,s,a,l,d,g){const v=s+a;return is(i,v,d)?function Ra(i,s,a){return i[s]=a}(i,v+1,g?l.call(g,d):l(d)):function xs(i,s){const a=i[s];return a===vn?void 0:a}(i,v+1)}function er(i,s){const a=en();let l;const d=i+20;a.firstCreatePass?(l=function oD(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const g=l.factory||(l.factory=si(l.type)),v=Nr(Pl);try{const I=ws(!1),T=g();return ws(I),function X_(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,qe(),d,T),T}finally{Nr(v)}}function sp(i,s,a){const l=i+20,d=qe(),g=Pn(d,l);return function _h(i,s){return i[1].data[s].pure}(d,l)?zb(d,function Jr(){const i=kt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),s,g.transform,a,g):g.transform(a)}function Gv(i){return s=>{setTimeout(i,void 0,s)}}const ka=class Yb extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var d,g,v;let I=s,T=a||(()=>null),N=l;if(s&&"object"==typeof s){const q=s;I=null===(d=q.next)||void 0===d?void 0:d.bind(q),T=null===(g=q.error)||void 0===g?void 0:g.bind(q),N=null===(v=q.complete)||void 0===v?void 0:v.bind(q)}this.__isAsync&&(T=Gv(T),I&&(I=Gv(I)),N&&(N=Gv(N)));const O=super.subscribe({next:I,error:T,complete:N});return s instanceof te.w0&&s.add(O),O}};function Qb(){return this._results[Hu()]()}class zv{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Hu(),l=zv.prototype;l[a]||(l[a]=Qb)}get changes(){return this._changes||(this._changes=new ka)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=mi(s);(this._changesDetected=!function gc(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],g=s[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let up=(()=>{class i{}return i.__NG_ELEMENT_ID__=Jb,i})();const aD=up,lp=class extends aD{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=jd(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),bf(a,l,s),new fh(l)}};function Jb(){return Sm(jt(),qe())}function Sm(i,s){return 4&i.type?new lp(s,i,Wc(i,s)):null}let fi=(()=>{class i{}return i.__NG_ELEMENT_ID__=Zv,i})();function Zv(){return Wv(jt(),qe())}const Xb=fi,vh=class extends Xb{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Wc(this._hostTNode,this._hostLView)}get injector(){return new Ls(this._hostTNode,this._hostLView)}get parentInjector(){const s=bs(this._hostTNode,this._hostLView);if(ta(s)){const a=Os(s,this._hostLView),l=Fn(s);return new Ls(a[1].data[l+8],a)}return new Ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Pa(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,g){const v=s&&!function lu(i){return"function"==typeof i}(s);let I;if(v)I=a;else{const q=a||{};I=q.index,l=q.injector,d=q.projectableNodes,g=q.ngModuleRef}const T=v?s:new ph(Tn(s)),N=l||this.parentInjector;if(!g&&null==T.ngModule){const J=(v?N:this.parentInjector).get(Yc,null);J&&(g=J)}const O=T.create(N,d,void 0,g);return this.insert(O.hostView,I),O}insert(s,a){const l=s._lView,d=l[1];if(function jr(i){return Ii(i[3])}(l)){const O=this.indexOf(s);if(-1!==O)this.detach(O);else{const q=l[3],J=new vh(q,q[6],q[3]);J.detach(J.indexOf(s))}}const g=this._adjustIndex(a),v=this._lContainer;!function dg(i,s,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=s),l<g-10?(s[4]=a[d],mc(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function Ld(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(v,s);const I=s[19];null!==I&&I.insertView(i),s[2]|=128}(d,l,v,g);const I=r_(g,v),T=l[11],N=gf(T,v[7]);return null!==N&&function pf(i,s,a,l,d,g){l[0]=d,l[6]=s,pg(i,l,a,1,d,g)}(d,v[6],T,l,N,I),s.attachToViewContainerRef(),mc(cp(v),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Pa(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Qy(this._lContainer,a);l&&(Ro(cp(this._lContainer),a),Jy(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Qy(this._lContainer,a);return l&&null!=Ro(cp(this._lContainer),a)?new fh(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Pa(i){return i[8]}function cp(i){return i[8]||(i[8]=[])}function Wv(i,s){let a;const l=s[i.index];if(Ii(l))a=l;else{let d;if(8&i.type)d=Pe(l);else{const g=s[11];d=g.createComment("");const v=Mt(i,s);ko(g,gf(g,v),d,function EI(i,s){return G(i)?i.nextSibling(s):s.nextSibling}(g,v),!1)}s[i.index]=a=Mg(l,s,d,i),C_(s,a)}return new vh(a,i,s)}class xm{constructor(s){this.queryList=s,this.matches=null}clone(){return new xm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new Kv(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Ms(s,a).matches&&this.queries[a].setDirty()}}class tE{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Qc{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(s,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Qc(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class hp{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new hp(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(s,a,lD(a,g)),this.matchTNodeWithReadOption(s,a,iu(a,s,g,!1,!1))}else l===up?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,iu(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===dh||d===fi||d===up&&4&a.type)this.addMatch(a.index,-2);else{const g=iu(a,s,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function lD(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function rE(i,s,a,l){return-1===a?function nE(i,s){return 11&i.type?Wc(i,s):4&i.type?Sm(i,s):null}(s,i):-2===a?function iE(i,s,a){return a===dh?Wc(s,i):a===up?Sm(s,i):a===fi?Wv(s,i):void 0}(i,s,l):Fs(i,i[1],a,s)}function sE(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const g=i.data,v=a.matches,I=[];for(let T=0;T<v.length;T+=2){const N=v[T];I.push(N<0?null:rE(s,g[N],v[T+1],a.metadata.read))}d.matches=I}return d.matches}function Mm(i,s,a,l){const d=i.queries.getByIndex(a),g=d.matches;if(null!==g){const v=sE(i,s,d,a);for(let I=0;I<g.length;I+=2){const T=g[I];if(T>0)l.push(v[I/2]);else{const N=g[I+1],O=s[-T];for(let q=10;q<O.length;q++){const J=O[q];J[17]===J[3]&&Mm(J[1],J,N,l)}if(null!==O[9]){const q=O[9];for(let J=0;J<q.length;J++){const ce=q[J];Mm(ce[1],ce,N,l)}}}}}return l}function oE(i){const s=qe(),a=en(),l=Ja();Xa(l+1);const d=Ms(a,l);if(i.dirty&&Dn(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const g=d.crossesNgTemplate?Mm(a,s,l,[]):sE(a,s,d,l);i.reset(g,bm),i.notifyOnChanges()}return!0}return!1}function Jc(i,s,a,l){const d=en();if(d.firstCreatePass){const g=jt();(function uE(i,s,a){null===i.queries&&(i.queries=new Qc),i.queries.track(new hp(s,a))})(d,new tE(s,a,l),g.index),function lE(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function aE(i,s,a){const l=new zv(4==(4&a));hw(i,s,l,l.destroy),null===s[19]&&(s[19]=new Kv),s[19].queries.push(new xm(l))}(d,qe(),a)}function Xc(){return function dD(i,s){return i[19].queries[s].queryList}(qe(),Ja())}function Ms(i,s){return i.queries.getByIndex(s)}function jm(...i){}const r0=new Dr("Application Initializer");let mp=(()=>{class i{constructor(a){this.appInits=a,this.resolve=jm,this.reject=jm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Qd(g))a.push(g);else if(cv(g)){const v=new Promise((I,T)=>{g.subscribe({complete:I,error:T})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(It(r0,8))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ih=new Dr("AppId",{providedIn:"root",factory:function Kl(){return`${Hm()}${Hm()}${Hm()}`}});function Hm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bE=new Dr("Platform Initializer"),DD=new Dr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),EE=new Dr("appBootstrapListener");let Yl=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const qm=new Dr("LocaleId",{providedIn:"root",factory:()=>yn(qm,Qe.Optional|Qe.SkipSelf)||function td(){return"undefined"!=typeof $localize&&$localize.locale||Ss}()}),TD=new Dr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class AD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let CE=(()=>{class i{compileModuleSync(a){return new Ln(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=m(Rn(a).declarations).reduce((v,I)=>{const T=Tn(I);return T&&v.push(new ph(T)),v},[]);return new AD(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Gm=(()=>Promise.resolve(0))();function zm(i){"undefined"==typeof Zone?Gm.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class pa{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ka(!1),this.onMicrotaskEmpty=new ka(!1),this.onStable=new ka(!1),this.onError=new ka(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function mo(){let i=Cn.requestAnimationFrame,s=Cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Ql(i){const s=()=>{!function DE(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Cn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Jl(i),i.isCheckStableRunning=!0,vp(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Jl(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,v,I)=>{try{return o0(i),a.invokeTask(d,g,v,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),Xl(i)}},onInvoke:(a,l,d,g,v,I,T)=>{try{return o0(i),a.invoke(d,g,v,I,T)}finally{i.shouldCoalesceRunChangeDetection&&s(),Xl(i)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Jl(i),vp(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,s,Zm,jm,jm);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const Zm={};function vp(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Jl(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function o0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Xl(i){i._nesting--,vp(i)}class SD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ka,this.onMicrotaskEmpty=new ka,this.onStable=new ka,this.onError=new ka}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let nd=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pa.assertNotInAngularZone(),zm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(It(pa))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac}),i})(),TE=(()=>{class i{constructor(){this._applications=new Map,wp.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return wp.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class ec{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function rd(i){wp=i}let ga,wp=new ec;const AE=new Dr("AllowMultipleToken");class Wm{constructor(s,a){this.name=s,this.token=a}}function xE(i,s,a=[]){const l=`Platform: ${s}`,d=new Dr(l);return(g=[])=>{let v=tc();if(!v||v.injector.get(AE,!1))if(i)i(a.concat(g).concat({provide:d,useValue:!0}));else{const I=a.concat(g).concat({provide:d,useValue:!0},{provide:Ng,useValue:"platform"});!function SE(i){if(ga&&!ga.destroyed&&!ga.injector.get(AE,!1))throw new He(400,"");ga=i.get(bp);const s=i.get(bE,null);s&&s.forEach(a=>a())}(xa.create({providers:I,name:l}))}return function RD(i){const s=tc();if(!s)throw new He(401,"");return s}()}}function tc(){return ga&&!ga.destroyed?ga:null}let bp=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const I=function ME(i,s){let a;return a="noop"===i?new SD:("zone.js"===i?void 0:i)||new pa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),T=[{provide:pa,useValue:I}];return I.run(()=>{const N=xa.create({providers:T,parent:this.injector,name:a.moduleType.name}),O=a.create(N),q=O.injector.get(Ri,null);if(!q)throw new He(402,"");return I.runOutsideAngular(()=>{const J=I.onError.subscribe({next:ce=>{q.handleError(ce)}});O.onDestroy(()=>{Ep(this._modules,O),J.unsubscribe()})}),function RE(i,s,a){try{const l=a();return Qd(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(q,I,()=>{const J=O.injector.get(mp);return J.runInitializers(),J.donePromise.then(()=>(function rn(i){Nt(i,"Expected localeId to be defined"),"string"==typeof i&&(ni=i.toLowerCase().replace(/_/g,"-"))}(O.injector.get(qm,Ss)||Ss),this._moduleDoBootstrap(O),O))})})}bootstrapModule(a,l=[]){const d=NE({},l);return function xD(i,s,a){const l=new Ln(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(Km);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new He(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(It(xa))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function NE(i,s){return Array.isArray(s)?s.reduce(NE,i):Object.assign(Object.assign({},i),s)}let Km=(()=>{class i{constructor(a,l,d,g){this._zone=a,this._injector=l,this._exceptionHandler=d,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new H.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),I=new H.y(T=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{pa.assertNotInAngularZone(),zm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{pa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{N.unsubscribe(),O.unsubscribe()}});this.isStable=(0,ve.T)(v,I.pipe((0,fe.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new He(405,"");let d;d=a instanceof jv?a:this._injector.get(wm).resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function MD(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Yc),I=d.create(xa.NULL,[],l||d.selector,g),T=I.location.nativeElement,N=I.injector.get(nd,null),O=N&&I.injector.get(TE);return N&&O&&O.registerApplication(T,N),I.onDestroy(()=>{this.detachView(I.hostView),Ep(this.components,I),O&&O.unregisterApplication(T)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new He(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Ep(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(EE,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(It(pa),It(xa),It(Ri),It(mp))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ep(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Cp=!0,Qm=!1;function kD(){return Qm=!0,Cp}function a0(){if(Qm)throw new Error("Cannot enable prod mode after platform setup.");Cp=!1}let kE=(()=>{class i{}return i.__NG_ELEMENT_ID__=l0,i})();function l0(i){return function OD(i,s,a){if(Js(i)&&!a){const l=zn(i.index,s);return new fh(l,l)}return 47&i.type?new fh(s[16],s):null}(jt(),qe(),16==(16&i))}class FE{constructor(){}supports(s){return Bc(s)}create(s){return new UD(s)}}const VD=(i,s)=>s;class UD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||VD}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<Xm(l,d,g)?a:l,I=Xm(v,d,g),T=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const N=I-d,O=T-d;if(N!=O){for(let J=0;J<N;J++){const ce=J<g.length?g[J]:g[J]=0,Be=ce+J;O<=Be&&Be<N&&(g[J]=ce+1)}g[v.previousIndex]=O-N}}I!==T&&s(v,I,T)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Bc(s))throw new He(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,g,v,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)g=s[I],v=this._trackByFn(I,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,I)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,I),l=!0),a=a._next}else d=0,function K_(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Hu()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,I=>{v=this._trackByFn(d,I),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,I,v,d)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,d)):s=this._addAfter(new g0(a,l),g,d),s}_verifyReinsertion(s,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?s=this._reinsertAfter(g,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,g=s._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new m0),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new m0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class g0{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class m0{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new LE,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xm(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class Ap{constructor(){}supports(s){return s instanceof Map||Hg(s)}create(){return new Sp}}class Sp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Hg(s)))throw new He(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new ey(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class ey{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ty(){return new xp([new FE])}let xp=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||ty()),deps:[[i,new Ca,new Cs]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new He(901,"")}}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:ty}),i})();function y0(){return new _0([new Ap])}let _0=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||y0()),deps:[[i,new Ca,new Cs]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new He(901,"")}}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:y0}),i})();const BE=xE(null,"core",[]);let ny=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(It(Km))},i.\u0275mod=he({type:i}),i.\u0275inj=kn({}),i})()},3942:(Rt,Ze,$)=>{"use strict";$.d(Ze,{Z:()=>He});var c=$(2090),te=$(4859),H=$(9681),ve=$(1877);class fe{constructor(xe,_e){this._delegate=xe,this.firebase=_e,(0,H._addComponent)(xe,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(xe,_e=H._DEFAULT_ENTRY_NAME){var bt;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(xe);return!yt.isInitialized()&&"EXPLICIT"===(null===(bt=yt.getComponent())||void 0===bt?void 0:bt.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:_e})}_removeServiceInstance(xe,_e=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(_e)}_addComponent(xe){(0,H._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,H._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function Te(){const Le=function Re(Le){const xe={},_e={__esModule:!0,initializeApp:function $e(at,pe={}){const ue=H.initializeApp(at,pe);if((0,c.r3)(xe,ue.name))return xe[ue.name];const be=new Le(ue,_e);return xe[ue.name]=be,be},app:yt,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function D(at){const pe=at.name,ue=pe.replace("-compat","");if(H._registerComponent(at)&&"PUBLIC"===at.type){const be=(Ce=yt())=>{if("function"!=typeof Ce[ue])throw Ie.create("invalid-app-argument",{appName:pe});return Ce[ue]()};void 0!==at.serviceProps&&(0,c.ZB)(be,at.serviceProps),_e[ue]=be,Le.prototype[ue]=function(...Ce){return this._getService.bind(this,pe).apply(this,at.multipleInstances?Ce:[])}}return"PUBLIC"===at.type?_e[ue]:null},removeApp:function bt(at){delete xe[at]},useAsService:function ct(at,pe){return"serverAuth"===pe?null:pe},modularAPIs:H}};function yt(at){if(!(0,c.r3)(xe,at=at||H._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:at});return xe[at]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function Ve(){return Object.keys(xe).map(at=>xe[at])}}),yt.App=Le,_e}(fe);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function xe(_e){(0,c.ZB)(Le,_e)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Le}(),ee=new ve.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=X;!function Ke(Le){(0,H.registerVersion)("@firebase/app-compat","0.1.22",Le)}()},9681:(Rt,Ze,$)=>{"use strict";$.r(Ze),$.d(Ze,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>pi,_DEFAULT_ENTRY_NAME:()=>hr,_addComponent:()=>Gn,_addOrOverwriteComponent:()=>Wr,_apps:()=>$t,_clearComponents:()=>En,_components:()=>bn,_getProvider:()=>cs,_registerComponent:()=>Mn,_removeServiceInstance:()=>kn,deleteApp:()=>bi,getApp:()=>nr,getApps:()=>wi,initializeApp:()=>ds,onLog:()=>Lr,registerVersion:()=>Kn,setLogLevel:()=>Nr});var c=$(5861),te=$(4859),H=$(1877),ve=$(2090);class fe{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function Me(_t){const Ge=_t.getComponent();return"VERSION"===(null==Ge?void 0:Ge.type)}(wt)){const Lt=wt.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(wt=>wt).join(" ")}}const Ie="@firebase/app",Te=new H.Yd("@firebase/app"),hr="[DEFAULT]",Nt={[Ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$t=new Map,bn=new Map;function Gn(_t,Ge){try{_t.container.addComponent(Ge)}catch(wt){Te.debug(`Component ${Ge.name} failed to register with FirebaseApp ${_t.name}`,wt)}}function Wr(_t,Ge){_t.container.addOrOverwriteComponent(Ge)}function Mn(_t){const Ge=_t.name;if(bn.has(Ge))return Te.debug(`There were multiple attempts to register component ${Ge}.`),!1;bn.set(Ge,_t);for(const wt of $t.values())Gn(wt,_t);return!0}function cs(_t,Ge){const wt=_t.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),_t.container.getProvider(Ge)}function kn(_t,Ge,wt=hr){cs(_t,Ge).clearInstance(wt)}function En(){bn.clear()}const fr=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Zs{constructor(Ge,wt,Lt){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const pi="9.6.11";function ds(_t,Ge={}){"object"!=typeof Ge&&(Ge={name:Ge});const wt=Object.assign({name:hr,automaticDataCollectionEnabled:!1},Ge),Lt=wt.name;if("string"!=typeof Lt||!Lt)throw fr.create("bad-app-name",{appName:String(Lt)});const ln=$t.get(Lt);if(ln){if((0,ve.vZ)(_t,ln.options)&&(0,ve.vZ)(wt,ln.config))return ln;throw fr.create("duplicate-app",{appName:Lt})}const sn=new te.H0(Lt);for(const W of bn.values())sn.addComponent(W);const Q=new Zs(_t,wt,sn);return $t.set(Lt,Q),Q}function nr(_t=hr){const Ge=$t.get(_t);if(!Ge)throw fr.create("no-app",{appName:_t});return Ge}function wi(){return Array.from($t.values())}function bi(_t){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(_t){const Ge=_t.name;$t.has(Ge)&&($t.delete(Ge),yield Promise.all(_t.container.getProviders().map(wt=>wt.delete())),_t.isDeleted=!0)})).apply(this,arguments)}function Kn(_t,Ge,wt){var Lt;let ln=null!==(Lt=Nt[_t])&&void 0!==Lt?Lt:_t;wt&&(ln+=`-${wt}`);const sn=ln.match(/\s|\//),Q=Ge.match(/\s|\//);if(sn||Q){const W=[`Unable to register library "${ln}" with version "${Ge}":`];return sn&&W.push(`library name "${ln}" contains illegal characters (whitespace or "/")`),sn&&Q&&W.push("and"),Q&&W.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void Te.warn(W.join(" "))}Mn(new te.wA(`${ln}-version`,()=>({library:ln,version:Ge}),"VERSION"))}function Lr(_t,Ge){if(null!==_t&&"function"!=typeof _t)throw fr.create("invalid-log-argument");(0,H.Am)(_t,Ge)}function Nr(_t){(0,H.Ub)(_t)}const Xn="firebase-heartbeat-store";let ar=null;function Kr(){return ar||(ar=(0,ve.X3)("firebase-heartbeat-database",1,(_t,Ge)=>{0===Ge&&_t.createObjectStore(Xn)}).catch(_t=>{throw fr.create("storage-open",{originalErrorMessage:_t.message})})),ar}function gn(){return(gn=(0,c.Z)(function*(_t){try{return(yield Kr()).transaction(Xn).objectStore(Xn).get(Vr(_t))}catch(Ge){throw fr.create("storage-get",{originalErrorMessage:Ge.message})}})).apply(this,arguments)}function xt(_t,Ge){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(_t,Ge){try{const Lt=(yield Kr()).transaction(Xn,"readwrite");return yield Lt.objectStore(Xn).put(Ge,Vr(_t)),Lt.complete}catch(wt){throw fr.create("storage-set",{originalErrorMessage:wt.message})}})).apply(this,arguments)}function Vr(_t){return`${_t.name}!${_t.options.appId}`}class Pi{constructor(Ge){this.container=Ge,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new Ft(wt),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var Ge=this;return(0,c.Z)(function*(){const Lt=Ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ln=br();if(null===Ge._heartbeatsCache&&(Ge._heartbeatsCache=yield Ge._heartbeatsCachePromise),Ge._heartbeatsCache.lastSentHeartbeatDate!==ln&&!Ge._heartbeatsCache.heartbeats.some(sn=>sn.date===ln))return Ge._heartbeatsCache.heartbeats.push({date:ln,agent:Lt}),Ge._heartbeatsCache.heartbeats=Ge._heartbeatsCache.heartbeats.filter(sn=>{const Q=new Date(sn.date).valueOf();return Date.now()-Q<=2592e6}),Ge._storage.overwrite(Ge._heartbeatsCache)})()}getHeartbeatsHeader(){var Ge=this;return(0,c.Z)(function*(){if(null===Ge._heartbeatsCache&&(yield Ge._heartbeatsCachePromise),null===Ge._heartbeatsCache||0===Ge._heartbeatsCache.heartbeats.length)return"";const wt=br(),{heartbeatsToSend:Lt,unsentEntries:ln}=function Ur(_t,Ge=1024){const wt=[];let Lt=_t.slice();for(const ln of _t){const sn=wt.find(Q=>Q.agent===ln.agent);if(sn){if(sn.dates.push(ln.date),Yn(wt)>Ge){sn.dates.pop();break}}else if(wt.push({agent:ln.agent,dates:[ln.date]}),Yn(wt)>Ge){wt.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:wt,unsentEntries:Lt}}(Ge._heartbeatsCache.heartbeats),sn=(0,ve.L)(JSON.stringify({version:2,heartbeats:Lt}));return Ge._heartbeatsCache.lastSentHeartbeatDate=wt,ln.length>0?(Ge._heartbeatsCache.heartbeats=ln,yield Ge._storage.overwrite(Ge._heartbeatsCache)):(Ge._heartbeatsCache.heartbeats=[],Ge._storage.overwrite(Ge._heartbeatsCache)),sn})()}}function br(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(Ge){this.app=Ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ge=this;return(0,c.Z)(function*(){return(yield Ge._canUseIndexedDBPromise)&&(yield function Zi(_t){return gn.apply(this,arguments)}(Ge.app))||{heartbeats:[]}})()}overwrite(Ge){var wt=this;return(0,c.Z)(function*(){var Lt;if(yield wt._canUseIndexedDBPromise){const sn=yield wt.read();return xt(wt.app,{lastSentHeartbeatDate:null!==(Lt=Ge.lastSentHeartbeatDate)&&void 0!==Lt?Lt:sn.lastSentHeartbeatDate,heartbeats:Ge.heartbeats})}})()}add(Ge){var wt=this;return(0,c.Z)(function*(){var Lt;if(yield wt._canUseIndexedDBPromise){const sn=yield wt.read();return xt(wt.app,{lastSentHeartbeatDate:null!==(Lt=Ge.lastSentHeartbeatDate)&&void 0!==Lt?Lt:sn.lastSentHeartbeatDate,heartbeats:[...sn.heartbeats,...Ge.heartbeats]})}})()}}function Yn(_t){return(0,ve.L)(JSON.stringify({version:2,heartbeats:_t})).length}!function Gt(_t){Mn(new te.wA("platform-logger",Ge=>new fe(Ge),"PRIVATE")),Mn(new te.wA("heartbeat",Ge=>new Pi(Ge),"PRIVATE")),Kn(Ie,"0.7.21",_t),Kn(Ie,"0.7.21","esm2017"),Kn("fire-js","")}("")},4859:(Rt,Ze,$)=>{"use strict";$.d(Ze,{H0:()=>Re,wA:()=>H});var c=$(5861),te=$(2090);class H{constructor(X,ee,de){this.name=X,this.instanceFactory=ee,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const ve="[DEFAULT]";class fe{constructor(X,ee){this.name=X,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const ee=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(ee)){const de=new te.BH;if(this.instancesDeferred.set(ee,de),this.isInitialized(ee)||this.shouldAutoInitialize())try{const mt=this.getOrInitializeService({instanceIdentifier:ee});mt&&de.resolve(mt)}catch(mt){}}return this.instancesDeferred.get(ee).promise}getImmediate(X){var ee;const de=this.normalizeInstanceIdentifier(null==X?void 0:X.identifier),mt=null!==(ee=null==X?void 0:X.optional)&&void 0!==ee&&ee;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(mt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(Ke){if(mt)return null;throw Ke}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Ie(Te){return"EAGER"===Te.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:ve})}catch(ee){}for(const[ee,de]of this.instancesDeferred.entries()){const mt=this.normalizeInstanceIdentifier(ee);try{const Ke=this.getOrInitializeService({instanceIdentifier:mt});de.resolve(Ke)}catch(Ke){}}}}clearInstance(X=ve){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,c.Z)(function*(){const ee=Array.from(X.instances.values());yield Promise.all([...ee.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...ee.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=ve){return this.instances.has(X)}getOptions(X=ve){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:ee={}}=X,de=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const mt=this.getOrInitializeService({instanceIdentifier:de,options:ee});for(const[Ke,He]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(Ke)&&He.resolve(mt);return mt}onInit(X,ee){var de;const mt=this.normalizeInstanceIdentifier(ee),Ke=null!==(de=this.onInitCallbacks.get(mt))&&void 0!==de?de:new Set;Ke.add(X),this.onInitCallbacks.set(mt,Ke);const He=this.instances.get(mt);return He&&X(He,mt),()=>{Ke.delete(X)}}invokeOnInitCallbacks(X,ee){const de=this.onInitCallbacks.get(ee);if(de)for(const mt of de)try{mt(X,ee)}catch(Ke){}}getOrInitializeService({instanceIdentifier:X,options:ee={}}){let de=this.instances.get(X);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=X,Te===ve?void 0:Te),options:ee}),this.instances.set(X,de),this.instancesOptions.set(X,ee),this.invokeOnInitCallbacks(de,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,de)}catch(mt){}var Te;return de||null}normalizeInstanceIdentifier(X=ve){return this.component?this.component.multipleInstances?X:ve:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const ee=this.getProvider(X.name);if(ee.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);ee.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const ee=new fe(X,this);return this.providers.set(X,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(Rt,Ze,$)=>{"use strict";$.d(Ze,{Am:()=>Te,Ub:()=>Re,Yd:()=>Ie,in:()=>te});const c=[];var te=(()=>{return(X=te||(te={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",te;var X})();const H={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ve=te.INFO,fe={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},Me=(X,ee,...de)=>{if(ee<X.logLevel)return;const mt=(new Date).toISOString(),Ke=fe[ee];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Ke](`[${mt}]  ${X.name}:`,...de)};class Ie{constructor(ee){this.name=ee,this._logLevel=ve,this._logHandler=Me,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in te))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?H[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...ee),this._logHandler(this,te.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...ee),this._logHandler(this,te.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,te.INFO,...ee),this._logHandler(this,te.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,te.WARN,...ee),this._logHandler(this,te.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...ee),this._logHandler(this,te.ERROR,...ee)}}function Re(X){c.forEach(ee=>{ee.setLogLevel(X)})}function Te(X,ee){for(const de of c){let mt=null;ee&&ee.level&&(mt=H[ee.level]),de.userLogHandler=null===X?null:(Ke,He,...Le)=>{const xe=Le.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(bt){return null}}).filter(_e=>_e).join(" ");He>=(null!=mt?mt:Ke.logLevel)&&X({level:te[He].toLowerCase(),message:xe,args:Le,type:Ke.name})}}}},5861:(Rt,Ze,$)=>{"use strict";function c(H,ve,fe,Me,Ie,Re,Te){try{var X=H[Re](Te),ee=X.value}catch(de){return void fe(de)}X.done?ve(ee):Promise.resolve(ee).then(Me,Ie)}function te(H){return function(){var ve=this,fe=arguments;return new Promise(function(Me,Ie){var Re=H.apply(ve,fe);function Te(ee){c(Re,Me,Ie,Te,X,"next",ee)}function X(ee){c(Re,Me,Ie,Te,X,"throw",ee)}Te(void 0)})}}$.d(Ze,{Z:()=>te})}},Rt=>{Rt(Rt.s=8419)}]);